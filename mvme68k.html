<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/mvme68k</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/mvme68k page">
<meta name="keywords" content="openbsd,mvme68k">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2008 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/mvme68k</font></h2>

<hr>

<p>
OpenBSD/mvme68k runs on a large subset of Motorola's 680x0-based VME
motherboard family.

<p>
There is currently no maintainer for the mvme68k port.

<a name="toc"></a>
<h3><font color="#0000e0"><i>Table of contents</i></font></h3>
<p>
<ul>
  <li><a href="#history">History of the port</a>
  <li><a href="#status">Current status</a>
  <li><a href="#projects">Project list</a>
  <li><a href="#hardware">Supported hardware</a>
  <li><a href="#install">Getting and installing OpenBSD/mvme68k</a>
  <li><a href="#details">Hardware details</a>
</ul>

<hr>
<a name="history"></a>
<h3><font color="#0000e0"><strong>History:</strong></font></h3>

<p>
This port was primarily done by Theo de Raadt in 1995 as a contract to
Willowglen Singapore.  An earlier port to the MVME147 by Chuck Cranor
based on Paul Mackerras' old DA30 code (and using hardware donated by
Jonathan Levine at Theo's request) provided a solid development
platform.

<p>
Bizarrely, Dale Rahn, working for Motorola back then, also independently
wrote a port to the MVME147.  For most kernel parts, both their ports were
analyzed but more code was written from scratch by Theo, or based on the
hp300 code.

<p>
Dale helped significantly during the porting to the 68040
models and wrote most of the code specific to the MVME167 model.
Later, Steve Murphree continued work and made the MVME177 work, as well as
adding support for more VME devices.

<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Current status:</strong></font></h3>

<p>
Currently, all the boards listed in the
<a href="#hardware">supported hardware</a> section below boot
multi-user, and support enough of the on-board devices to be generally
usable.

<p>
OpenBSD/mvme68k is able to run sun3 SunOS binaries via the
<strong>COMPAT_SUNOS</strong> kernel option.
Thus, the MVME177 board is probably the fastest machine capable of running
SunOS m68k binaries!

<p>
As none of the mvme68k boards have graphics devices, and none of the Motorola
VME frame buffers are currently supported, there are no X Window System servers
available.
However, a complete set of X clients and utilities is available,
allowing OpenBSD/mvme68k machines to behave as X11 font servers, or run
X clients on remote display.

<hr>
<a name="projects"></a>
<h3><font color="#0000e0"><strong>Project list (in no particular order):
</strong></font></h3>

<p>
<ul>
  <li>Work on unsupported device cards (such as MVME374)
</ul>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong>Supported hardware:</strong></font></h3>

<p>
<h4>Supported processor boards</h4>

<p>
<ul>
<li><strong>MVME141</strong> (68030)<br>
Both VME and VSB memory boards are supported, such as MVME224 boards.
All the on-board devices are supported, except for the VSB controller.
<li><strong>MVME147</strong> (68030)<br>
All the on-board devices are supported, except for the parallel port.
<li><strong>MVME162</strong> (68040)<br>
Almost all the on-board devices are supported, with the following exceptions:
<ul>
<li>VME bus support is untested
<li>Parity and ECC memory are not supported (but memory works just fine!)
<li>Flash driver not working
<li>IP module driver untested
</ul>
<li><strong>MVME165</strong> (68040)<br>
All the on-board devices are supported, except for the VSB controller.
<li><strong>MVME167</strong> (68040)<br>
Works as well as the MVME162, and the parallel port is not supported.
<li><strong>MVME172</strong> (68060)<br>
Works as well as the MVME162.
<li><strong>MVME177</strong> (68060)<br>
Works as well as the MVME167.
</ul>

<p>
Faithful clones of these boards, or other Motorola models may work as well
(MVME166, for example).

<p>
<h4>Supported extension boards</h4>

<p>
<ul>
  <li><strong>MVME327A</strong> SCSI and floppy Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vsbic&amp;sektion=4&amp;arch=mvme68k">vsbic</a>),
currently limited to the SCSI interface
  <li><strong>MVME328</strong> High Performance SCSI Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vs&amp;sektion=4&amp;arch=mvme68k">vs</a>)
  <li><strong>MVME376</strong> Ethernet Communications Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=le&amp;sektion=4&amp;arch=mvme68k">le</a>)
</ul>

<hr>
<a name="install"></a>
<h3><font color="#0000e0">
<strong>Getting and installing OpenBSD/mvme68k:</strong>
</font></h3>

<p>
The latest supported OpenBSD/mvme68k release is
<a href="46.html">OpenBSD 4.6</a>.
Here are the
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/4.6/mvme68k/INSTALL.mvme68k">
OpenBSD/mvme68k 4.6 installation instructions
</a>.

<p>
Snapshots are made available from time to time, in
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/mvme68k">this location</a>
as well as in a few
<a href="ftp.html">mirrors</a>.
Here are the
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/mvme68k/INSTALL.mvme68k">
OpenBSD/mvme68k snapshot installation instructions
</a> as well.

<hr>
<a name="details"></a>
<h3><font color="#0000e0"><strong>Hardware details:</strong></font></h3>

<p>
As VME hardware is quite uncommon in the average retail place,
this section is here to satisfy the well-founded curiosity about the mvme68k
hardware.

<p>
This picture is a MVME162 processor board, with the on-board ethernet and SCSI
controller options, one IndustryPack module, and a memory extension.<br>
<img src="images/mvme162.gif" width="637" height="468" alt="MVME162 picture">

<p>
This is a boot log of an MVME177 system.
<pre>
OpenBSD 3.2-current (GENERIC) #5: Mon Dec 23 01:49:09 GMT 2002
    miod@bioue.gentiane.org:/usr/src/sys/arch/mvme68k/compile/GENERIC
Motorola  MVME177-011: 60MHz MC68060 CPU+MMU+FPU, 8k on-chip physical I/D caches
real mem = 33554432
avail mem = 27525120 (6720 pages)
using 409 buffers containing 1675264 bytes of memory
mainbus0 (root)
pcctwo0 at mainbus0 addr 0xfff00000: rev 0
clock0 at pcctwo0 ipl 5
cl0 at pcctwo0 offset 0x45000 ipl 3: console
vme0 at pcctwo0 offset 0x40000: system controller
vme0: using BUG parameters
vme0: 1phys 0x02000000-0xefff0000 to VME 0x02000000-0xefff0000
vme0: 2phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 3phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 4phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: vme to cpu irq level 1:1
vmes0 at vme0
vmel0 at vme0
ie0 at pcctwo0 offset 0x46000 ipl 1: address 08:00:3e:26:3f:69
ssh0 at pcctwo0 offset 0x47000 ipl 2: version 2 target 7
scsibus0 at ssh0: 8 targets
ssh0: target 0 now synchronous, period=100ns, offset=8
sd0 at scsibus0 targ 0 lun 0: &lt;COMPAQPC, DCAS-32160, S65A&gt; SCSI2 0/direct fixed
sd0: 2006MB, 8188 cyl, 3 head, 167 sec, 512 bytes/sec, 4110000 sec total
memc0 at pcctwo0 offset 0x43000: MEMC040 rev 1
nvram0 at pcctwo0 offset 0xc0000: MK48T08 len 8192
sram0 at mainbus0 addr 0xffe00000: len 131072
boot device: sd0
root on sd0a
rootdev=0x400 rrootdev=0x800 rawdev=0x802
Automatic boot in progress: starting file system checks.
/dev/rsd0a: file system is clean; not checking
/dev/rsd0d: file system is clean; not checking
/dev/rsd0e: file system is clean; not checking
/dev/rsd0f: file system is clean; not checking
/dev/rsd0g: file system is clean; not checking
/dev/rsd0h: file system is clean; not checking
/dev/rsd0i: file system is clean; not checking
setting tty flags
ddb.console: 0 -&gt; 1
kern.splassert: 0 -&gt; 2
starting network
add net default: gateway 10.0.1.101
starting system logger
starting rpc daemons: portmap ypbind rdate timed.
savecore: no core dump
checking quotas: done.
building ps databases: kvm dev.
clearing /tmp
starting pre-securelevel daemons:.
setting kernel security level: kern.securelevel: 0 -&gt; 1
preserving editor files
creating runtime link editor directory cache.
starting network daemons: sendmail inetd sshd.
starting local daemons:.
standard daemons: cron.
Thu Dec 26 18:07:08 GMT 2002

OpenBSD/mvme68k (bioue.gentiane.org) (console)

login: 
</pre>

<hr>
<a href="plat.html">
<img height="24" width="24" src="back.gif" border="0" alt="Supported platforms">
</a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>$OpenBSD: mvme68k.html,v 1.74 2009/10/23 21:41:27 dms Exp $</small>

</body>
</html>
