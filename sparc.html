<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/sparc</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/sparc page">
<meta name="keywords" content="openbsd,sparc">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2008 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/sparc</font></h2>

<hr>

<p>
OpenBSD/sparc runs on most of the 32bit Sun SPARC workstations, including
the sun4, sun4c, and sun4m architecture families
(but not the 64bit UltraSPARC computers, which are supported by
<a href="sparc64.html">OpenBSD/sparc64</a>).
</p>

<p>
A mailing list dedicated to the OpenBSD/sparc and OpenBSD/sparc64 ports is
available at <u><font color="#23238e">sparc@openbsd.org</font></u>.
To join the OpenBSD/sparc mailing list, send a message body of <b>"subscribe
sparc"</b> to <a href="mailto:majordomo@openbsd.org">majordomo@openbsd.org</a>.
Please be sure to check our <a href="mail.html">mailing list policy</a> before
subscribing.
</p>

<p>
The current port maintainer is Art Grabowski
(<a href="mailto:art@openbsd.org">art@openbsd.org</a>), with the help of
mainly Jason Wright, Theo de Raadt, and Miod Vallat.
Others are definitely welcome to contribute!
</p>

<a name="toc"></a>
<h3><font color="#0000e0"><i>Table of contents</i></font></h3>
<p>
<ul>
  <li><a href="#history">History of the port</a>
  <li><a href="#status">Current status</a>
  <li><a href="#projects">Project list</a>
  <li><a href="#hardware">Supported hardware</a>
  <li><a href="#hwdocs">Hardware documentation</a>
  <li><a href="#install">Getting and installing OpenBSD/sparc</a>
</ul>

<hr>
<a name="history"></a>
<h3><font color="#0000e0"><strong>History:</strong></font></h3>

<p>
The original 4.4BSD port was done by Chris Torek as a contract to
LBL. The code was released by Chris in mid-1993, and Theo de Raadt
worked it into shape for the NetBSD tree.  Theo and Markus Wild worked
on improving Chris' original SunOS compatibility code into a highly
complete and reliable emulation. Chuck Cranor ported the sun4c code to
the 8KB pagesize sun4 architecture, and Theo merged this code in a
way that would allow the same kernel and programs to run on either
sun4c or sun4 machines (unlike Sun's separate kernel environments).
This last change also required a rewrite of the device configuration
code.  Just after the NetBSD/sparc 1.0 release, Peter Galbavy wrote an
ESP SCSI device driver as a replacement for Chris' sparc-specific SCSI
code.
</p>

<p>
At this point a conflict emerged between Theo and the other people he
started the NetBSD project with, and Theo was forced by the core group
to resign from NetBSD.  After Theo left NetBSD, a few people in the
NetBSD group did some other things for the port: Paul Kranenburg
ported a floppy driver and started writing support for the 4/400.
Chuck spent many long hours working on the ie, xy, xd device drivers.
</p>

<p>
Theo continued working independently, and made a number of additions:
P4 support, flexible boot strategy, a few graphics drivers with the help
from John Stone, and masses of bug fixes.
</p>

<p>
Work on porting OpenBSD/sparc to the sun4m platform was started by Theo,
but tendinitis problems with his wrists and the problems with the NetBSD
core combined made him stop this work. The initial sun4m work was passed
to Aaron Brown of Harvard, who was paid out of Margo Seltzer's research
funds. This initial stuff consisted mostly of a few attempts at building
pmap structure that could support all 3 MMU types efficiently.  Also,
David Miller of the UltraLinux project got a little bit involved.
</p>

<p>
Theo and Jason Downs merged the NetBSD sparc code back into OpenBSD, making
OpenBSD/sparc usable again.  Jason Wright wrote a few new SBus Ethernet
drivers with information from the UltraLinux project and has merged a few bits
from NetBSD sources to improve the stability of this architecture.
Over the time, Art Grabowski fixed various stability or reliability issues,
and added non-executable stack and heap on sun4m machines.
The frame buffer and console code was completely overhauled for OpenBSD 3.2,
improving display speed with some frame buffers, and supporting more cards.
</p>

<p>
And work continues...
</p>

<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Current status:</strong></font></h3>

<p>
Currently, all the hardware listed in the
<a href="#hardware">supported hardware</a> section below boots
multi-user, and supports enough (if not all) of the on-board devices to
be generally usable.
A growing set of third-party SBus cards are also supported.
</p>

<p>
The X Window System works on all supported frame buffers, including
multi-head configurations.
No accelerated server is provided at the moment, although this is being
worked on.
</p>

<p>
An important note about OpenBSD/sparc is that it is designed so that
a single kernel can run on <b>ALL SUPPORTED</b> SPARC machines.  Whereas
SunOS and Solaris have always had separate `kernel architectures', i.e. sun4,
sun4c, and sun4m, the same `GENERIC' OpenBSD kernel will run on all the
supported models. 
</p>

<p>
Most of the problems with OpenBSD/sparc are believed to stem from the wide
variety of SPARC processor and cache implementations along with their
undocumented bugs, rather than general kernel problems.
Feedback on which models do and do not work reliably is
appreciated, particularly with newer models or upgrades.
</p>

<hr>
<a name="projects"></a>
<h3><font color="#0000e0"><strong>Projects (in no particular order):
</strong></font></h3>

<p>
<ul>
  <li>Write drivers for more unsupported devices (audio, frame buffer...)
  <li>Provide an accelerated X server for the cgsix frame buffer
  <li>Merge in useful NetBSD work.
</ul>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong>Supported hardware:</strong></font></h3>

<p>
<h4>Supported machines</h4>

<p>
<ul>
<li> sun4: the VME series
	<ul>
	<li>4/100: Original SPARC with VME.  Many hardware bugs.
	<li>4/200: A fairly decent VME-only machine
	<li>4/300: a 25MHz VME machine with many devices built onto the main board.
	    In other respects, it is quite similar to the SS1+.
	</ul>

<li> sun4c: 
	<ul>
	<li>SS1: the original 20MHz sun4c.
		(Hardware limitations prevent SBus DMA peripherals from working
		in some of the slots).
	<li>SS1+: 25MHz version of the above.
		(Hardware limitations prevent SBus DMA peripherals from working
		in some of the slots).
	<li>IPC: SS1+ in a cube, with bwtwo graphics builtin
	<li>SLC: SS1+ built into a B&amp;W monitor
	<li>SS2: 40MHz version of the SS1
	<li>IPX: SS2 in a cube, with cgsix graphics builtin
	<li>ELC: SS2-performance built into a B&amp;W monitor
	</ul>

<li> sun4m: 
	<ul>
	<li>600MP: The original Sun4m machine.
	    This is a <a href="#mbus">mbus</a> machine with SBus and VME buses.
	<li>LC: 50MHz MicroSPARC-1 based machines (aka Classic)
	<li>LX: LC with a few more devices
	<li>SS4: Reduced cost version of the SS5, available at 70MHz and 110MHz
	<li>SS5: MicroSPARC-2 based machines available in 60, 70, 85,
	    and 110 MHz versions
	<li>SS5: TurboSPARC CPUs in accelerated SS5 machines, running at 170 MHz
	<li>SS10: Pizzabox <a href="#mbus">mbus</a>-based machine
	<li>SS20: Improved Pizzabox <a href="#mbus">mbus</a>-based machine
	<li>Sun Voyager
	</ul>
</ul>

<p>
The following SPARC clones are also supported (non exhaustive list):
<ul>
	<li>Aries Research Inc, Parrot II (SS2 clone) 
	<li>Axil 243 and 245 (and possibly other models) (SS5 clones)
	<li>Axil 320 (SS20 clone)
	<li>CPU5V: VME card by Force Computer (sun4m)
	<li>DTKstation/Classic+ 
	<li>Fujitsu S-4/Leia2 (MicroSPARC-2 laptop)
	<li>Goldstar GWS-40 (SS2 clone)
	<li>Opus 5000 (SS1 clone)
	<li>Opus 5250 (SS1 clone)
	<li>RDI,PowerLite: sun4m models, available in 50MHz, 85MHz, and 110MHz
	<li>RDI,BrigeLite
	<li>Solair WS19L (SS10 clone)
	<li>SPARCbook 3, 3GS, 3GX, 3TX and 3XP by Tadpole (MicroSPARC-2 laptops)
	<li>Tatung micro COMPstation 5 (SS5 clone) 
	<li>Tatung micro COMPstation LX (LX clone)
	<li>Tatung TWS,SuperCOMPstation-20S (SS20 clone)
	<li>Transtec SS5/170
</ul>

<p>
<h4>Supported devices</h4>

<p>
This list of devices basically declares that any ``stock'' sun4c or sun4m
``SPARCstation'' or ``SPARCserver'' machine will probably work; for sun4
machines one must be more careful.
</p>

<a name=mbus></a>
<p>
<ul>
<li><strong>Mbus CPU modules</strong>
  <ul>
   <li>SM30:   30 or 36 MHz SuperSPARC with no secondary cache
   <li>SM40:   40 MHz SuperSPARC with no secondary cache
   <li>SM41:   40 MHz SuperSPARC with 1MB of secondary cache
   <li>SM50:   50 MHz SuperSPARC with no secondary cache
   <li>SM51:   50 MHz SuperSPARC with 1MB of secondary cache
   <li>SM51-2: 50 MHz SuperSPARC with 2MB of secondary cache
   <li>SM61:   60 MHz SuperSPARC with 1MB of secondary cache
   <li>SM61-2: 60 MHz SuperSPARC with 2MB of secondary cache
   <li>SM71:   75 MHz SuperSPARC with 1MB of secondary cache
   <li>SM81:   85 MHz SuperSPARC with 1MB of secondary cache
   <li>SM81-2: 85 MHz SuperSPARC with 2MB of secondary cache
   <li>SM100:  dual 40 MHz Cypress 7C605 with 64KB of primary cache
   <li>Ross HyperSPARC RT620/RT625 at 90MHz, with 256KB of primary cache
   <li>Ross HyperSPARC RT620/RT625 at 125MHz, with 256KB of primary cache
   <li>Ross HyperSPARC RT620/RT625 at 150MHz, with 512KB of primary cache
   <li>Ross HyperSPARC RT620/RT625 at 166MHz, with 512KB of primary cache
   <li>Ross HyperSPARC RT620/RT625 at 180MHz, with 512KB of primary cache
  </ul>

<li><strong>Sun keyboard and mouse</strong>
  <ul>
   <li>Type 2, 3, 4, and 5 keyboards with several layouts
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zskbd&amp;sektion=4&amp;arch=sparc">zskbd</a>)
  </ul>

<li><strong>Floppy drives</strong>
  <ul>
   <li>sun4c and sun4m floppy disk drive
<!-- (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fd&amp;sektion=4&amp;arch=sparc">fd</a>) -->
  </ul>

<li><strong>Serial ports</strong>
  <ul>
   <li>ttya and ttyb on-board serial ports
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zs&amp;sektion=4&amp;arch=sparc">zs</a>)
       (can be used as console if needed)
   <li>4/300 ttyc and ttyd on-board serial ports
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zs&amp;sektion=4&amp;arch=sparc">zs</a>)
   <li>SBus magma serial port cards, including: 4Sp, 8Sp, 12Sp, 16Sp, LC2+1Sp,
       2+1Sp, 4+1Sp, 8+2Sp, and 2+1HS Sp.
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=magma&amp;sektion=4&amp;arch=sparc">magma</a>)
   <li>SBus Serial/Parallel Interfaces (SUNW,spif, 501-1931)
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spif&amp;sektion=4&amp;arch=sparc">spif</a>)
  </ul>

<li><strong>Audio support</strong>
  <ul>
   <li>on-board audio support for systems with AMD79C30 8-bit audio chips
       (this includes sun4c models, SPARCclassic, and 600MP)
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audioamd&amp;sektion=4&amp;arch=sparc">audioamd</a>)
   <li>SUNW,CS4231 16-bit audio chips found on SPARCstation 4/5
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audiocs&amp;sektion=4&amp;arch=sparc">audiocs</a>)
  </ul>

<li><strong>Frame buffers</strong>
  <ul>
  <li>SBus and sun4c/sun4m on-board video:
    <ul>
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=bwtwo&amp;sektion=4">bwtwo</a> - black and white
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=cgthree&amp;sektion=4">cgthree</a> - 8-bit color, unaccelerated
	<br>The cgthree driver also supports the cgRDI, an onboard
	    cgthree-like frame buffer found in some laptops.
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=cgsix">cgsix</a> - 8-bit color, accelerated (GX, GX+, TGX, TGX+)
	<br>This should work with most faithful emulations/clones of the
	    SBus cgsix.
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=cgtwelve">cgtwelve</a> - 24-bit color, accelerated (but the driver does not support hardware acceleration)
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=cgfourteen">cgfourteen</a> - 8 or 24-bit color, accelerated (but the driver does not support hardware acceleration)
     <li>Fujitsu AG-10e
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=agten">agten</a>)
- 24-bit color, accelerated (currently only supported in unaccelerated 8-bit
mode)
     <li>Parallax XVideo and PowerVideo
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=tvtwo">tvtwo</a>)
- 24-bit color, accelerated (but the driver does not support hardware
acceleration)
     <li>RasterFlex family
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=rfx">rfx</a>)
- 8/24-bit color, accelerated (currently only supported in unaccelerated 8-bit
mode)
     <li>Southland Media Systems MGX and MGXPlus (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=mgx">mgx</a>)
- 24-bit color, accelerated (currently only supported in unaccelerated 8-bit
mode)
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=tcx">tcx</a> - 8 or 24-bit color, accelerated
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=vigra">Vigra</a> VS10, VS11 and VS12 SBus frame buffers - 8-bit color, unaccelerated, selectable VGA and Sun-compatible video modes
     <li>Weitek Power9000 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=pninek">pninek</a>) - found in Tadpole SPARCbook 3 (8-bit color, accelerated)
     <li>Weitek Power9100 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=pnozz">pnozz</a>) - found in Tadpole SPARCbook 3GS, 3GX, 3TX and 3XP (8, 16 or 32-bit color, accelerated)
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;sektion=4&amp;query=zx">ZX</a>
	(aka <i>Leo</i>) - 8 or 24-bit color, overlay planes,
	double-buffered, 3-D acceleration <font color="#e00000">*</font>
    </ul>

  <li>4/200 on-board <a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=bwtwo&amp;sektion=4">bwtwo</a>

  <li>P4 video (4/100 and 4/300):
    <ul> 
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=bwtwo&amp;sektion=4">bwtwo</a> - black and white
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=cgthree&amp;sektion=4">cgthree</a> - 8-bit color, unaccelerated
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=cgfour&amp;sektion=4">cgfour</a> - 8-bit color, 1-bit overlay, unaccelerated
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=cgsix&amp;sektion=4">cgsix</a> - 8-bit color, accelerated
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=cgeight&amp;sektion=4">cgeight</a> - 24-bit color, 1-bit overlay, unaccelerated
    </ul>

  <li>VME video (sun4):
    <ul>
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=cgtwo&amp;sektion=4">cgtwo</a> - 8-bit color, unaccelerated
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=cgthree&amp;sektion=4">cgthree</a> - 8-bit color, unaccelerated
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=cgsix&amp;sektion=4">cgsix</a> - 8-bit color, accelerated
    </ul>
  </ul>

<li><strong>Ethernet adapters</strong>
  <ul>
   <li>on-board AMD Lance Ethernet (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=le&amp;sektion=4">le</a>)
   <li>SBus AMD Lance Ethernet cards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=le&amp;sektion=4">le</a>)
   <li>SBus cards containing both AMD Lance
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=le&amp;sektion=4">le</a>)
and SCSI
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=esp&amp;sektion=4">esp</a>)
   <li>on-board Intel 82586 Ethernet 4/100 and 4/200 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=ie&amp;sektion=4">ie</a>)
   <li>VME Intel 82586 Ethernet cards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=ie&amp;sektion=4">ie</a>)
   <li>SBus 10/100Mbit qec+be found on Sun FastEthernet cards (SUNW,501-2450)
	(aka. Sun Fast Ethernet 1.x) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=be&amp;sektion=4">be</a>)
   <li>SBus Quad 10Mbit qec+qe found on Sun Quad Ethernet cards (SUNW,501-2062) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=qe&amp;sektion=4">qe</a>)
   <li>SBus 10/100Mbit hme Ethernet cards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=hme&amp;sektion=4">hme</a>)
<font color="#e00000">*</font>
   <li>SBus 10/100Mbit SunSwift SUNW,fas Ethernet+SCSI cards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=hme&amp;sektion=4">hme</a>)
<font color="#e00000">*</font>
   <li>SBus Quad 10/100Mbit hme and qfe Ethernet cards 
	 (aka. Sun Quad Fast Ethernet 2.x) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=hme&amp;sektion=4">hme</a>)
<font color="#e00000">*</font>
   <li>SBus Gigabit Ethernet 1.0/1.1 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=ti&amp;sektion=4">ti</a>)
<font color="#e00000">*</font>
   <li>SBus Gigabit Ethernet 2.0 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=gem&amp;sektion=4">gem</a>)
<font color="#e00000">*</font>
  </ul>

<li><strong>SCSI controllers</strong>
  <ul>
   <li>on-board SCSI controller (sun4c, sun4m, and 4/300) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=esp&amp;sektion=4">esp</a>)
   <li>SBus SCSI controllers (Also works with several 3rd party
	compatible boards) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=esp&amp;sektion=4">esp</a>)
   <li>SBus cards containing both AMD Lance and SCSI (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=esp&amp;sektion=4">esp</a>)
   <li>SBus SUNW,fas Ethernet+SCSI cards (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=esp&amp;sektion=4">esp</a>)
<font color="#e00000">*</font>
   <li>VME "SUN-3"/"si" SCSI controller (interrupt driven DMA) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=si&amp;sektion=4">si</a>)
   <li>4/110 "SCSI Weird" on-board controller (polled DMA) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=sw&amp;sektion=4">sw</a>)
   <li>QSP/ISP SCSI controllers (i.e. "PTI,ptisp", "ptisp", "SUNW,isp" and "QLGC,isp") (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=isp&amp;sektion=4">isp</a>)
  </ul>

<li><strong>SMD and other disk controllers</strong>
  <ul>
   <li>Xylogics 7053 VME SMD disk controller (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=xd&amp;sektion=4">xd</a>)
   <li>Xylogics 450/451 VME SMD disk controller (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=xy&amp;sektion=4">xy</a>)
  </ul>

<li><strong>PC Cards (PCMCIA)</strong>
  <ul>
    <li>PCMCIA Controllers:
    <ul>
      <li>SBus PCMCIA bridge (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=stp&amp;arch=sparc&amp;sektion=4">stp</a>)
      <li>Tadpole PCMCIA controller (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=tslot&amp;arch=sparc&amp;sektion=4">tslot</a>)
    </ul>
    <li>WaveLAN/IEEE, PRISM 2-3, and Spectrum24 IEEE 802.11b PCMCIA/Compact Flash adapters (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;arch=sparc&amp;sektion=4">wi</a>)
    <li>NE2000 based Ethernet Adapters (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ne&amp;arch=sparc&amp;sektion=4">ne</a>)
    <li>3Com EtherLink (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ep&amp;arch=sparc&amp;sektion=4">ep</a>) LAN PC Cards
  </ul>

<li><strong>Miscellaneous</strong>
  <ul>
   <li>SBus Expansion Subsystem (SUNW,xbox) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=xbox&amp;sektion=4">xbox</a>)
   <li>Force FGA5000 VME/SBus bridge (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=fga&amp;sektion=4">fga</a>)
   <li>Force system configuration registers (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=scf&amp;sektion=4">scf</a>)
   <li>Force flash memory (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=flash&amp;sektion=4">flash</a>)
   <li>Tadpole microcontroller (power/system control) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=tctrl&amp;sektion=4">tctrl</a>)
   <li>Prestoserve NVRAM SBus cards (limited support) (<a href="http://www.openbsd.org/cgi-bin/man.cgi?arch=sparc&amp;query=presto&amp;sektion=4">presto</a>)
  </ul>
</ul>
<font color="#e00000">*</font> Not supported in sun4c-class machines due
to PROM limitations.
<br>

<p>
<h4>Unsupported machines</h4>

<p>
<ul>
 <li>sun4: 4/400 (lacks support for the I/O cache, and has ethernet problems)
 <li>sun4d machines:
   <ul>
      <li>SPARC Server 1000</li>
      <li>SPARC Center 2000</li>
   </ul>
   These machines use XD-Bus instead of M-Bus for their CPUs, which is not
   supported yet.
 <li>JavaStation-NC (lacks support for this machine's PCI bus)
 <li>sun4u: UltraSPARC 64-bit machines.  Most of these are supported in the
      <a href="sparc64.html">OpenBSD/sparc64</a> port.
 <li>Solbourne machines: these machines are quite different, and some are
   plagued by processor bugs.  Some of them are covered by the
   <a href="solbourne.html">OpenBSD/solbourne</a> port.
 <li>Tadpole SPARCbook 1, LC and 2: these machines use quite unusual components,
   and do not have a Sun-compatible PROM.
</ul>

<p>
<h4>Unsupported Devices</h4>

<p>
First of all, there are MANY unsupported devices.
A comprehensive list can probably not be written.
</p>

<p>
<ul>
<li><strong>Serial Cards</strong>
  <ul>
   <li> VME mti 16-port serial card
   <li> VME alm2 16-port serial card
   <li> VME mcp 4-port serial card (or is it 8-port)
  </ul>

<li><strong>Disk Controllers</strong>
  <ul>
   <li> VME "sc" SCSI controller
   <li> VME IPI controller
  </ul>
 
<li><strong>Frame buffers</strong>
  <ul>
   <li> VME cgfive, 8-bit color, 1-bit overlay, double-buffered,
	unaccelerated without GP/GP2
   <li> VME cgnine, 24-bit color, 1-bit overlay, double-buffered,
	unaccelerated without GP/GP2
   <li> VME GP/GP2 Graphics Processor (drives a cgfive or cgnine)
   <li> SBus cgeight 24-bit color, unaccelerated
	(note: SBus cgeight is quite different from VME/P4 cgeight)
   <li> SBus GT, 24-bit color, 8-bit color, overlay planes, double-buffered,
	3-D acceleration (aka Graphics Tower)
  </ul>

<li><strong>On-board Audio and ISDN</strong><br>
  This is present on some sun4m systems (LX, LC, SPARCstation 10/20).

<li><strong>Multiple Processors/Modules in sun4m systems</strong><br>
  OpenBSD will sometimes not boot on some machines with multiple processors.
  If this is the case, the extra CPUs must be removed.

<li><strong>SBus SUNW,bpp (parallel port)</strong><br>
  A driver exists in the source tree, but it does not work.  None of the
  developers have printers or cables to work with, to make it work, but
  we really would prefer to receive a fixed driver.

<li><strong>SBus FDDI cards</strong>

<li><strong>SBus cards other than those listed above...</strong>
</ul>

<hr>
<a name="hwdocs"></a>
<h3><font color="#0000e0"><strong>Hardware documentation:</strong></font></h3>

Previous to 2007, it was extremely difficult or impossible to get much of
the necessary hardware documentation for these machines.   Members of our
team (in particular David Gwynne) were instrumental in pressuring and
convincing Sun to go back into their archives and dig up the data sheets
that they had written in-house, describing the operation of their chips to
their own engineers.  These documents can now be found at
<a href="http://wikis.sun.com/display/FOSSdocs/Home">
http://wikis.sun.com/display/FOSSdocs/Home</a>.
Some documents are still missing at that site, so we ask that interested
developers contact Sun and request additional information.
<p>

<hr>
<a name="install"></a>
<h3><font color="#0000e0">
<strong>Getting and installing OpenBSD/sparc:</strong>
</font></h3>

<p>
The latest supported OpenBSD/sparc release is
<a href="46.html">OpenBSD 4.6</a>.
Here are the
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/4.6/sparc/INSTALL.sparc">
OpenBSD/sparc 4.6 installation instructions
</a>.
</p>

<p>
Snapshots are made available from time to time, in
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/sparc">this location</a>
as well as in a few
<a href="ftp.html">mirrors</a>.
Here are the
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/sparc/INSTALL.sparc">
OpenBSD/sparc snapshot installation instructions
</a> as well.
</p>

<p>
There are several installation media provided, so that
OpenBSD/sparc can be installed or upgraded via CD, floppy boot images on
sun4c and sun4m, miniroot images for machines without floppies
(and sun4 machines), as well as network and diskless installs.
<ul>
  <li><strong>CD boot</strong>
  <p>
  Booting off the CD provides a small ffs filesystem with a GENERIC kernel with 
  drivers for all supported devices found on SPARC machines.<br>
  For the latest list of drivers available on this image, take a look at the
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc/conf/GENERIC?rev=HEAD">GENERIC</a>
kernel configuration file.
  The CD can be booted off the OpenPROM prompt with
<pre>
  boot cdrom 4.6/sparc/bsd.rd
</pre>
  </li>
  <li><strong>Floppy</strong> (floppy46.fs)
  <p>
  Booting off the floppy provides a small ffs filesystem with a kernel
  containing drivers for the most popular devices found on SPARC machines.<br>
  For the latest list of drivers available on this image, take a look at the
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc/conf/RAMDISK?rev=HEAD">RAMDISK</a>
kernel configuration file.
  The floppy can be booted off the OpenPROM prompt with
<pre>
  boot floppy
</pre>
  </li>
  <li><strong>Miniroot</strong> (miniroot46.fs)
  <p>
  The miniroot provides the same installation environment as the bootable CD,
  and is intended for easy bootstrap if there is already an operating system
  installed on the machine.
  After dumping the miniroot to the primary swap partition with dd, the
  miniroot can be booted off the OpenPROM prompt with a command such as
<pre>
  boot disk:b
</pre>
  (the disk designation may be different, depending on the chosen swap
  partition).
  <p>
  </li>
  <li><strong>Netboot</strong> (boot.net, bsd.rd)
  <p>
  Using a diskless setup, it is also possible to boot the OpenBSD/sparc
  boot loader, <tt>boot.net</tt>, from the network via tftp, and access
  the <tt>bsd.rd</tt> standalone miniroot over NFS.
  Refer to the
  <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless&amp;sektion=8">diskless(8)</a>
  manual page for details on how to setup a network boot environment.
  </p></li>
</ul>

<hr>
<a href="plat.html">
<img height="24" width="24" src="back.gif" border="0" alt="Supported platforms">
</a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>$OpenBSD: sparc.html,v 1.193 2010/04/03 00:56:37 deraadt Exp $</small>

</body>
</html>
