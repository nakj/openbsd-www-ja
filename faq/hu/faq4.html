<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>4 - OpenBSD 3.8 Telepítési Útmutató</title>
  <link rev="made" href="mailto:www@openbsd.org">
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
  <meta name="resource-type" content="document">
  <meta name="description" content="OpenBSD FAQ weblap">
  <meta name="keywords" content="openbsd,faq">
  <meta name="distribution" content="global">
  <meta name="copyright" content="This document copyright 1998-2005 by OpenBSD.">
<!-- Passes validator.w3.org.  Please keep it this way -->

</head>
<body bgcolor="#ffffff" text="#000000">

<a href="../../hu/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>

<p>
<font color="#0000e0"><a href="index.html">[FAQ Index]</a>
<a href="faq3.html">[3. Fejezet - OpenBSD beszerzése]</a>
<a href="faq5.html">[5. Fejezet - A Rendszer Felépítése Forrásból]</a>
</font>

<h1><font color="#e00000">4 - OpenBSD 3.8 Telepítési Útmutató</font></h1>
<hr>

<p>
<h3>Tartalom</h3>
<ul>
<li><a href="#Overview">4.1 - A OpenBSD telepítési eljárás áttekintése</a> 
<li><a href="#Checklist">4.2 - Tennivalók telepítés elõtt</a> 
<li><a href="#MkInsMedia">4.3 - Rendszerindító OpenBSD telepítési média készítése</a>
    <ul>
      <li><a href="#UnixFlop">4.3.1 - Flopi készítése Unix rendszeren</a> 
      <li><a href="#DosFlop">4.3.2 - Flopi készítése Windows vagy DOS alatt</a> 
      <li><a href="#MkCD-ROM">4.3.3 - Rendszerindító CD készítése</a> 
    </ul>
<li><a href="#Boot">4.4 - OpenBSD telepítõ indítása</a> 
<li><a href="#Install">4.5 - A telepítés</a>
    <ul>
      <li><a href="#Start">4.5.1 - Telepítés megkezdése</a> 
      <li><a href="#Disks">4.5.2 - Lemezek elõkészítése</a> 
      <li><a href="#Hostname">4.5.3 - A rendszer hosztnév beállítása</a> 
      <li><a href="#Network">4.5.4 - Hálózat konfigurálása</a> 
      <li><a href="#InstMedia">4.5.5 - Telepítési média kiválasztása</a> 
      <li><a href="#Filesets">4.5.6 - Fájlkészletek (fileset) választása</a> 
      <li><a href="#Finish">4.5.7 - Befejezés</a> 
    </ul>
<li><a href="#FilesNeeded">4.6 - Milyen fájlok szükségesek a telepítéshez?</a> 
<li><a href="#Partitioning">4.7 - Mennyi helyre van szükség egy OpenBSD telepítéshez</a> 
<li><a href="#Multibooting">4.8 - Multiboot OpenBSD/i386</a> 
<li><a href="#SendDmesg">4.9 - A dmesg elküldése a dmesg@openbsd.org címre, a telepítés után</a> 
<li><a href="#AddFileSet">4.10 - Fájlkészletek hozzáadás a telepítés után</a> 
<li><a href="#bsd.rd">4.11 - Mi az a 'bsd.rd'?</a> 
<li><a href="#InstProb">4.12 - Általános telepítési problémák</a>
    <ul>
      <li><a href="#cpq16m">4.12.1 - A Compaq gépem csak 16 MB RAM-ot ismer fel</a> 
      <li><a href="#noboot">4.12.2 - Az i386 gépem nem indul telepítés után</a> 
      <li><a href="#sshhang">4.12.3 - A gépem elindul, de megáll az ssh-keygen eljárásnál</a> 
      <li><a href="#noftplist">4.12.4 - Ezt az üzenetet kapom telepítéskor: "Failed to change directory" (Nem lehet katalógust váltani)</a> 
      <li><a href="#krb4">4.12.5 - Mikor bejelentkezem ezt az üzenetet kapom: "login_krb4-or-pwd: Exec format error"</a> 
      <li><a href="#blankfdisk">4.12.6 - Az fdisk partíciós táblám szemetes vagy üres!</a> 
    </ul>
<li><a href="#site">4.13 - A telepítés testre szabása</a> 
<li><a href="#Multiple">4.14 - Hogyan telepítsek több egyforma rendszert?</a> 
<li><a href="#getdmesg">4.15 - Hogy szerezzem meg a dmesg(8) kimenetet, hogy bejelentsek egy telepítési problémát?</a> 
<li><a href="#bsdrdaout">4.16 - OpenBSD/i386 frissítése/újratelepítése a </a><a href="#bsdrdaout"><tt>bsd.rd-a.out</tt></a><a href="#bsdrdaout"> használatával</a> 
</ul>

<hr>
<p>
<a name="Overview"></a>
<h2>4.1 - Az OpenBSD telepítési eljárás áttekintése</h2>

<p>
OpenBSD egy robusztus és rugalmas, karakter-alapú telepítõt használ, 
és akár egy flopi lemezrõl is lehet telepíteni. A legtöbb platform
hasonló telepítési eljárást alkalmaz, azonban vannak bizonyos különbségek a
részletekben. Minden esetben ajánlatos elolvasni a platform specifikus INSTALL
dokumentumot, a <i>platform</i> katalógusban a CD-ROM-on 
vagy az FTP helyeken (például, <tt>i386/INSTALL.i386</tt>, 
<tt>mac68k/INSTALL.mac68k</tt> vagy <tt>sparc/INSTALL.sparc</tt>).

<p>
A legtöbb platformon az OpenBSD telepítõ egy különleges rendszermagot használ, 
számos segédprogrammal és telepítõ szkripttel együtt, beágyazva a betöltött 
RAM lemezbe. Miután a rendszermag betöltõdött, az operációs rendszer kicsomagolásra 
kerül, számos tömörített 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
(<tt>.tgz</tt>) fájlból. Több módja is van a telepítõ rendszermag betöltésének:

<ul>
  <li><b>Flopi lemez:</b>
Vannak flopi lemezképek (image), amelyekbõl telepítõ flopi
készíthetõ egy másik <a href="#UnixFlop">Unix-szerû</a>
rendszeren, vagy egy <a href="#DosFlop">DOS/Windows</a> rendszeren.
Ezeknek a neve általában <tt>floppy38.fs</tt>, habár számos
platformhoz van több flopi lemezkép (image) is. 
  <li><b>CD-ROM:</b> 
A legtöbb platformhoz van CD-ROM lemezkép (image) (<tt>cd38.iso</tt>), 
mellyel rendszerindításra alkalmas CD-ROM készíthetõ. Ez csak egy telepítõ
rendszermagot tartalmaz - a telepítési fájlokat FTP-n keresztül kell letölteni,
vagy más forrásból. Persze bárki elkészítheti saját CD-ROM-ját
olyan fájlokkal és segédprogramokkal amilyenekre vágyik. 
  <li><b><a href="#bsd.rd">bsd.rd</a>:</b> 
A RAM-lemez rendszermag, arra szolgál, hogy a rendszert vagy egy már
meglévõ OpenBSD partícióból vagy a hálózaton keresztül indítsuk. 
  <li><b>Hálózat:</b> 
Néhány platform támogatja a hálózaton keresztüli rendszerindítást
(for example using <a href="faq6.html#PXE">PXE</a> or other
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless&amp;sektion=8">network
boot</a>)
  <li><b>Egy fájlrendszer lemezkép (image) kiírása lemezre:</b>
egy fájlrendszer lemezkép (image) ami kiírható egy
meglévõ partícióba és azután el lehet indítani a rendszert róla. 
  <li><b>Indítás szalagról:</b>
Néhány platform támogatja a szalagról való rendszerindítást. Ilyen szalag
készíthetõ az INSTALL.<i>platform</i> utasítások alapján. 
</ul>

Nem minden <a href="../../hu/plat.html">platform</a> támogat minden
rendszerindítási opciót:
<ul>
  <li><a href="../../hu/alpha.html"><b>alpha:</b></a> Floppy, CD-ROM, floppy lemezkép (image) kiírása a merevlemezre. 
  <li><a href="../../hu/amd64.html"><b>amd64:</b></a> Floppy, CD-ROM, <a href="../faq6.html#PXE">hálózat.</a>
  <li><a href="../../cats.html"><b>cats:</b></a> CD-ROM.
  <li><a href="../../hu/hp300.html"><b>hp300:</b></a> CD-ROM, hálózat. 
  <li><a href="../../hppa.html"><b>hppa:</b></a> Hálózat. 
  <li><a href="../../i386.html"><b>i386:</b></a> Floppy, CD-ROM, <a href="../faq6.html#PXE">hálózat.</a>
  <li><a href="../../mac68k.html"><b>mac68k:</b></a> A Mac OS -en futó
segédprogramok használatával elindítva. A részleteket lásd az
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.8/mac68k/INSTALL.mac68k">INSTALL.mac68k</a>
oldalon.
  <li><a href="../../macppc.html"><b>macppc:</b></a> CD-ROM, hálózat. 
  <li><a href="../../mvme68k.html"><b>mvme68k:</b></a> Hálózat,
szalagról indítás. 
  <li><a href="../../mvme88k.html"><b>mvme88k:</b></a> Hálózat,
szalagról indítás. 
  <li><a href="../../sparc.html"><b>sparc:</b></a> Floppy, CD-ROM,
hálózat, lemezkép (image) kiírása egy meglévõ cserepartícióba,
szalagról indítás. 
  <li><a href="../../hu/sparc64.html"><b>sparc64:</b></a> Floppy (csak
U1/U2), CD-ROM, hálózat, lemezkép (image) kiírása egy meglévõ
partícióba.
  <li><a href="../../hu/vax.html"><b>vax:</b></a> Flopi, hálózat.
</ul>

Minden platformon használható a <a href="#bsd.rd">bsd.rd</a>
újratelepítéshez vagy frissítéshez. 

<p>
Amint a telepítõ rendszermag betöltõdött, számos lehetõség van arra, 
hogy honnan szerezzük meg a <a href="#FilesNeeded">telepítõ fájlkészletet</a>.
Újra felhívnám a figyelmet arra, hogy nem minden platform támogat minden opciót.

<ul>
  <li><b>CD-ROM:</b> Leginkább azt szeretjük persze, ha a <a
 href="../../orders.html">Hivatalos CD-ROM készletet</a>
használod, de különleges esetekben készíthetsz magadnak is. 
  <li><b>FTP:</b>
Vagy valamelyik OpenBSD <a href="../../hu/ftp.html">FTP tükör</a>
vagy a saját helyi FTP kiszolgálód tartalmazza a
fájlkészletet. 
  <li><b>HTTP:</b>
Vagy valamelyik OpenBSD <a href="../../hu/ftp.html#http">HTTP tükör</a>
vagy a saját helyi web kiszolgálód tartalmazza a fájlkészletet. 
  <li><b>Helyi lemez partíció:</b>
Sok esetben telepítheted a fájlkészletet a helyi lemez egy másik partíciójából.
Például <a href="../../i386.html">i386</a> rendszeren telepíthetsz egy 
FAT partícióból vagy egy ISO9660, Rock Ridge vagy Joliet formátumra formázott
CD-ROM-ról. Néhány esetben szükséges lehet manuálisan felcsatlakoztatni
a fájlrendszert a használat elõtt. 
  <li><b>NFS:</b>
Néhány rendszer támogatja a fájlkészlet elérését NFS köteten keresztül. 
  <li><b>Szalag:</b>
A fájlkészletet szalagról is be lehet olvasni, ha a rendszer támogatja. 
</ul>

<a name="Checklist"></a>
<h2>4.2 - Tennivalók telepítés elõtt</h2>

<p>
Mielõtt elkezdenéd a telepítést, kell hogy legyen elképzelésed, 
hogy mit is akarsz csinálni a rendszereddel. Legalább az alábbi 
dolgokat kell tudnod:

<ul>
  <li>A gép neve 
  <li>A telepített és rendelkezésre álló hardver
    <ul>
      <li>Ellenõrizd a kompatibilitást a platformod hardver
kompatibilitás oldalán 
      <li>Ha ISA, akkor ismerned kell a hardver
beállításokat, és ellenõrizd, hogy ezek megfelelnek-e az OpenBSD-nek. 
    </ul>
  
  <li>Telepítési módszer (CD-ROM, FTP, stb.) 
  <li>Hogyan lesz a rendszer frissítve, foltozva?
    <ul>
      <li>Ha helyileg, akkor rendelkezned kell <a href="#SpaceNeeded">elég
hellyel</a> a forrásfának és a fordításhoz is. 
      <li>Egyébként szükséged lesz arra, hogy elérj egy olyan gépet, 
amelyen el tudsz készíteni egy foltozott <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">kiadást</a>.
      
    </ul>
  
  <li>A kívánt lemez felállás
    <ul>
      <li>El kell-e menteni valahova máshova a meglévõ adatokat? 
      <li>Lesz-e másik operációs rendszer az
OpenBSD mellett ugyanazon a rendszeren? Ha igen, akkor hogyan lehet
mindegyiket betölteni. Szükséges-e egy "boot managert" telepíteni? 
      <li>Az egész lemezt az OpenBSD fogja-e használni, vagy meg akarsz-e 
hagyni egy meglévõ partíciót/OS-t (vagy helyet a lemezen késõbbre)? 
      <li>Hogy akarod létrehozni az al-partíciókat a lemez OpenBSD-nek szánt részén? 
    </ul>
  
  <li>Hálózati beállítások, ha nem használsz DHCP-t:
    <ul>
      <li>Tartomány (Domain) név 
      <li>Tartománynév Kiszolgáló(k) (Domain Name Server(s) - DNS) címe(i) 
      <li>IP címek és alhálózati maszkok minden hálózati interfészhez (NIC) 
      <li>Útválasztó (Gateway) címe 
    </ul>
  
  <li>Fogsz-e X Window Rendszert használni? 
</ul>

<a name="MkInsMedia"></a>
<h2>4.3 - Rendszerindító OpenBSD telepítési média készítése</h2>

<p>
Példaként az
<a href="../../i386.html">i386</a> és <a href="../../sparc.html">sparc</a>
platformok telepítési lemezképeit (image) fogjuk megnézni.

<p>Az <a href="../../i386.html">i386</a> platform esetén hat
különálló telepítési lemezképbõl (image) választhatunk:

<ul>
<li><b><tt>floppy38.fs</tt></b> (Asztali PC) 
  támogat sok PCI és ISA NIC-et, IDE és szimpla SCSI adaptereket és 
  tartalmaz némi PCMCIA támogatást. A legtöbb felhasználó ezt a 
  lemezképet (image) használja ha flopiról indítja a rendszert.
<li><b><tt>floppyB38.fs</tt></b> (Kiszolgálók)
  támogat sok RAID vezérlõt, és néhány kevésbé általános SCSI adaptert.
  Több általános SCSI adapter és sok EISA és ISA NIC támogatása el lett
  azonban távolítva.
<li><b><tt>floppyC38.fs</tt></b> (Laptopok)
  támogatja a legtöbb laptopban megtalálható CardBus és PCMCIA eszközöket.
<li><b><tt>cdrom38.fs</tt></b> a három elõzõ bootlemez
  kombinációja. Készíthetõ belõle rendszerindító 2.88M flopi,
  vagy még inkább rendszerindító lemezkép (image) saját, írható CD-hez. 
<li><b><tt>cd38.iso</tt></b> egy ISO9660 lemezkép (image) amit
  bootolható CD készítéséhez használhatunk a népszerûbb CD-ROM 
  készítõ szoftverek segítségével, a legtöbb platformon.
  Ez a lemezkép tartalmazza a legtöbb eszközmeghajtót és
  általában ez az ajánlott választás, ha a gépet el lehet
  indítani CD-ROM-ról.
<li><b><tt>cdemu38.iso</tt></b> egy ISO9660 lemezkép (image) amely
  "flopi emulációs" rendszerindítást használ, a 2.88 MB-os flopi lemezkép
  használatával, <tt>cdrom38.fs</tt>.
  Remélhetõleg csak keveseknek lesz szükségük erre a lemezképre,
  a legtöbben a <tt>cd38.iso</tt>-t fogják használni. Csak akkor használd
  a <tt>cdemu38.iso</tt>-t ha a <tt>cd38.iso</tt> nem mûkökik.
</ul>

Igen, elõfordulhat olyan eset, mikor az egyik telepítõ lemez
szükséges a SCSI adaptered támogatásához, és egy másik lemez
kell a hálózati adapteredhez. Szerencsére az ilyen eset elég ritka 
és általában meg lehet valahogy oldani.

<p>
A <a href="../../sparc.html">sparc</a> platform esetén
három különálló telepítõ-lemezképbõl választhatunk:

<ul>
  <li><b><tt>floppy38.fs:</tt></b> Flopi lemezzel ellátott
rendszerek támogatásához. 
  <li><b><tt>cd38.iso</tt></b> ISO lemezkép saját CD
elõállításához, ha SPARC rendszert CD-ROM-ról akarunk indítani. 
  <li><b><tt>miniroot38.fs</tt></b> Cserepartícióba
(swap) lehet kiírni és onnan indítani a rendszert. 
</ul>

<a name="MkFlop"></a>
<a name="UnixFlop"></a>
<h3>4.3.1 - Flopi készítése Unix rendszeren</h3>

<p>
Formázott flopi készítéséhez használd az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&amp;sektion=1&amp;arch=i386">fdformat(1)</a>
parancsot, mind a formázáshoz, mind a hibás szektorok ellenõrzéséhez.<br>

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  # <b>fdformat /dev/rfd0c</b>
  Format 1440K floppy `/dev/rfd0c'? (y/n): y
  Processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
</pre>
</td></tr></tbody></table>

<p>
Ha ilyesmi kimenetet kapsz, mint a fenti példa, akkor a
lemez rendben van. Ha nem látod azonban az ÖSSZES "V"-t,
akkor a lemez valószínûleg rossz, és inkább
próbálj meg egy másikat.

<p>
Egyes Unix-szerû rendszerek más parancsokat használnak flopi formázásához.
Nézd meg a rendszered dokumentációját, a pontos eljáráshoz.

<p>
Ha megvan a hibátlan, formázott flopi lemezed, akkor itt az idõ, 
hogy kiírd a telepítõ lemezképet a flopira. Erre használd a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">dd(1)</a>
programot. Itt egy példa a <tt>dd(1)</tt> használatára:

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  # <b>dd if=floppy38.fs of=/dev/rfd0c bs=32k</b>
</pre>
</td></tr></tbody></table>

<p>
Ha a lemezkép (image) ki van írva, ellenõrizd, hogy a kimásolt
lemezkép megegyezik-e az eredetivel. E célból használd a 
<a  href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp&amp;sektion=1">cmp(1)</a>
parancsot. Ha a lemez megegyezik lemezképpel (image) akkor csak egy
újabb promptot fogsz látni, semmi más kimenetet.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  # <b>cmp /dev/rfd0c floppy38.fs</b>
</pre>
</td></tr></tbody></table>

<a name="DosFlop"></a>

<h3>4.3.2 - Flopi készítése Windows vagy DOS rendszeren</h3>

<p>
Ez a fejezet leírja, hogyan írd ki a telepítõ lemezképet flopira 
Windows vagy DOS alatt. Az említett segédprogramokat megtalálhatod az FTP
tükrökön a <a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.8/tools/">tools</a>
alkatalógusban, vagy a <tt>3.8/tools</tt> alkatalógusban az OpenBSD 
CD-készlet elsõ CD -jén.

<p>
A flopi elõkészítéséhez használd a MS-DOS vagy Windows saját formázó
segédprogramjait.

<p>
A telepítõ lemezkép (image) flopira írásához használhatod a
<i>rawrite</i>, <i>fdimage</i>, vagy <i>ntrw</i> programokat. A
<i>rawrite</i> nem mûködik Windows NT, 2000 és XP rendszereken.

<p>
Az <tt>FDIMAGE.EXE</tt> és a <tt>RAWRITE.EXE</tt>
MS-DOS alkalmazás, és ezért korlátozza az MS-DOS "8.3" fájlnév konvenciója. 
Mivel a <tt>floppyB38.fs</tt> és a <tt>floppyC38.fs</tt>
hosszabb fájlneveket is tartalmaznak, ezért ki kell találnod, hogy a
rendszered hogyan tárolja ezeket a fájlneveket "8.3 formában"
mielõtt használnád az <tt>FDIMAGE.EXE</tt> vagy a <tt>RAWRITE.EXE</tt>
programokat bootflopi készítéséhez.

<p>
Példa a <i>rawrite</i> használatára:
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  C:\&gt; <b>rawrite</b>
  RaWrite 1.2 - Write disk file to raw floppy diskette

  Enter source file name: <b>floppy38.fs</b>
  Enter destination drive: <b>a</b>
  Please insert a formatted diskette into drive A: and press -ENTER- : <i><b>Enter</b></i>
</pre>
</td></tr></tbody></table>

<p>
Példa az <i>fdimage</i> használatára:
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  C:\&gt; <strong>fdimage -q floppy38.fs a:</strong>
</pre>
</td></tr></tbody></table>

<p>
Példa az <i>ntrw</i> használatára:
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  C:\&gt; <strong>ntrw floppy38.fs a:</strong>
  3.5", 1.44MB, 512 bytes/sector
  bufsize is 9216
  1474560 bytes written
</pre>
</td></tr></tbody></table>

<a name="MkCD-ROM"></a>

<h3>4.3.3 - CD-ROM készítése</h3>

<p>
Készíthetsz CD-ROM-ot közvetlenül a <tt>cd38.iso</tt> fájl felhasználásával,
vagy i386 platform esetén, használhatod a <tt>cdrom38.fs</tt>
fájlt bootolható flopi lemezképnek, amellyel elindíthatsz egy i386 rendszert
CD-ROM-ról. A pontos részletek az olvasóra maradnak, hogy válasszon a 
rendelkezésére álló segédeszközök közül.

<p>
Néhány OpenBSD segédprogram:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkhybrid&amp;sektion=8">mkhybrid(8)</a>
<li><a href="http://cdrecord.berlios.de/old/private/cdrecord.html">cdrecord</a>,
a cdrdtools kollekció része az <a href="../faq8.html#Ports">OpenBSD
Portok Rendszerben</a>. 
</ul>

<a name="Boot"></a>
<h2>4.4 - OpenBSD telepítõ indítása</h2>
<h3>i386 indítása</h3>
Egy telepítõ lemezkép (image) indítása i386 PC platformon a legtöbb embernek 
nem jelent semmi újdonságot. Ha flopi lemezt használsz, akkor egyszerûen 
helyezd a lemezt a flopimeghajtóba és indítsd el a gépet. A telepítõ lemezkép 
ekkor betöltõdik, ha a BIOS-ban engedélyezve van a flopiról való 
rendszerindítás. Ha CD-rõl akarod indítani a rendszert, akkor engedélyezd a 
CD-rõl való rendszerindítást a BIOS-ban. Néhány régebbi BIOS-ban nem lehet 
ezt beállítani, és flopit kell használni a rendszerindításhoz. 
Ne aggódj azonban, ha flopiról bootolsz, akkor is tudsz telepíteni a CD-rõl.

<p>
Ezen kívül úgy is telepíthetsz, hogy a <a href="#bsd.rd">bsd.rd</a>-t 
egy már meglévõ OpenBSD partícióról töltöd be, vagy hálózaton keresztül
a <a href="../faq6.html#PXE">PXE rendszerindítás</a> használatával.

<h3>Sparc/sparc64 indítása</h3>
<b>MEGJEGYZÉS:</b> A <a href="../../hu/sparc64.html">sparc64</a>
platformon, csak az SBus gépek (Ultra 1, Ultra 2) indíthatók flopiról.

<p>
A flopiról való rendszerindításhoz, helyezd az OpenBSD telepítõ 
lemezképet (image) tartalmazó lemezt a flopimeghajtóba. Ezután használd 
a következõ parancsot a flopiról való indításhoz:

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  ok <b>boot floppy</b>
</pre>
</td></tr></tbody></table>

<p>
A CD-ROM-ról való rendszerindításhoz, helyezd az OpenBSD CD-ROM lemezt 
a meghajtóba. Ha a Sun gépednek csak egy CD-ROM meghajtója van, akkor
egyszerûen menj a boot promthoz, és gépeld be, hogy '<tt>boot cdrom</tt>':

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  ok <b>boot cdrom</b>
</pre>
</td></tr></tbody></table>

<p>
Természetesen ez csak új parancsmódban fog mûködni. Ha a régi parancsmód 
promptban vagy (egy jobbra mutató nyíl), gépelj be egy 'n' betût,
hogy új parancsmódba juss. (Ha egy sun4c elõtti régi sparc-ot használsz, 
akkor valószínûleg nincs új parancsmódod, és kísérletezned kell). 
Ha több CD-ROM eszközöd van, akkor a megfelelõrõl kell bootolnod. 
Használd a <tt>probe-scsi</tt> parancsot új parancsmódban.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  ok <b>probe-scsi</b>

  Target 0
    Unit 0   Disk     QUANTUM LIGHTNING 365S
  Target 1
    Unit 0   Removable Disk     QUANTUM EMPIRE_1080S
  Target 3
    Unit 0   Removable Disk     Joe's CD-ROM
</pre>
</td></tr></tbody></table>

<p>
Nézd meg, hogy melyik az a CD-ROM amelyikrõl bootoni akarsz.
Használd a target számot.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  ok <b>boot /sbus/esp/sd@X,0</b>
</pre>
</td></tr></tbody></table>

<a name="Install"></a>

<h2>4.5 - Telepítés</h2>
<a name="Start"></a>
<h3>4.5.1 - A telepítés megkezdése</h3>
<!-- XXXrelease -->
Bármilyen telepítési módot is választottál, itt az idõ használni. 
A rendszerindítási eljárás alatt, a rendszermag és minden OpenBSD 
telepítésére szolgáló program betöltõdik a memóriába. A legáltalánosabb
probléma bootoláskor a hibás flopilemez, vagy meghajtó beállítási hiba. 
A telepítõ flopi eléggé erõsen be van csomagolva, így bármilyen apró 
hiba is problémát okozhat.

<p>
Az OpenBSD telepítés szinte bármely pontján megszakítható a CTRL-C
billentyûkombináció lenyomásával, ill. újraindítható az <tt>install</tt>
futtatásával a shell promptnál, a teljes rendszer újraindítása (reboot) nélkül.

<p>
Sikeres rendszerindítás után egy csomó szöveget láthatsz végigfutni a 
képernyõn. Ez a szöveg a legtöbb architektúrán kék alapon fehér, ez a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg</a>,
ahol a rendszermag elmondja, hogy milyen eszközöket talált és hol. 
Ne aggódj, hogy nem tudod megjegyezni ezt a szöveget, egy másolatát
megtalálod a <tt>/var/run/dmesg.boot</tt> fájlban.
Bizonyos architektúrákon a képernyõt fel- ill. lefelé lehet "görgetni" 
a SHIFT+PGUP és a SHIFT+PGDOWN billentyûkombinációk segítségével, és így el 
tudod olvasni a korábban kiírt, a képernyõrõl kifutott szövegeket.

<p>
Ezután a következõt fogod látni:

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  rootdev=0x1100 rrootdev=0x2f00 rawdev=0x2f02
  erase ^?, werase ^W, kill ^U, intr ^C, status ^T
  (I)nstall, (U)pgrade or (S)hell? <b>i</b>
</pre>
</td></tr></tbody></table>

<p>
Ezzel elértük az elsõ kérdést.
Legtöbbször a következõ három opciót lehet választani:

<ul>
  <li><b>Install (telepítés):</b> Rátölti az OpenBSD-t a jelenlegi 
rendszerre, felülírva mindent, bármi is van jelenleg ott. Lehetséges bizonyos
partíciókat érintetlenül hagyni az eljárás alatt, mint pl. a <tt>/home</tt>, 
de egyébként feltételezzük, hogy minden egyéb felülírásra kerül. 
  <li><b>Upgrade (frissítés):</b> Feltelepít egy új 
<a href="#FilesNeeded">telepítõ fájlkészletet</a> a gépre, de nem ír
felül semmilyen konfigurációs információt, felhasználói adatot, vagy
hozzáadott programokat. Nincs lemezformázás, sem az /etc és a /var 
katalógusok nem lesznek felülírva. Egy pár fontos megjegyzés:
    <ul>
      <li> Nem fogod megkapni az <tt>etc38.tgz</tt>
fájl telepítésének opcióját.
A telepítés után manuálisan kell elvégezned azokat a változásokat 
amelyeket az <tt>etc38.tgz</tt> tett volna, mielõtt feltételeznéd, 
hogy a rendszered megfelelõen mûködik. Ez egy fontos lépés, amit 
mindenképpen meg kell tenned, egyébként bizonyos kulcsfontosságú
szolgáltatások (mint a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>)
lehet, hogy nem indulnak el. 
      <li>Az Upgrade eljárást nem a kiadások (release) kiváltására tervezték!
Habár gyakran mûködik, de nem támogatott. OpenBSD 3.8 esetén, az egyetlen 
támogatott frissítés a 3.7-rõl a 3.8-ra való váltás. Ha régebbi verzióról 
akarsz frissíteni, akkor teljes újratelepítés szükséges.
    </ul>
  
  <li><b>Shell (parancsértelmezõ):</b> Néha
szükséges bizonyos javításokat vagy rendszerkarbantartást végezni 
egy rendszeren, amelyik nem bootol (vagy nem kéne, hogy bootoljon) 
a normál rendszermaggal. Ennek az opciónak a segítségével tudsz 
karbantartást végezni a rendszeren. 
</ul>
Esetenként nem fogod látni az "Upgrade" opciót a listában. 
Egy ún. <i>flag day</i> után, nem lehetséges közvetlenül frissíteni, 
ezért az egész rendszert újra kell telepíteni. 

<p>
Ebben a példában egy telepítést mutatunk be, de a frissítés is hasonló.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Welcome to the OpenBSD/i386 3.8 install program.
  This program will help you install OpenBSD in a simple and rational way. At
  any prompt except password prompts you can run a shell command by typing
  '!foo', or escape to a shell by typing '!'. Default answers are shown in []'s
  and are selected by pressing RETURN. At any time you can exit this program by
  pressing Control-C and then RETURN, but quitting during an install can leave
  your system in an inconsistent state.
  
  Specify terminal type: [vt220] <b><i>Enter</i></b>
  Do you wish to select a keyboard encoding table? [no] <b><i>ENTER</i></b>
</pre>
</td></tr></tbody></table>

<p>
A legtöbb esetben az alapértelmezett terminál típus megfelelõ, 
azonban ha <a href="../faq7.html#SerCon">soros konzolt</a> 
használsz a telepítéshez, akkor ne használd az alapértelmezést, 
hanem a neked megfelelõt.

<p>
Ha nem választasz billentyûzet kódtáblát, akkor a US billentyûzet
kiosztást feltételezi.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  IS YOUR DATA BACKED UP? As with anything that modifies disk contents, this
  program can cause SIGNIFICANT data loss.
  
  It is often helpful to have the installation notes handy. For complex disk
  configurations, relevant disk hardware manuals and a calculator are useful.
  
  Proceed with install? [no] <b>y</b>
</pre>
</td></tr></tbody></table>

<p>
Ha itt az alapértelmezést választod (n) akkor a telepítés befejezõdik, 
és "kidob" a parancsértelmezõ promptjához.

<a name="Disks"></a>
<h3>4.5.2 - A lemezek elõkészítése</h3>

<p>
A lemezek beállítása az OpenBSD-ben valamennyire különbözik platformonként. 
<a href="../../i386.html">i386</a> és <a href="../../macppc.html">macppc</a>
alatt ez két lépésbõl áll. Elõször a lemezen az OpenBSD által használni
kívánt szeletet (slice) kell meghatározni az fdisk(8) segítségével,
azután ezt a szeletet kell továbbosztani OpenBSD partíciókra a
disklabel(8) használatával.

<p>
Néhány felhasználó zavarban lehet az itt használt terminológiák miatt. 
Úgy tûnhet, hogy a partíció szót két értelemben is használjuk. 
Ez így is van. A particionálásnak két szintje van több OpenBSD platformon. 
Az elsõ, amit tekinthetnénk az Operációs Rendszer particionálásnak,
ahol is az egy gépen lévõ több operációs rendszer kijelöli a saját
részét a merevlemezen, a második, ahol az OpenBSD a sajátját tovább 
osztja a fájlrendszernek megfelelõen. Az elsõ szintet látja lemez
partíciónak a DOS, Windows, és olyan operációs rendszerek, amelyek képesek 
egyidejûleg jelen lenni más rendszerekkel egy IBM AT leszármazott gépen. 
A második particionálási szint csak az OpenBSD számára látható, ill. azon 
OS-ek számára, amelyek közvetlenül tudják olvasni az OpenBSD fájlrendszert.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Cool!  Let's get to it...
  
  You will now initialize the disk(s) that OpenBSD will use. To enable all
  available security features you should configure the disk(s) to allow the
  creation of separate filesystems for /, /tmp, /var, /usr, and /home.
  
  Available disks are: wd0.
  Which one is the root disk? (or done) [wd0] <b><i>Enter</i></b>
</pre>
</td></tr></tbody></table>

<p>
A root lemez az, amelyikrõl a rendszer elindul, és ahol normális esetben 
a csereterület (swap) van. Az IDE lemezek a következõképpen vannak 
feltüntetve: <tt>wd0</tt>, <tt>wd1</tt>, stb., SCSI lemezek és RAID 
eszközök pedig: <tt>sd0</tt>, <tt>sd1</tt>, stb. Itt minden lemez amit 
az OpenBSD megtalál, ki van listázva -- ha van olyan meghajtód ami nem 
szerepel a listában, akkor az nem támogatott, vagy rosszul van konfigurálva.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Do you want to use *all* of wd0 for OpenBSD? [no] <b><i>Enter</i></b>
</pre>
</td></tr></tbody></table>

<p>
Ha válaszod "yes" (igen) erre a kérdésre, akkor az egész lemezt az 
OpenBSD fogja használni. Ekkor egy általános Master Boot Record-ot hoz létre
és a partíciós táblát kiírja a lemezre -- egy partíció, melynek mérete 
a teljes merevlemez, a típusa OpenBSD, és a bootolható flag be van állítva. 
Ez az általános választás a legtöbb "élesben" használt OpenBSD esetén, 
azonban vannak rendszerek, ahol ezt nem megfelelõ. Sok Compaq rendszer, 
egyes noteszgép, néhány Dell és más rendszer használ ún. "karbantartó" 
vagy "Suspend to Disk" partíciót, amelyeket érintetlenül kell hagyni. 
Ha a rendszereden van bármilyen típusú más partíció, amit nem akarsz törölni,
akkor <span style="font-weight: bold;">NE</span> válaszolj
"yes"-t a fenti kérdésre.

<p>
A példa kedvéért feltételezzük, hogy a lemez fel lesz osztva egy OpenBSD 
és egy már létezõ Windows 2000 partícióra, így az alapértelmezett "no"-t 
válaszoljuk, amely elindítja nekünk az <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
programot. Több információt kaphatsz az fdisk(8)
programról <a href="../faq14.html#fdisk">ezen a lapon</a>.

<p>
<b>Fontos Megjegyzés:</b>
Nagyméretû merevlemezzel rendelkezõ felhasználók (i386-nál újabb gép 
esetén nagyobb mint 8 GB, habár régebbi gépek vagy más platform
esetén gyakran még kisebb) nézzék meg
<a href="../faq14.html#LargeDrive">ezt a fejezetet</a> mielõtt tovább mennének.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  You will now create a single MBR partition to contain your OpenBSD data. This
  partition must have an id of 'A6'; must *NOT* overlap other partitions; and
  must be marked as the only active partition.

  The 'manual' command describes all the fdisk commands in detail.

  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  Enter 'help' for information
  fdisk: 1&gt; <b>help</b>
          help            Command help list
          manual          Show entire OpenBSD man page for fdisk
          reinit          Re-initialize loaded MBR (to defaults)
          setpid          Set the identifier of a given table entry
          disk            Edit current drive stats
          edit            Edit given table entry
          flag            Flag given table entry as bootable
          update          Update machine code in loaded MBR
          select          Select extended partition table entry MBR
          swap            Swap two partition entries          
	  print           Print loaded MBR partition table
          write           Write loaded MBR to disk
          exit            Exit edit of current MBR, without saving changes
          quit            Quit edit of current MBR, saving current changes
          abort           Abort program without saving current changes
  fdisk: 1&gt; 
</pre>
</td></tr></tbody></table>

<p>
Néhány parancs amely megér egy kis magyarázatot:

<ul>
<li><b><tt>r</tt></b> vagy <b><tt>reinit</tt>:</b> Törli a
meglévõ partíciós táblát, létrehoz egy nagy OpenBSD partíciót,
aktívnak jelöli, és telepíti az OpenBSD MBR kódot.
Megegyezik azzal, mintha "yes"-t válaszoltunk volna a "teljes
lemezt az OBSD használja" (<tt>use *all* of ...</tt>) kérdésre.
<li><b><tt>p</tt></b> vagy <b><tt>print:</tt></b>
    Megmutatja a jelenlegi partíciós táblát szektor egységekben.
    "<tt>p m</tt>" megabyte egységben, a "<tt>p g</tt>" pedig
    gigabyte egységben. 
<li><b><tt>e</tt></b> vagy <b><tt>edit:</tt></b>
    a tábla bejegyzés szerkesztése, megváltoztatása. 
<li><b><tt>f</tt></b> vagy <b><tt>flag:</tt></b>
    Aktívnak jelöl egy partíciót, azt amelyikrõl a rendszer el fog indulni. 
<li><b><tt>u</tt></b> or <b><tt>update:</tt></b>
    Aktualizálja az MBR-t az OpenBSD rendszerindító kóddal.
    Ez hasonló a "<tt>reinit</tt>"-hez, kivéve, hogy nem
    változtatja meg a meglévõ partíciós táblát.
<li><b><tt>exit</tt></b> és <b><tt>quit:</tt></b>
Óvatosan ezekkel a parancsokkal! Mindkettõ kilépésre szolgál, 
de a jelentésük eléggé különbözõ. exit esetén a
változások nem lesznek elmentve, quit esetén igen.<br>
</ul>

Megéri még egyszer megjegyezni, hogy itt bármilyen hiba jelentõs 
adatvesztéshez vezethet. Ha ezt egy olyan meghajtón kívánod végrehajtani, 
ami fontos adatot tartalmaz, akkor inkább egy "értéktelen" meghajtón 
gyakorolj, és persze nem árt lementeni elõtte az adatokat.

<p>
A mi meghajtónkon egy 1.5G Windows 2000 partíció van (FAT fájlrendszerrel). 
A fenti információt megnézve láthatjuk, hogy a Win partíció a
202. cilinderig foglalja el a lemezt. Így mi lefoglaljuk a lemez
maradék részét az OpenBSD számára, a 203. cilindertõl kezdõdõen. 
Kiszámolhatod az OpenBSD kezdõ szektorát ami 3069360 úgy is ha összeadod a
meglévõ partíció kezdõ szektorát (63) és a méretét (3069297).

<p>
Szerkesztheted a meghajtód beállításait Cilinder/Fej/Szektor (CHS) 
formában vagy "nyers" szektorként. Hogy melyik könnyebb, az attól függ, 
hogy mit is csinálsz. Ebben az esetben egy meglévõ partíció mellett a 
CHS forma valószínûleg egyszerûbb. Ha viszont az elsõ szektort hozod 
létre a lemezen, akkor a "nyers" szektor forma az egyszerûbb.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  fdisk: 1&gt; <b>e 1</b>
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
  Do you wish to edit in CHS mode? [n] <b>y</b>
  BIOS Starting cylinder [0 - 2585]: [0] <b>203</b>
  BIOS Starting head [0 - 239]: [0] <b><i>Enter</i></b>
  BIOS Starting sector [1 - 63]: [0] <b>1</b>
  BIOS Ending cylinder [0 - 2585]: [0] <b>2585</b>
  BIOS Ending head [0 - 239]: [0] <b>239</b>
  BIOS Ending sector [1 - 63]: [0] <b>63</b>
  fdisk:*1&gt; <b>p</b>
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
   1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  fdisk:*1&gt; <b>p m</b>
  Disk: wd0       geometry: 2586/240/63 [19092 Megabytes]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:        1499M] Win95 FAT-32
   1: A6  203   0  1 - 2585 239 63 [     3069360:       17593M] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0M] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0M] unused
  fdisk:*1&gt; 
</pre>
</td></tr></tbody></table>

<a name="trackoffset"></a>

<p>
<span style="font-weight: bold;">Fontos</span>, hogy az elsõ partíció
szabadon kell hogy hagyja a lemez elsõ sávját. Ebben ez esetben a
<tt>63</tt> szektorral indulunk. Ha létrehozunk egy OpenBSD partíciót
<tt>0</tt> offsettõl (eltolás) kezdõdõen, akkor ezt a partíciós táblát felül
fogja írni az OpenBSD partíció <a href="../faq14.html#Boot386">Partíció
Boot Record</a>.
Ekkor a rendszer még elindulhat, de nehéz lesz karbantartani, és az
ilyen konfiguráció <i>nem ajánlott és nem támogatott</i>.

<p>
Figyeld meg, hogy a prompt most egy csillagot ('<tt>*</tt>')
is tartalmaz, ami jelzi hogy vannak el nem mentett
változások. Ahogy azt láthatjuk a <tt>p&nbsp;m</tt>
kimenetébõl, nem változtattuk meg a Windows partíciót, hanem lefoglaltuk 
a meghajtón levõ maradék helyet az OpenBSD részére, és a partíciók nem 
fedik át egymást. Már a célnál vagyunk. Majdnem.

<p>
Amit még nem tettünk meg az, hogy nem jelöltünk meg aktív partíciót azért,
hogy az OpenBSD induljon el a következõ rendszerindításkor:

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  fdisk:*1&gt; <b>f 1</b>
  Partition 1 marked active.
  fdisk:*1&gt; <b>p</b>
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  fdisk:*1&gt;
</pre>
</td></tr></tbody></table>

<p>
Most már elmenthetjük a változtatásainkat:

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  fdisk:*1&gt; <b>w</b>
  Writing MBR at offset 0.
  wd0: no disk label
  fdisk: 1&gt; <b>q</b>
</pre>
</td></tr></tbody></table>

<p>
<a name="disklabel"></a>
<h3>Lemezcímke (disklabel) készítése</h3>
A következõ lépés a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
használata, amivel fel lehet darabolni az OpenBSD
partíciót. További részletek a disklabel(8) használatával kapcsolatban a 
<a href="../faq14.html#disklabel">FAQ 14, disklabel</a> lapon találhatók.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Here is the partition information you chose:
  
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused

  You will now create an OpenBSD disklabel inside the OpenBSD MBR
  partition. The disklabel defines how OpenBSD splits up the MBR partition
  into OpenBSD partitions in which filesystems and swap space are created.

  The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
  start of the disk, NOT the start of the OpenBSD MBR partition.

  disklabel: no disk label
  WARNING: Disk wd0 has no label. You will be creating a new one.
  
  # using MBR partition 1: type A6 off 3069360 (0x2ed5b0) size 36030960 (0x225c9f0)

  Treating sectors 3069360-39100320 as the OpenBSD portion of the disk.
  You can use the 'b' command to change this.

  Initial label editor (enter '?' for help at any prompt)
  > <b>?</b>
  Available commands:
          ? [cmnd]  - this message or command specific help.
          a [part]  - add new partition.
          b         - set OpenBSD disk boundaries.
          c [part]  - change partition size.
          D         - set label to default.
          d [part]  - delete partition.
          e         - edit drive parameters.
          g [b|d|u] - use [b]ios, [d]isk or [u]ser geometry.
          M         - show entire OpenBSD man page for disklabel.
          m [part]  - modify existing partition.
          n [part]  - set the mount point for a partition.
          p [unit]  - print label.
          q         - quit and save changes.
          r         - recalculate free space.
          s [path]  - save label to file.
          u         - undo last change.
          w         - write label to disk.
          X         - toggle expert mode.
          x         - exit without saving changes.
          z         - zero out partition table.
  Numeric parameters may use suffixes to indicate units:
          'b' for bytes, 'c' for cylinders, 'k' for kilobytes, 'm' for megabytes,
          'g' for gigabytes or no suffix for sectors (usually 512 bytes).
          '%' for percent of total disk size, '&' for percent of free space.
          Non-sector units will be rounded to the nearest cylinder.
  Entering '?' at most prompts will give you (simple) context sensitive help.
  > 
</pre>
</td></tr></tbody></table>

<p>
Újra egy kis magyarázat egy-két paranccsal kapcsolatban:

<ul>
  <li><b><tt>p</tt></b> - Megjeleníti (print) a jelenlegi
disklabelt a képernyõn. Használhatod a következõ módosítókat <tt>k, m</tt> 
vagy <tt>g</tt> azaz kilobyte, megabyte vagy gigabyte. 
  <li><b><tt>D</tt></b> - Törli a meglévõ disklabelt,
készít egy új alapértelmezett disklabelt ami lefedi az aktuális 
OpenBSD partíciót. Ez akkor hasznos, ha a lemezen már volt korábban disklabel,
és az OpenBSD partíció újra létre lett hozva, más mérettel -- a régi disklabel
lehet, hogy nem törlõdött és ezért problémákat okozhat. 
  <li><b><tt>m</tt></b> - Módosít egy meglévõ bejegyzést a disklabelben. 
Ne becsüld túl ennek a tudását! Habár megváltoztathatja a disklabel 
partíció méretét, a rajta lévõ fájlrendszert NEM tudja megváltoztatni. 
Ha ezt az opciót egy meglévõ partíció átméretezésé akarod felhasználni, 
akkor az valószínûleg nagy adatvesztéshez fog vezetni. 
</ul>

<p>
A lemez megfelelõ feldarabolása nagyon fontos. A válasz arra a kérdésre, 
hogy "Hogyan particionáljam a rendszerem?" az, hogy "Ponosan
úgy ahogy szükséges". Ez alkalmazásról alkalmazásra különbözhet. Nincs
általános válasz. Ha bizonytalan vagy abban, hogyan particionáld a rendszered, 
nézd meg <a href="#SpaceNeeded">ezt a leírást</a>.

<p>
Ebben a rendszerben 17 GB helyünk van az OpenBSD részére. Ez rengeteg hely, 
és a legtöbbre valószínûleg nem lesz szükségünk. Ezért szándékosan nem 
az abszolút minimumot használjuk. Inkább hagyjunk néhány száz megabyte-ot 
kihasználatlanul, minthogy egy kilobyte-tal is kevesebb legyen a kelleténél. 

<p>
A root lemezen két partíciót, 'a'-t és 'b'-t létre <b>kell</b> 
hozni. A telepítési eljárás nem fejezõdik be, amíg ez a két
partíció nincs meg. 'a' lesz a root (gyökér)
fájlrendszer (/), 'b' pedig a csereterület (swap).

<p>
Egy kis gondolkodás után elhatároztuk, hogy annyi partíciót hozunk létre, 
amennyi elég az ajánlott, különálló fájlrendszerek elkészítéséhez 
(<tt>/, /tmp, /var, /usr, /home</tt>) a cserepartícióval (swap) együtt:

<ul>
  <li><i><b>wd0a: /</b></i> (root) - 150 MB. Több mint elég
kell hogy legyen. 
  <li><i><b>wd0b: </b></i>(swap) - 300 MB. 
  <li><i><b>wd0d: /tmp</b></i> - 120 MB. <tt>/tmp</tt> bizonyos
programok fordításához használatos, 120 MB a 
legtöbb esetben valószínûleg elég lesz. 
  <li><i><b>wd0e: /var</b></i> - 80 MB. Ha ez egy web vagy levelezõ
szerver lenne, akkor ezt a partíciót sokkal nagyobbra
kellene méreteznünk. De most nem ez a helyzet. 
  <li><i><b>wd0g: /usr</b></i> - 2 GB. Azt akarjuk, hogy ez a
partíció elég nagy legyen ahhoz, hogy pár felhasználói alkalmazás
elférjen rajta, plusz elég legyen a rendszerfrissítéséhez,
újrafordításához forrásból, amennyiben ez szükséges. 
A <a href="../../ports.html">Ports fa</a> is itt lesz, ami majdnem 
100 MB helyet elvisz még a portok fordítása elõtt.
Ha valaki azt tervezi, hogy sok alkalmazást fog lefordítani forrásból a
<a href="../faq8.html#Ports">portok</a> használatával az elõre elkészített
<a href="../faq8.html#Packages">csomagok helyett</a>, akkor ennél még sokkal
több helyre lehet itt szükséged.
  <li><i><b>wd0h: /home</b></i> - 4 GB. Ez elég sok felhasználói terület. 
</ul>

Ha most ezt mind összeadod, akkor láthatod, hogy több
mint 10 GB helyet nem használtunk fel! A felhasználatlan
terület nem bánt senkit, viszont megadja azt a rugalmasságot, 
hogy megnöveljünk területeket a jövõben amennyiben szükséges. 
Nagyobb <i>/tmp</i> kell? Nem probléma, készíts egy újat a fel nem használt
területbõl, változtassd meg az <i>/etc/fstab</i> fájlt ennek megfelelõen 
és a probléma meg van oldva. A fenti disklabelek létrehozásának lépései:

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  &gt; <b>p m</b>
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 36030960
  rpm: 3600
  
  16 partitions:
  #             size        offset  fstype [fsize bsize  cpg]
    a:      17593.2M       1498.7M  unused      0     0      
    c:      19092.9M          0.0M  unused      0     0      
    i:       1498.7M          0.0M  MSDOS                   
  &gt; <b>d a</b>
  &gt; <b>a a</b>
  offset: [3069360] <b><i>Enter</i></b>
  size: [36030960] <b>150M</b>
  Rounding to nearest cylinder: 307440
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/</b>
  &gt; <b>a b</b>
  offset: [3376800] <b><i>Enter</i></b>
  size: [35723520] <b>300M</b>
  Rounding to nearest cylinder: 614880
  FS type: [swap] <b><i>Enter</i></b>
  &gt; <b>a d</b>
  offset: [3991680] <b><i>Enter</i></b>
  size: [35108640] <b>120m</b>
  Rounding to nearest cylinder: 245952
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/tmp</b>
  &gt; <b>a e</b>
  offset: [4237632] <b><i>Enter</i></b>
  size: [34862688] <b>80m</b>
  Rounding to nearest cylinder: 164304
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var</b>
  &gt; <b>a g</b>
  offset: [4401936] <b><i>Enter</i></b>
  size: [34698384] <b>2g</b>
  Rounding to nearest cylinder: 4194288
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr</b>
  &gt; <b>a h</b>
  offset: [8596224] <b><i>Enter</i></b>
  size: [30504096] <b>4g</b>
  Rounding to nearest cylinder: 8388576
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/home</b>
  &gt; <b>p m</b>
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 22115520
  rpm: 3600
  
  16 partitions:
  #             size        offset  fstype [fsize bsize  cpg]
    a:        150.1M       1498.7M  4.2BSD   2048 16384   16 # /
    b:        300.2M       1648.8M    swap                   
    c:      19092.9M          0.0M  unused      0     0      
    d:        120.1M       1949.1M  4.2BSD   2048 16384   16 # /tmp
    e:         80.2M       2069.2M  4.2BSD   2048 16384   16 # /var
    g:       2048.0M       2149.4M  4.2BSD   2048 16384   16 # /usr
    h:       4096.0M       4197.4M  4.2BSD   2048 16384   16 # /home
    i:       1498.7M          0.0M   MSDOS                   
  &gt; <b>q</b>
  Write new label?: [y] <b><i>Enter</i></b>
</pre>
</td></tr></tbody></table>

<p>
Megfigyelheted, hogy van egy "<i>c</i>" partíció amit
úgy tûnik, figyelmen kívül hagytunk. Ez a
partíció hivatkozás a teljes lemezre, ne
próbáld megváltoztatni. Azt is
megfigyelheted, hogy az "<i>i"</i> partíciót sem mi
definiáltuk. Ez a már meglévõ Windows 2000
partíció. A betûvel el nem látott
partíciók - kivéve az <i>a</i> (root), <i>b</i>
(swap) és <i>c</i> (teljes lemez), a megmaradt
partíciók (egészen a <i>p</i> betûig),
bármilyen célra felhasználhatók.

<p>
Ha jobban megnézed a disklabel kimenetét, akkor
láthatod, hogy a meghajtód RPM értéke
valószínûleg rossz. Ennek "történelmi" okai
vannak, ráadásul a meghajtó
sebességét amúgy sem használja a rendszer.
Tehát ne aggódj emiatt.

<h3>A befûzési pontok (mount point) beállítása és a fájlrendszerek formázása</h3>
Most jön a befûzési pontok végsõ beállítása. Ha a befûzési pontokat a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
segítségével konfiguráltad, akkor már csak ellenõrizned kell a választásodat,
egyébként most kell õket meghatároznod.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  The root filesystem will be mounted on wd0a.
  <br>  wd0b will be used for swap space.<br>  Mount point for wd0d (size=122976k), none or done? [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (size=82152k), none or done? [/var] <b><i>Enter</i></b>
  Mount point for wd0g (size=2097144k), none or done? [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (size=4194288k), none or done? [/home] <b><i>Enter</i></b>
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b>done</b>
  No more disks to initialize.
  
  OpenBSD filesystems:
  wd0a /
  wd0d /tmp
  wd0e /var
  wd0g /usr
  wd0h /home

  The next step *DESTROYS* all existing data on these partitions!
  Are you really sure that you're ready to proceed? [no] <b>y</b>
  /dev/rwd0a:     307440 sectors in 305 cylinders of 16 tracks, 63 sectors
          150.1MB in 1 cyl groups (306 c/g, 150.61MB/g, 19328 i/g)
  /dev/rwd0d:     245952 sectors in 244 cylinders of 16 tracks, 63 sectors
          120.1MB in 1 cyl groups (244 c/g, 120.09MB/g, 15360 i/g)
  /dev/rwd0e:     164304 sectors in 163 cylinders of 16 tracks, 63 sectors
          80.2MB in 1 cyl groups (164 c/g, 80.72MB/g, 10368 i/g)
  /dev/rwd0g:     4194288 sectors in 4161 cylinders of 16 tracks, 63 sectors
          2048.0MB in 13 cyl groups (328 c/g, 161.44MB/g, 20608 i/g)
  /dev/rwd0h:     8388576 sectors in 8322 cylinders of 16 tracks, 63 sectors
          4096.0MB in 26 cyl groups (328 c/g, 161.44MB/g, 20608 i/g)
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Mon May  9 22:47:18 2
  005)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid, ctime=M
  on May  9 22:47:18 2005)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Mo
  n May  9 22:47:18 2005)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Mon May  9
   22:47:18 2005)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Mo
  n May  9 22:47:18 2005)
  
</pre>
</td></tr></tbody></table>

<p>
Elõször sorban kiírja a választott befûzési pontokat, ha Enter-t ütsz. 
Ha elfogadod akkor írd be, hogy <span style="font-style: italic;">done</span>
(kész). Ekkor kiírja az összes befûzési pontot még egyszer. 
Csodálkozhatsz, hogy vajon miért kérdezi meg a telepítõ újra a 
befûzési pontokat. Azért mert ilyenkor még lehetõséged van, hogy kijavítsd 
azokat a korábbi hibákat vagy mulasztásokat a befûzési pontok meghatározásában,
amiket a disklabel elkészítésekor követtél el. Például, a telepítési 
eljárás automatikusan töröl minden duplikált befûzési pontot, amit a
disklabel beállítása alatt készítettél. A disklabel program megengedi az
ilyen többszörözések létrehozását, ezért kilépve a programból, le kell 
ellenõrizni ezeket. A törölt befûzési pontok miatt lehetnek olyan partíciók,
amelyeknek nincs befûzési pontjuk, ezért itt még meghatározhatsz nekik új 
befûzési pontokat, ha használni is akarod õket.

<p>
Figyelj, hogy az "Are you really sure that you are ready to proceed?"
(Biztos, hogy folytatni akarod?) kérdésre az alapértelmezett válasz a 
'no' (nem), ezért egyértelmûen meg kell adnod, hogy folytatod és
formázod a partíciókat. Ha a válaszod 'no' (nem), akkor egyszerûen kikerülsz a
parancsértelmezõhöz, és újra kezdheted a telepítést az 'install" parancs
begépelésével, vagy újraindíthatod a rendszert a boot lemezrõl.

<p>
Ennél a pontnál minden fájlrendszered le lesz formázva. Ez eltart egy ideig, 
a partíciók méretétõl és a lemezed sebességétõl függõen.

<a name="Hostname"></a>
<h3>4.5.3 - A rendszer hosztnév beállítása</h3>
Most be kell állítanod a rendszered hosztnevét.
Ez az érték a DNS tartománynévvel (domain név) együtt (a meghatározás
<a href="#Network">lejjebb</a>), a <tt>/etc/myname</tt> fájlba
lesz elmentve, amely a normális rendszerindításkor a rendszer hosztnevének 
beállítására szolgál. Ha nem állítod be a rendszer tartománynevét (domain név), 
akkor az alapértelmezett 'my.domain' lesz használva. 

<p>
Fontos most beállítani ezt a nevet, mert ez lesz használva a rendszer 
kriprografikus kulcsának elõállításakor a telepítés utáni elsõ 
rendszerindításkor. Ez teljesen független attól, hogy a hálózat be van-e
állítva vagy sem.<br>

<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Enter system hostname (short form, e.g. 'foo'): <b>puffy</b>
</pre>
</td></tr></tbody></table>

<pre>
------
  Írd be a rendszer hosztnevét (rövid forma, pl. 'foo'): <b>puffy</b>
------
</pre>

<a name="Network"></a>
<h3>4.5.4 - Hálózat beállítása</h3>
Most végre itt az idõ a hálózat beállítására. A hálózatot mindenképpen 
be kell állítani, ha FTP vagy NFS alapú telepítést tervezel annak az
információnak a figyelembevételével amit itt készülsz beírni. Itt megmutatjuk
lépésrõl lépésre, hogyan kell a hálózatot beállítani a telepítés során.

<p>
<table border="0" width="650">
<tbody><tr><td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Configure the network? [yes] <b><i>Enter</i></b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The default media for fxp0 is
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the default media? [no] <b><i>Enter</i></b>
  IP address for fxp0? (or 'dhcp') <b>199.185.137.55</b>
  Netmask? [255.255.255.0] <b><i>Enter</i></b>
  Done - no available interfaces found.
  DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.com</b>
  DNS nameserver? (IP address or 'none') [none] <b>199.185.137.1</b>
  Use the nameserver now? [yes] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') <b>199.185.137.128</b>
  add net default: gateway 199.185.137.128
  Edit hosts with ed? [no] <b><i>Enter</i></b>
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
</pre>
</td></tr></tbody></table>

<pre>
------
  Beállítsuk a hálózatot? [yes] <b><i>Enter</i></b>
  A választható interfészek: fxp0.
  Melyiket akarod inicializálni? (vagy 'done') [fxp0] <b><i>Enter</i></b>
  Szimbolikus (hoszt) neve az fxp0-nak? [puffy] <b><i>Enter</i></b>
  Az alapértelmezett média az fxp0-hoz
  média: Ethernet automatikus választás (100baseTX full-duplex)
  Meg akarod-e változtatni az alapértelmezett médiát? [no] <b><i>Enter</i></b>
  fxp0 IP címe? (vagy 'dhcp') <b>199.185.137.55</b>
  Alhálózati maszk? [255.255.255.0] <b><i>Enter</i></b>
  Kész - nincs alkalmazható interfész.
  DNS tartománynév? (pl. 'bar.com') [my.domain] <b>example.com</b>
  DNS névkiszolgáló? (IP cím vagy 'none') [none] <b>199.185.137.1</b>
  Használjuk a névkiszolgálót már most? [yes] <b><i>Enter</i></b>
  Alapértelmezett átjáró? (IP cím, 'dhcp' vagy 'none') <b>199.185.137.128</b>
  hálózati alapérték megadva: átjáró 199.185.137.128
  Szerkeszted a host fájlt az ed-del ? [no] <b><i>Enter</i></b> 
  Akarsz még valamit manuálisan változtatni a hálózati beállításokon? [no] <b><i>Enter</i></b>
------
</pre>

<p>
A fenti példában statikus IP címet használtunk. Mint az látható, használhatsz
helyette "<tt>dhcp</tt>"-t a legtöbb platformon (kivéve 
<a href="../../hu/alpha.html">Alpha</a>), feltételezve, hogy a
környezeted támogatja. DHCP esetén a legtöbb információt a távoli 
DHCP szerverrõl szerzi meg a rendszer, de lesz rá lehetõséged, hogy ezeket
megerõsítsd. Itt egy példa a hálózati beállításokra DHCP-vel:

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>  
  Configure the network? [yes] <b><i>Enter</i></b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The default media for fxp0 is
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the default media? [no] <b><i>Enter</i></b>
  IP address for fxp0? (or 'dhcp') <b>dhcp</b>
  Issuing hostname-associated DHCP request for fxp0.
  Sending on   Socket/fallback/fallback-net
  DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
  DHCPOFFER from 199.185.137.128
  DHCPREQUEST on fxp0 to 255.255.255.255 port 67
  DHCPACK from 199.185.137.128 
  New Network Number: 199.185.137.0
  New Broadcast Address: 199.185.137.255
  bound to 199.185.137.55 -- renewal in 43200 seconds.
  Done - no available interfaces found.
  DNS domain name? (e.g. 'bar.com') [example.org] <b><i>Enter</i></b>
  DNS nameserver? (IP address or 'none') [199.185.137.1] <b><i>Enter</i></b>
  Use the nameserver now? [yes] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') [199.185.137.128] <b><i>Enter</i></b>
  Edit hosts with ed? [no] <b><i>Enter</i></b>
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
</pre>
</td></tr></tbody></table>

<p>
<b>MEGJEGYZÉS: </b>Csak <b>egy</b> csatolót lehet
egyszerûen beállítani DHCP-vel telepítéskor. Ha több interfészt akarsz
DHCP-vel konfigurálni, akkor az hibát okoz. A többi interfészt manuálisan 
kell beállítanod a telepítés után.

<p>
Most állítsd be a root jelszavát:

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
Password for root account? (will not echo) <b><i>pAssWOrd</i></b>
Password for root account? (again) <b><i>pAssWOrd</i></b>
</pre>
</td></tr></tbody></table>

<p>
Használj biztonságos jelszót a root accounthoz!
Miután a rendszer elindult, készíthetsz újabb felhasználói fiókokat. 
A <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">passwd(1)</a>
man-ból:

<pre>
    Az új jelszó legalább hat karakter hosszú legyen, és ne csak tisztán az abc karaktereit
    tartalmazza. A teljes hossz kisebb legyen mint a _PASSWORD_LEN (jelenleg 128 karakter).
    Ajánlott kis- és nagybetûk, számok, és metakarakterek keverékét használni.
</pre>

<a name="InstMedia"></a>
<h3>4.5.5 - A telepítési média kiválasztása</h3>
Miután beállítottad a hálózatodat, a telepítõ szkript felajánlja
a konfiguráció manuális állítását. Ezután következik a létrehozott 
fájlrendszerek befûzése és a root jelszó beállítása. Ezzel a helyi
lemezed készen áll arra, hogy feltelepítsd rá az OpenBSD fájlkészleteket.

<p>
Ekkor kiválaszthatod a telepítési médiát. A lehetõségek a lenti listában 
láthatók.

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  You will now specify the location and names of the install sets you want to
  load. You will be able to repeat this step until all of your sets have been
  successfully loaded. If you are not sure what sets to install, refer to the
  installation notes for details on the contents of each.
  
  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets? <b>c</b>
  Available CD-ROMs are: cd0.
</pre>
</td></tr></tbody></table>

<pre>
-------
  Most határozd meg a betölteni kívánt telepítõ készlet helyét és nevét.
  Ezt a lépést meg tudod ismételni egészen addig, amíg minden készlet sikeresen fel
  nem lesz telepítve. Ha nem vagy biztos benne, hogy milyen készleteket telepíts,
  akkor nézd meg telepítési jegyzetet annak részleteiért, hogy melyik mit tartalmaz.
  
  A készletek lehetnek (m)ountolt -befûzött- fájlrendszeren; (c)dromon, (d)isk -lemez- vagy (t)ape -szalag-
  eszközön; vagy (f)tp, (n)fs vagy (h)ttp kiszolgálón.
  Where are the install sets? <b>c</b>
  Lehetséges CD-ROM-ok: cd0.
------
</pre>

<p>
Ebben a példában CD-ROM-ról telepítünk. Ez felhozza azoknak az eszközöknek a
listáját amit a számítógépeden CD-ROM-ként érzékel. A legtöbb embernek 
általában egy van. Ha mégis szükséges, válaszd ki azt az eszközt, 
amelyikrõl telepíted az OpenBSD. 

<p>
<b>MEGJEGYZÉS:</b> Minden lehetséges telepítési forrás ki lesz listázva, 
de nem biztos, hogy mindegyiket lehet az adott rendszeren használni.
Pl. <tt>(n)fs</tt> látszik, de nem minden architektúrán lehetséges az NFS 
telepítés. Ha olyan forrást választasz, ami nem áll rendelkezésre, 
akkor egy hibaüzenetet kapsz és választhatsz másik telepítési forrást.

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Available CD-ROMs are: cd0.
  Which one contains the install media? (or 'done') [cd0] <b><i>Enter</i></b>
  Pathname to the sets?  (or 'done') [3.8/i386] <b><i>Enter</i></b>
</pre>
</td></tr></tbody></table>

<pre>
------
  A lehetséges CD-ROM-ok: cd0.
  Melyik tartalmazza a telepítési médiát? (vagy 'done') [cd0] <b><i>Enter</i></b>

  A készlet elérési útja?  (vagy 'done') [3.8/i386] <b><i>Enter</i></b>
------
</pre>

<p>
Itt megkérdezi, hogy melyik katalógusban vannak a telepítési fájlok. 
Ez a <tt>3.8/i386/</tt> a hivatalos CD-ROM-on. <a name="Filesets"></a>

<h3>4.5.6 - Fájlkészletek kiválasztása</h3>
Most itt az idõ, hogy kiválaszd a telepíteni kívánt fájlkészleteket. 
Ezeknek a fájloknak a leírását elolvashatod a <a href="#FilesNeeded">következõ
fejezetben</a>. A fájlokat, amelyeket a telepítõ program talál, kilistázza a
képernyõre. Neked csak meg kell határozni a kívánt fájlokat. Alapértelmezésben
minden nem-X fájlkészlet ki van választva, azonban lehetnek olyanok,
akik le akarják venni ezt is arra a minimumra, amelyen az
OpenBSD még képes futni. Akkor ezek a <tt>base38.tgz</tt>,
<tt>etc38.tgz</tt> és <tt>bsd</tt>. Mások pedig mindent
telepíteni szeretnének. A példa a teljes telepítést mutatja:

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

          [X] bsd
          [X] bsd.rd
          [ ] bsd.mp
          [X] base38.tgz
          [X] etc38.tgz
          [X] misc38.tgz
          [X] comp38.tgz
          [X] man38.tgz
          [X] game38.tgz
          [ ] xbase38.tgz
          [ ] xetc38.tgz
          [ ] xshare38.tgz
          [ ] xfont38.tgz
          [ ] xserv38.tgz

  File Name? (or 'done') [bsd.mp] <b>all</b>

  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

          [X] bsd
          [X] bsd.rd
          [X] bsd.mp
          [X] base38.tgz
          [X] etc38.tgz
          [X] misc38.tgz
          [X] comp38.tgz
          [X] man38.tgz
          [X] game38.tgz
          [X] xbase38.tgz
          [X] xetc38.tgz
          [X] xshare38.tgz
          [X] xfont38.tgz
          [X] xserv38.tgz

</pre>
</td></tr></tbody></table>

<pre>
------
  A következõ készletek elérhetõk. Írd be a fájlnevet, 'all' az összes
  csomag kiválasztásához, vagy 'done'. A kiválasztás törléséhez a
  csomag neve elé írd a'-' jelet.
------
</pre>

<p>
Használhatsz mindenféle elegáns dolgokat itt: "<tt>-x*</tt>"
eltávolít minden X komponenst, ha mégis meggondolnád magad. 
Ebben az esetben mi most feltelepítünk minden csomagot. Mind a kezdeti
alapérték, mind a teljes telepítés ajánlott. A részletekért nézd 
meg <a href="#FilesNeeded">ezt a fejezetet</a>.

<p>
Ha sikeresen kiválasztottad a kívánt fájlkészleteket, akkor rákérdez
a telepítõ, hogy tényleg ki akarod csomagolni a fájlkészleteket, majd
azután telepítésre kerülnek. Egy állapotjelzõ mutatja, hogy mennyi idõ 
van még hátra. Ez az idõ nagyban függ attól, hogy milyen rendszerre 
telepíted a OpenBSD-t, a telepítendõ fájlkészletektõl, és a forrás 
média sebességétõl. Ez a rész néhány perctõl több óráig is eltarthat.

<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  File Name? (or 'done') [done] <b><i>Enter</i></b>
  Ready to install sets? [yes] <b><i>Enter</i></b>
  Getting bsd ...
  100% |**************************************************|  5030 KB    00:08
  Getting bsd.rd ...
  100% |**************************************************|  4478 KB    00:02
  Getting bsd.mp ...
  100% |**************************************************|  5072 KB    00:03
  Getting base38.tgz ...
  100% |**************************************************| 34337 KB    00:24
  Getting etc38.tgz ...
  100% |**************************************************|  1636 KB    00:01
  Getting misc38.tgz ...
  100% |**************************************************|  2222 KB    00:01
  Getting comp38.tgz ...
  100% |**************************************************| 21606 KB    00:17
  Getting man38.tgz ...
  100% |**************************************************|  7199 KB    00:05
  Getting game38.tgz ...
  100% |**************************************************|  2539 KB    00:01
  Getting xbase38.tgz ...
  100% |**************************************************| 10526 KB    00:08
  Getting xetc38.tgz ...
  100% |**************************************************| 96303       00:00
  Getting xshare38.tgz ...
  100% |**************************************************|  1981 KB    00:02
  Getting xfont38.tgz ...
  100% |**************************************************| 32412 KB    00:23
  Getting xserv38.tgz ...
  100% |**************************************************| 18322 KB    00:14

  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets? (or 'done') [done] <b><i>Enter</i></b>
</pre>
</td></tr></tbody></table>

<p>
Ennél a pontnál hozzáadhatsz más forrásból származó fájlokat 
(<a href="#site">egyéni fájlkészleteket</a> is beleértve), vagy
beírhatod a '<tt>done</tt>' szót, ha minden kívánt fájlkészletet
feltelepítettél.

<a name="Finish"></a>
<h3>4.5.7 - Befejezés</h3>
A következõkben feltesz a telepítõ néhány kérdést, a telepített rendszered
beállításával kapcsolatban. Az elsõ, hogy az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
elinduljon-e rendszerindításkor. Általában akarjuk, hogy fusson az 
sshd(8), de persze lehet olyan eset, hogy mégsem szeretnéd. 
Ha az alkalmazásaidnak nincs szükségük arra, hogy fusson az sshd(8), 
akkor van némi elméleti biztonsági elõnye annak, ha nem indítjuk el.

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Start sshd(8) by default? [yes] <b>y</b>
</pre>
</td></tr></tbody></table>

<p>
Válaszolnod kell, hogy akarod-e futtatni az
<a href="../faq6.html#OpenNTPD">OpenNTPD</a>
démont rendszerindításkor.
OpenNTPD segítségével kis erõforrás felhasználással lehet a
számítógép óráját pontosan szinkronban tartani. Az alapértelmezett
beállítások megfelelnek az átlagos felhasználásra.
Ha a hálózat nincs megfelelõen beállítva, akkor a OpenNTPD
jelentõsen lelassíthatja a rendszer elsõ indulását, ezért 
késõbb is bekapcsolhatjuk úgy, hogy megfelelõen átírjuk a
<a href="../faq10.html#rc">indító szkripteket</a>.
Ha viszont a hálózatot megfelelõen konfiguráltuk korábban, akkor
már most el lehet indítani.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Start ntpd(8) by default? [no] <b>y</b>
</pre></td></tr></table>

<p>
Most megkérdezi tõled, hogy fogsz-e X-et futtatni a rendszeren.
Ha a válaszod 'Y', azaz igen, akkor az <tt>/etc/sysctl.conf</tt>
fájlba beleírja a következõ sort <tt>machdep.allowaperture=1</tt> vagy
<tt>machdep.allowaperture=2</tt>, a platformtól függõen. Néhány platform
egyáltalán nem teszi fel ezt a kérdést.

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Do you expect to run the X Window System? [yes] <b>y</b>
</pre>
</td></tr></tbody></table>

<p>
Ezután megkérdezi, hogy akarsz-e 
<a href="../faq7.html#SerCons">soros konzol</a>-t használni a számítógéphez
a szabványos billentyûzet és monitor helyett.
Ha a "<tt>yes</tt>"-t (igen) választod és megválaszolsz még pár egyszerû 
kérdést, akkor a
<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8">/etc/boot.conf</a></tt>
és a 
<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5">/etc/ttys</a></tt>
ennek megfelelõen lesz létrehozva.
A legtöbb felhasználó azonban az alapértelmezett <b><tt>no</tt></b>-t 
választja.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE">
<pre>
  Change the default console to com0? [no] <b><i>Enter</i></b>
</pre>
</td></tr></table>

<p>
Az utolsó feladatod az idõzóna megadása. Attól függõen, hogy hol van a géped, 
több egyformán helyes válasz lehet a kérdésre. A következõ példában mi a 
<tt>US/Eastern</tt> használjuk, de használhattuk volna a <tt>EST5EDT</tt> 
vagy a <tt>US/Michigan</tt> ugyanazzal az eredménnyel. A <tt>?</tt> leütése
megmutatja a választási lehetõségeket.

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Do you expect to run the X Window System? [y] <b>y</b>
  Saving configuration files......done.
  Generating initial host.random file ......done.
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>?</b>
  Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      Turkey
  America/     Cuba         GMT          Jamaica      Navajo       UCT
  Antarctica/  EET          GMT+0        Japan        PRC          US/
  Arctic/      EST          GMT-0        Kwajalein    PST8PDT      UTC
  Asia/        EST5EDT      GMT0         Libya        Pacific/     Universal
  Atlantic/    Egypt        Greenwich    MET          Poland       W-SU
  Australia/   Eire         HST          MST          Portugal     WET
  Brazil/      Etc/         Hongkong     MST7MDT      ROC          Zulu
  CET          Europe/      Iceland      Mexico/      ROK          posix/
  CST6CDT      Factory      Indian/      Mideast/     Singapore    posixrules
  Canada/      GB           Iran         NZ           SystemV/     right/
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>US</b>
  What sub-timezone of 'US' are you in? ('?' for list) <b>?</b>
  Alaska          Central         Hawaii          Mountain        Samoa
  Aleutian        East-Indiana    Indiana-Starke  Pacific
  Arizona         Eastern         Michigan        Pacific-New
  Select a sub-timezone of 'US' ('?' for list): <b>Eastern</b>
  Setting local timezone to 'US/Eastern'...done.
</pre>
</td></tr></tbody></table>

Ha aggódsz a nagyon pontos idõ miatt, akkor olvasd el <a
 href="../faq8.html#NTPerror">ezt az oldalt</a>.

<p>
Az utolsó lépés a <tt>/dev</tt> katalógus létrehozása 
(amely eltarthat egy darabig bizonyos rendszereken, fõleg ha nincs elég RAM) 
és a boot blokk telepítése. 

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Making all device nodes...done.
  Installing boot block...
  boot: /mnt/boot
  proto: /usr/mdec/biosboot
  device: /dev/rwd0c
  /usr/mdec/biosboot: entry point 0
  proto bootblock size 512
  /mnt/boot is 3 blocks x 16384 bytes
  fs block shift 2; part offset 3069360; inode block 152, offset 4136
  using MBR partition 1: type 166 (0xa6) offset 3069360 (0x2ed5b0)
  done.

  CONGRATULATIONS! Your OpenBSD install has been successfully completed!
  To boot the new system, enter halt at the command prompt. Once the
  system has halted, reset the machine and boot from the disk.
  # <b>halt</b>
  syncing disks... done

  The operating system has halted.
  Please press any key to reboot.
</pre>
</td></tr></tbody></table>

<p>
Ezután a telepítõ kiadja a halt parancsot, amire a rendszer
leáll. Ekkor kikapcsolhatod a gépet, vagy egy billentyû
lenyomására újraindul.
Most már az OpenBSD fel van telepítve a rendszeredre
és készen áll az elsõ indításra, de mielõtt megtennéd...

<p>
<h4>Mielõtt újraindítanál</h4>
Ezen a ponton a rendszered fel van telepítve, készen áll az újraindításra 
és a szolgáltatások beállítására. Mielõtt ezt megtennéd, ajánlatos megvizsgálni 
a <a href="../../errata.html">Hibajelentések oldalát</a>, 
hogy megnézd van-e valamilyen bug ami azonnal hatással lehet rád.<br>

<p>
Egy trükkel már az "az elsõ indítás elõtt" is elvégezhetsz néhány beállítást,
ha futtatod a 
<pre>
    # <b>/mnt/usr/sbin/chroot /mnt</b>
</pre>
parancsot a parancsértelmezõ promptnál.
Ez beállítja a csatolási pontokat úgy, mint ahogy majd a normál rendszerindítás
fogja az újonnan telepített rendszereden.
Ezután már elvégezhetsz alapvetõ rendszer beállításokat, mint pl.
felhasználók felvétele, csatolási pontok megváltoztatása, stb.

<h4>Miután újraindítottál</h4>
Az egyik elsõ dolog, amit olvass el a telepítés után, az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a>
kézikönyv oldal.

<p>
A következõ linkeket is hasznosnak találhatod:

<ul>
  <li><a href="../faq10.html#AddDelUser">Felhasználók hozzáadása az OpenBSD-ben</a> 
  <li><a href="../faq6.html#Setup">Hálózat Kezdeti Beállításai</a> 
  <li><a href="../faq2.html#ManPages">A népszerû/hasznos parancsok kézikönyv oldalai</a> 
  <li><a href="http://www.openbsd.org/cgi-bin/man.cgi">OpenBSD kézikönyv oldalak a Weben</a> 
  <li><a href="../../ports.html">A szoftverek telepítése az OpenBSD Portok és Csomagok rendszer
segítségével</a>, és <a href="../faq8.html#Ports">ezt is</a> és <a href="../faq8.html#Packages">ezt is</a> 
</ul>

<h4>Még egy utolsó dolog...</h4>
Az OpenBSD fejlesztõk megkérnek, hogy 
<a href="#SendDmesg">Küldj egy másolatot a dmesg-edrõl</a>.
Ezért tényleg nagyon hálásak a fejlesztõk, és végül persze minden felhasználó.

<p>
<a name="FilesNeeded"></a>

<h2>4.6 - Milyen fájlok szükségesek a telepítéshez?</h2>
<!-- XXXrelease -->

<p>
A teljes OpenBSD telepítés fel van osztva több különálló <i>fájlkészletre</i>.
Nem minden alkalmazásnak szükséges minden fájlkészlet. Itt egy áttekintés róluk:

<p>
<ul>
  <li><b><i>bsd</i></b> - Ez maga a rendszermag. <b>Szükséges</b> 
  <li><b><i>bsd.mp</i></b> - Multi-processzor (SMP) rendszermag (csak néhány platformon) 
  <li><b><i>bsd.rd</i></b> - <a href="#bsd.rd">RAM lemez rendszermag</a>
  <li><b><i>base38.tgz</i></b> - Az alap OpenBSD rendszert tartalmazza <b>Szükséges</b><b></b>
  <li><b><i>etc38.tgz</i></b> - Az /etc katalógusban levõ fájlokat tartalmazza <b>Szükséges</b> 
  <li><b><i>comp38.tgz</i></b> - A fordítót és a segédeszközeit, libjeit tartalmazza. <b>Ajánlott</b> 
  <li><b><i>man38.tgz</i></b> - A kézikönyv lapokat tartalmazza <b>Ajánlott</b>
  <li><b><i>misc38.tgz</i></b> - Egyéb információkat, beállítási dokumentációt tartalmaz 
  <li><b><i>game38.tgz</i></b> - Játékok az OpenBSD-hez 
  <li><b><i>xbase38.tgz</i></b> - Az X11 alap telepítését tartalmazza 
  <li><b><i>xetc38.tgz</i></b> - Tartalmazza az /etc/X11 és az /etc/fonts konfigurációs fájlokat 
  <li><b><i>xfont38.tgz</i></b> - Az X11's font kiszolgálót és a fontokat tartalmazza 
  <li><b><i>xserv38.tgz</i></b> - Az X11 X kiszolgálóit tartalmazza 
  <li><b><i>xshare38.tgz</i></b> - Kézikönyv oldalak, locale beállítások, include fájlok, etc az X-hez
</ul>

Az <b>etc38.tgz</b> és az <b>xetc38.tgz</b> készletek nem települnek fel 
a frissítés (upgrade) részeként, hanem csak a teljes telepítéskor, 
ezért az eddigi saját beállításaid nem fognak elveszni.
Az <tt>/etc</tt>, <tt>/dev</tt> és <tt>/var</tt> katalógusokat
manuálisan kell beállítanod.

<p>
<a name="SpaceNeeded"></a>

<h2> 4.7 - Mennyi helyre van szükség az OpenBSD telepítéséhez?</h2>
<!-- XXXrelease -->

<p>
A válasz természetesen nagyban függ attól, hogy mire akarod használni a
rendszered, a következõ értékek viszont jók <i>kiindulási</i> alapnak: 

<blockquote><pre>
(root)             100 MB
/usr               250 MB (X nélkül) vagy 400MB (X-szel)
/var                25 MB
/tmp                50 MB
swap                32 MB
</pre></blockquote>

Ezek a minimális ajánlott méretek egy teljes telepítéshez.
Ez elégséges egy átlagos otthoni rendszerhez internet kapcsolattal,
de nem többre.

<p>
Amire viszont figyelj:
<ul>
<li>Ezek a minimális értékek. A merevlemez manapság meglehetõsen olcsó,
 ezért felerõltetni a rendszert a lehetõ legkisebb lemezre igen ritkán
 kifizetõdõ. Különleges alkalmazásokhoz lehetséges még a fentinél is kisebb
 méreteket használni, de azt ki kell kisérletezni.
<li>Ha nagy mennyiségû külsõ programot tervezel telepíteni, akkor az <tt>/usr</tt>
 partíciót hagyd nagyra! <b>Legalább</b> az itt megadott érték háromszorosára! 
<li>A nagy mennyiségû e-mailt vagy web lapot kezelõ rendszereknek 
 (ennek megfelelõen a <tt>/var/mail</tt> és <tt>/var/www</tt> katalógusban
 vannak a fájlok) akkor a <tt>/var</tt> partíciót kell sokkal nagyobbra venni, 
 illetve külön partícióra tenni õket. 
<li>Egy többfelhasználós rendszerben, amely sok
 logot generál, a <tt>/var</tt>  partíciót hagyd sokkal nagyobbra,
 vagy készíts különálló log partíciót (<tt>/var/log</tt>). 
<li>Ha a rendszermagot vagy az egész rendszert forrásból akarod újraépíteni,
 akkor az <tt>/usr</tt> partíciót hagyd sokkal nagyobbra, <b>legalább</b>
 2 GB-tal nagyobbra mint lent mutatjuk.
<li>A <a href="../faq8.html#Ports">portok</a> fordítása forrásból
meglehetõsen nagy lemezterületet igényel az <tt>/usr</tt> és a <tt>/tmp</tt>
partíción, ezért is javasoljuk az elõre fordított csomagok használatát.
<li>A <tt>/tmp</tt> partíciót használjuk a portok fordítására és még sok másra,
ezért a mérete attól függ, hogy mire akarod használni.
50 MB általában elég a legtöbb embernek, de néhány nagyobb alkalmazás igényli a
100 MB vagy még több helyet a <tt>/tmp</tt> partíción.

<li>Az elsõ meghajtó 'b' partíciója automatikusan a rendszered csere (swap)
partíciója lesz, ezért ajánljuk, hogy a mérete legalább 32 MB legyen,
vagy ha van elég helyed, akkor legalább 64 MB. A legjobb azonban az, ha
legalább 256 MB, vagy még inkább 512 MB a mérete.
Másrész azonban, ha flash meghajtót használsz lemeznek, akkor valószínûleg
egyáltalán nem akarsz csere partíciót.
Sokan azt a régi ökölszabályt követik, hogy a csere partíció mérete
legalább a rendszer memória (RAM) kétszerese legyen.
Ez azonban badarság.
Nagy méretû swap-pal rendelkezõ modern rendszereken a legtöbb felhasználó
nem is szeretné, hogy a rendszere egyáltalán hasznája a swap-ot. 
Használj annyi csereterületet, amennyi az igényeidnek kell.
<li>Swap és <tt>/var</tt> használatos a rendszer "core dump" tárolására
rendszerhiba (
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crash&amp;sektion=8">crash(8)</a>)
esetén.
Ha ezt is figyelembe akarod venni, akkor a csere partíciónak kissé nagyobbnak
kell lennie, mint annak a memória méretnek, amely valaha is lesz a rendszerben.
Újraindításkor
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=savecore&amp;sektion=8">savecore(8)</a>
megpróbálja elmenteni a csere partíció tartalmát egy fájlba a
<tt>/var/crash</tt> alá, ezért ha erre is fel akarsz készülni, akkor a
<tt>/var</tt> partíció kellõen nagy <i>szabad hellyel</i> kell, hogy
rendelkezzék ezeknek a fájloknak a tárolásához.
Ezt azért gondold át -- kevés fejlesztõ akarná megnézni a te 1 GB-os dump
fájlodat, tehát hacsak te magad nem akarod vizsgálni a rendszered összeomását,
akkor valószínûleg erre nincs szükség.
</ul>

<p>
Több oka is van a különálló fájlrendszerek használatának, ahelyett, hogy
mindent egy vagy két fájlrendszerbe pakolnánk:

<ul>
<li><b>Biztonság</b>: Megjelölheted a fájlrendszereket mint 'nosuid',
'nodev', 'noexec', 'readonly', stb. Ezt most megtette a telepítõ,
ha a fenti partíciókat használtad. 
<li><b>Stabilitás</b>: Egy felhasználó, vagy rosszul viselkedõ program,
képes megtölteni a teljes fájlrendszert szeméttel, ha van rá írási joga.
A kritikus programjaid, amelyek persze más fájlrendszeren vannak,
nem fognak megszakadni. 
<li><b>Sebesség</b>: Az a fájlrendszer, amelyikre gyakran írnak töredezetté
válhat. (Szerencsére az OpenBSD által használt ffs fájlrendszer nem hajlamos
a nagyfokú töredezõdésre.) 
<li><b>Integritás</b>: Ha egy fájlrendszer megsérül valamilyen okból,
attól még a többi sértetlen maradhat. 
<li><b>Méret</b>: Több gépen vannak korlátok arra a lemezterületre,
ahonnan az indító ROM betölti a rendszermagot. Bizonyos esetekben ez a
méret korlát nagyon kicsi is lehet (504 MB a régi 486-os gépeken),
más esetekben sokkal nagyobb (pl. 2 GB, 8 GB vagy 128 GB az új i386
rendszereken). Mivel a rendszermag a gyökér (root) partíción belül bárhova
kerülhet, ezért az egész root partíciónak ezen a határon belül kell lennie.
A részletekért nézd meg
<a href="../faq14.html#LargeDrive">ezt a fejezetet</a>.
Egy jó irányelvként tartsd az egész / partíciót 2 GB alatt,
hacsak nem tudod biztosan, hogy a platform (és az adott gép!)
tud kezelni többet (vagy kevesebbet!).
</ul>

<p>
Még néhány gondolat a particionálásról:

<ul>
  <li>Elsõ próbálkozásra egy kísérleti rendszeren, egyetlen nagy <tt>/</tt>
    partíció és swap segítségével könnyebb kitalálni, hogy pontosan mennyi 
    hely kell a fájlrendszereknek. Persze ezzel feláldozod az OpenBSD
    számos alapértelmezett biztonsági szolgáltatását, amelyekhez szükséges a 
<tt>/, /tmp, /var, /usr</tt> és <tt>/home</tt> fájlrendszerek különválasztása. 
  <li>Egy olyan rendszernek amit kiteszel az Internetre vagy
    egyéb ellenséges környezetbe, mindenképpen különálló <tt>/var</tt> 
    (vagy még inkább külön <tt>/var/log</tt>) partíciója legyen a logoláshoz. 
  <li>A <tt>/home</tt> partíció nagyon kényelmes lehet. Az operációs 
    rendszered újabb verzióját akarod feltenni? Törölj le és telepíts fel mindent, 
    csak a <tt>/home</tt> partíciót hagyd érintetlenül. Persze ne felejts a 
    beállítófájljaidról másolatot készíteni! 
  <li>Egy különálló partíciót, amely nagyon sok fájlt tartalmaz, gyorsabb 
    leformázni, mint letörölni róla a fájlokat. Nézd meg
    a <a href="faq5.html#ProbObjPt">rendszer építése forrásból FAQ</a>
    oldalt egy ehhez kapcsolódó példához (<tt>/usr/obj</tt>). 
  <li>Ha forrásból akarod a rendszered újraépíteni valamilyen okból, 
    akkor a forrás az <tt>/usr/src</tt> katalógusban lesz. Ha nem
    különálló partíción van a <tt>/usr/src</tt>,
    akkor bizonyosodj meg arról, hogy a <tt>/usr</tt> partíción van elég hely. 
  <li>Egy gyakran elfeledett tény: <b>Nem</b> kell a
    meghajtón minden helyet lefoglalnod, mikor feltelepíted a rendszert! 
    Mivel manapság nem egyszerû 20 GB-nál kisebb méretû merevlemezt vásárolni, 
    ezért inkább hagyd a meghajtód egy részét szabadon. Ha kinõssz egy partíciót, 
    akkor kijelölhetsz egy újabb partíciót a szabad helyen, 
    <a href="../faq10.html#DupFS">kettõzd meg</a> a meglévõ partíciót az újra, 
    változtasd meg az <a  href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
    fájlt, hogy mutasson az új partícióra, fûzd be újra (remount), 
    és már van is megfelelõ méretû helyed. 
  <li>Ha a partícióid mérete közel van a minimálisan megkívánt mérethez, akkor 
    azt valószínûleg késõbb fogod bánni, amikor frissíteni akarod a rendszered. 
  <li>Ha engedélyezed a felhasználóknak, hogy írhassanak a <tt>/var/www</tt> 
    katalógusba (pl., saját weboldalak), akkor valószínûleg ezt is egy különálló 
    partícióra szeretnéd rakni, így használhatsz 
    <a href="../faq10.html#Quotas">kvótákat</a> az általuk felhasználható 
    területek méretére, és ha teljesen megtöltik a partíciót,
    attól még a rendszer többi része érintetlen marad. 
</ul>

<p>
<a name="Multibooting"></a>
<h2>4.8 - Multiboot OpenBSD/i386</h2>
Multiboot azt jelenti, hogy ugyanazon a gépen több
operációs rendszer van fenn, és indításnál szeretnénk valahogy
eldönteni, hogy melyik töltõdjön be. Ez <i>nem</i> egy triviális feladat!
Ha nem érted, hogy mit csinálsz, az nagy mennyiségû adatvesztést eredményezhet. 
Új OpenBSD felhasználók inkább egy üres merevlemezt használjanak, egy erre 
a célra szánt gépen, így gyakorolhatják a beállításokat egy nem "éles" 
rendszeren mielõtt kipróbálnák a multiboot konfigurációt egy "éles" gépen. 
<a href="../faq14.html">FAQ 14</a> részletesen leírja az OpenBSD boot eljárását.

<p>
Itt van néhány opció a multiboothoz:

<h3>Aktív partíciók beállítása</h3>
Ez valószínûleg a legkevésbé figyelembe vett, pedig néha a legjobb megoldás 
a multibootra. Egyszerûen csak be kell állítani az éppen használt operációs 
rendszerben azt a partíciót aktívnak, amelyet legközelebb
használni szeretnénk. Elvileg minden Oprendszerben található erre szolgáló
segédprogram. Az OpenBSD <a href="../faq14.html#fdisk">fdisk(8)</a>
programja, hasonló nevû programok vannak a Windows 9x és
DOS rendszerekben, és sok más operációs rendszerben.
<!--
This can be highly desirable for OSs or systems which take a
long time to shut down and reboot -- you can set it and start the
reboot process, then walk away, grab a cup of coffee, and come back to the
system booted the way you want it -- no waiting for the Magic Moment to select
the next OS.
-->

<h3>Rendszerindító flopi</h3>
Ha olyan rendszered van amelyiken ritkán használod az OpenBSD-t 
(vagy nem szeretnéd, ha a többi felhasználó észrevenne valamilyen
változást), akkor használhatod a rendszerindító flopit.
Egyszerûen használd valamelyik <a href="#MkFlop">szabvány
OpenBSD telepítõ flopit</a>, és készíts egy <tt>/etc/boot.conf</tt> fájlt
(igen, készítened kell a flopira egy <tt>/etc</tt> katalógust) 
ezzel a tartalommal:
<pre>
     boot hd0a:/bsd
</pre>
azért, hogy a rendszer a 0 merevlemezrõl induljon, az 'a' jelû
OpenBSD partícióból, a <tt>/bsd</tt> rendszermaggal. Más meghajtóról is
indíthatsz természetesen, mondjuk egy ilyen sorral: "<tt>boot
hd2a:/bsd</tt>" a rendszered harmadik merevlemezérõl. Ha OpenBSD-t akarsz
indítani, akkor csak csúsztasd be a flopit a meghajtóba és reboot. 
Ha más Oprendszert indítasz akkor vedd ki a flopit és reboot.

<p>
Abban az esetben, ha a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>
programot flopiról töltöd be, keresd meg és
olvasd el a <tt>/etc/boot.conf</tt> fájlt. A "<tt>boot hd0a:/bsd</tt>"
sor megmondja a boot(8) -nak honnan töltse be a rendszermagot --
ebben az esetben a BIOS által elsõnek látott HD-rõl. Ne
feledkezz meg arról, hogy csak egy kis fájl (<tt>/boot</tt>)
töltõdik be a flopiról -- a rendszer a teljes
rendszermagot a merevlemezrõl tölti be, tehát ez csak kb. 5
másodperc többletet ad az indító eljáráshoz.

<h3>Windows NT/2000/XP NTLDR</h3>
Ha OpenBSD és Windows NT/2000/XP multiboot van a gépen,
akkor használhatod a NTLDR-t, ez a rendszertöltõ (boot loader)
amelyet az NT használ. Ha az NT-t is akarod indítani,
akkor szükséged lesz az OpenBSD Partíció Boot Record (PBR)-ed egy másolatára.
Az installboot futtatása után kimásolhatod egy fájlba a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
segítségével igy, vagy ehhez hasonló módszerrel.

<pre>
        # <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
</pre>

Megjegyzés: nagyszerû alkalom ez arra, hogy figyelmeztessünk, nem túlságosan
jó ötlet vakon begépelni ezeket a parancsokat úgy, hogy nem érted amit csinálsz.
A fenti sor például a legtöbb számítógépen nem mûködik.
Az olvasóra bízzuk, hogy a saját gépére alkalmazza ezeket az utasításokat.

<p>
Most indítsd el az NT-t és tedd az <tt>openbsd.pbr</tt>
fájlt a C: meghajtóra. Adj egy ilyen sort a <tt>C:\BOOT.INI</tt>
fájl végéhez:

<pre>
	c:\openbsd.pbr="OpenBSD"
</pre>

<p>
Ha újraindítod a rendszert, akkor már ki kell hogy tudd választani az
OpenBSD-t az NT betöltõ menüjébõl. Több információt találhatsz az NTLRD-rõl a
<a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">NTLDR
Hacking Guide</a> oldalon.

<p>
Windows XP esetén GUI-t használva is tudod szerkeszteni a boot információt.
Nézd meg a
<a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;289022">XP
Boot.ini HOWTO</a>-t.

<p>
Megjegyzés: A Windows NT/2000/XP boot loader csak az elsõdleges
merevlemezrõl tud Oprendszert betölteni. Nem használhatod
arra, hogy a második merevlemezrõl töltsd be az OpenBSD-t.

<p>
<h3>Egyéb rendszerbetöltõk</h3>
Az OpenBSD felhasználók sok egyéb
rendszerbetöltõt használnak sikeresen, mint pl. a <a
 href="http://gag.sourceforge.net/">GAG</a>,
<a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>
és a <a href="http://www.gnu.org/software/grub/">GRUB</a>.

<p>
<h3>OpenBSD és Linux (i386)</h3>
<!-- XXXversion -->
Kérlek nézd meg az <a
 href="ftp://ftp.openbsd.org/pub/OpenBSD/3.8/i386/INSTALL.linux">INSTALL.linux</a>
leírást, amely részletesen leírja, hogyan mûködik együtt az OpenBSD és a Linux.

<a name="SendDmesg"></a>
<h2>4.9 - A dmesg elküldése a dmesg@openbsd.org címre, a telepítés után</h2>

<p>
Csak emlékeztetõül, fontos, hogy az OpenBSD fejlesztõk
követni tudják, hogy milyen hardver mûködik és
melyik hardver nem mûködik megfelelõen.

<p>
Egy részlet a /usr/src/etc/root/root.mail fájlból<br>

<pre>
Ha biztosítani szeretnéd, hogy az OpenBSD jól fusson a rendszereden, kérünk
tégy meg nekünk egy szívességet (miután a levelezõrendszered be lett állítva)
és írj be valami ilyesmit:
 # dmesg | mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@openbsd.org
így láthatjuk, hogy az emberek milyen konfigurációkat futtatnak. Amint itt 
látható, egy kis információ a gépeddel kapcsolatban, a levél tárgyában, vagy
magában a levélben még többet segíthet. Ezt az információt késõbbi kiadások
eszközmeghajtó támogatásának fejlesztésében használjuk (Kérünk ehhez a kínált
GENERIC rendszermagot használd, és ne egy általad konfigurált és fordítottat,
hacsak azért mert nem tudtad a GENERIC maggal a rendszered elindítani).
Az így kapott információ segítségével ki tudjuk javítani a jelenlegi eszköz-
meghajtókat. Köszönjük!
</pre>

<p>
Olyan címrõl küldd a levelet, amely tud fogadni is, így a fejlesztõk 
kapcsolatba tudnak lépni veled ha valamit ki szeretnének veled próbáltatni 
vagy megváltoztattatni, annak érdekében, hogy mûködjön a rendszered. 
Egyáltalán nem fontos, hogy arról a géprõl küldd a levelet, amelyiken az
OpenBSD is fut, tehát ha a gép nem tud levelet fogadni, akkor

<pre>
$ dmesg | mail your-account@yourmail.dom
</pre>

ezután továbbítsd a levelet a

<pre>
 dmesg@openbsd.org
</pre>

címre. Itt a <tt>your-account@yourmail.dom</tt> a te
saját email címed. (vagy továbbítsd a dmesg kimenetet az
FTP/scp/floppydisk/carrier-pigeon/... használatával)

<p>
<strong>MEGJEGYZÉS</strong> - Kérünk, hogy csak a
GENERIC rendszermag dmesg-jeit küldd el. Azok a saját rendszermagok,
amelybõl el lettek távolítva eszközmeghajtók nem hasznosak.

<p>
Még valami: a dmesg-et egy olyan számítógép fogadja, amely a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd</a>
levélszemét (spam) szûrõ rendszert használja. Ez azt okozhatja, hogy a
leveledet egy ideig nem fogadja a levelezõ kiszolgáló. Legyél
türelemmel, fél-egy órán belü menni fog.

<a name="AddFileSet"></a>
<h2>4.10 - Fájlkészletek hozzáadása telepítés után</h2>
<!-- XXXversion -->
"Ó, ne! Elfelejtettem telepítéskor felrakni egy fájlkészletet!"

<p>
Néha rájössz, hogy tényleg
szükséged van a <tt>comp38.tgz</tt> fájlra (vagy bármely másik rendszer 
komponensre), de erre még nem jöttél rá akkor, mikor telepítetted a
rendszert. Jó hír: Két egyszerû módja van
annak, hogy fájlkészletet adj a rendszerhez utólag.

<h3>A frissítés (upgrade) használata</h3>
Egyszerûen indítsd el a rendszert a telepítõ
médiáról (CD-ROM vagy flopi), és
válaszd az Upgrade (frissítés) menüt
(az Install helyett). Mikor eljutsz a telepíthetõ
fájlkészletek listájához, válaszd
azt a csomagot, amelyiknek elõször elhanyagoltad a
telepítését, válaszd ki a forrást,
és hagyd hogy feltelepítse neked.

<h3>A tar(1) használata</h3>
A telepítési fájlkészletek egyszerû tömörített tar fájlok, így
manuálisan ki tudod õket csomagolni a fájlrendszer gyökerébõl:

<p>
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  # cd /
  # tar xzvpf comp38.tgz
</pre>
</td></tr></tbody></table>

<p>
NE felejtsd el a <tt>'p'</tt> opciót a fenti parancsban,
hogy a fájl jogosultságok megfelelõen legyenek visszaállítva!

<p>
Egyik általános hiba, hogy azt hiszik, hogy a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
segítségével telepíteni lehet a hiányzó fájlkészleteket. Ez nem
mûködik. A pkg_add(1) csomagok telepítésére való, nem a hagyományos tar 
fájlokhoz, mint a telepítõ készletek.

<a name="bsd.rd"></a>
<h2>4.11 - Mi a 'bsd.rd'?</h2>
<b><tt>bsd.rd</tt></b> a "RAM Disk" rendszermag. Ez nagyon
hasznos lehet. Sok fejlesztõ ügyel arra, hogy állandóan benne legyen a 
fájlrendszere gyökerében.

<p>
A név "RAM Disk kernel" megmutatja a rendszermag fájlrendszerének gyökerét 
-- egy fizikai lemez helyett, a <tt>bsd.rd</tt> betöltõdése után
elérhetõ segédprogramok a rendszermagban tárolódnak, és egy RAM-alapú
fájlrendszerrõl futnak. A <tt>bsd.rd</tt> ezen kívül tartalmaz egy egészséges
mennyiségû segédprogramot, amelyekkel el lehet végezni a rendszerkarbantartást 
és telepítést.

<p>
Valójában, néhány platformon a <tt>bsd.rd</tt>
az elõnyben részesített telepítési technika
-- elhelyezed ezt a rendszermagot a meglévõ
fájlrendszerre, bebootolod, és errõl futtatod a
telepítõt. A legtöbb platformon, ha van egy régebbi,
futó OpenBSD verziód, letöltheted FTP-vel az
új <tt>bsd.rd</tt> verziót, rebootolsz
róla, és telepíted az OpenBSD új
verzióját, bármilyen eltávolítható média nélkül.

<p>Itt egy példa a <tt>bsd.rd</tt> indulására egy i386 rendszeren:
<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Using Drive: 0 Partition: 3
  reading boot.....
  probing: pc0 com0 com1 apm mem[639k 255M a20=on]
  disk: fd0 hd0+
  &gt;&gt; OpenBSD/i386 BOOT 2.02
  boot&gt; <b>boot hd0a:/bsd.rd</b>
<i>. . . normal boot to install . . .</i>
</pre>
</td></tr></tbody></table>
Mint látható, belekerülsz a telepítõ
programba, de ki is tudsz lépni a
parancsértelmezõhöz, hogy elvégezd a
rendszerkarbantartást.

<p>
Az általános szabály a <tt>bsd.rd</tt> indításával kapcsolatban, 
hogy változtasd meg az indító rendszermagot <tt>/bsd</tt>-rõl <tt>bsd.rd</tt>-re, a
platformodon használható eszközök segítségével. 

<p>
<a name="InstProb"></a>

<h2>4.12 - Általános telepítési problémák</h2>

<a name="cpq16m"></a>
<h3>4.12.1 - A Compaq gépem csak 16 MB RAM-ot ismer fel</h3>
<i>Néhány</i> Compaq rendszernek van egy olyan hibája, hogy az
<a  href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">OpenBSD
második szintû boot loader</a> nem ismeri fel a teljes RAM-ot megfelelõen, 
és csak 16 MB-ot érzékel és használ az OpenBSD. Ez egyrészt kijavítható az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386"><tt>/etc/boot.conf</tt></a>
fájl létrehozásával/szerkesztésével, vagy a megfelelõ parancsok beírásával 
a "<tt>boot&gt;</tt>" promptnál, mielõtt az OpenBSD betöltõdik. Ha lenne egy
géped 64 MB RAM-mal, de az OpenBSD csak 16 MB-t ismerne fel, akkor a
következõ parancsot kéne használnod:
<pre>
     machine mem +0x3000000@0x1000000
</pre>
hogy hozzáadj még 48 MB-ot (<tt>0x3000000</tt>) a 16 MB-hoz
(<tt>0x1000000</tt>). Általában, ha van egy ilyen problémás géped, 
akkor be kell írnod a fenti parancsot elõször a telepítõ floppy/CD-ROM 
<tt>boot&gt;</tt> promptjához, betölteni a rendszert, reboot, és
készíteni egy <tt>/etc/boot.conf</tt> fájlt, benne a fenti sorral, 
így a késõbbi rendszerindítások már felismerik a teljes RAM-ot.

<p>
Már jelezték, hogy ROM frissítéssel javítani lehet <i>bizonyos</i> rendszereket.

<a name="noboot"></a>
<h3>4.12.2 - Az i386 gépem nem indul telepítés után</h3>
Úgy tûnik, hogy a telepítés rendben lezajlott, de az elsõ indításkor nem látod, 
hogy az OpenBSD próbálna indulni. Több általános oka lehet ennek a problémának:
<ul>
<li><b>Nem lett aktív partíció beállítva az fdisk(8) programmal.</b> 
A javításhoz indítsd újra a rendszert egy telepítõ flopiról vagy más
médiáról, és jelöld meg (flag) aktívnak (indítható) a megfelelõ
partíciót. Lásd még <a href="../faq14.html#fdisk">itt</a> és 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">itt</a>
<li><b>Nem került érvényes "boot loader" a lemezre.</b>
Ha "Y" volt a válaszod az "Egész lemezt az OpenBSD használja?" kérdésre a 
telepítés során, vagy a "<tt>reinit</tt>" fdisk(8) opciót használtad, 
akkor az OpenBSD "boot record" a lemez "Master Boot Recordjába" lesz
telepítve, egyébként a meglévõ "master boot kód" nem változik. Ez akkor 
probléma, ha nincs még létezõ "boot record". Az egyik megoldás, hogy újra 
indítasz a telepítõ médiáról, kilépsz a parancsértelmezõbe, elindítod az 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
programot az MBR kód frissítéséhez a parancssorból:

<pre>
    # fdisk -u wd0
</pre>

Megjegyzés: az "update" opció az fdisk interaktív ("-e") módjában nem
írja ki azokat a signature bájtokat amelyek szükségesek a lemez
bootolhatóvá tételéhez.
  
<li><b>Bizonyos ritka esetekben, valami hiba történik a
másodszintû boot loader telepítésekor.</b> 
A második szintû boot loader újratelepítésének leírását 
<a href="../faq14.html#InstBoot">itt találhatod</a>. 
</ul>

<a name="sshhang"></a>
<h3>4.12.3 - A (régebbi, lassabb) gépem elindul, de megáll 
az ssh-keygen eljárásnál</h3>
Elég valószínû, hogy a géped nagyon jól fut, de megáll egy darabig az 
ssh kulcs generálásakor. Egy SPARCStation2-nek vagy egy Macintosh
Quadra-nak eltarthat akár 45 percig is vagy tovább, mire befejezi a három
<a  href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
lépést, néhány gépnek pedig még tovább is. Csak hagyd, hogy befejezze, 
csak egyszer kell úgyis telepítéskor.

<a name="noftplist"></a>
<h3>4.12.4 - Ezt az üzenetet kapom telepítéskor 
"Failed to change directory", azaz nem lehet katalógust váltani</h3>

Ha FTP-n keresztül telepítesz egy <a href="faq5.html#Flavors">snapshot</a>
kiadást az OpenBSD fejlesztési ciklus <i>-beta</i> szakasza alatt,
akkor lehet, hogy a következõvel találkozol:

<table border="0" width="650"><tbody><tr>
<td bgcolor="#eeeeee" nowrap="nowrap">
<pre>
  Do you want to see a list of potential FTP servers?  [yes] <i>ENTER</i>
  Getting the list from 192.128.5.191 (ftp.openbsd.org)... FAILED
  Failed to change directory.
  Server IP address or hostname? 
</pre>
</td></tr></tbody></table>
<br>
<pre>
------
  Akarod látni a lehetséges FTP kiszolgálók listáját?  [y] <i>ENTER</i>
  A lista megszerzése a 192.128.5.191 (ftp.openbsd.org)-ról... SIKERTELEN
  Nem lehet katalógust váltani.
  A kiszolgáló IP címe vagy hosztneve?
------
</pre>

Ez normális, várható viselkedés a ciklus kiadás elõtti részében. A telepítõ le
akarja tölteni az elsõdleges FTP helyek listáját egy olyan katalógusból 
amely nem elérhetõ a <a href="../faq1.html#Next">kiadás napjáig</a>, ezért
kapod a fenti üzenetet.

<p>
Egyszerûen használd az <a href="../../hu/ftp.html">FTP tükrök listáját</a>, 
hogy megtaláld a kedvenc tükrödet, és manuálisan írd be a nevét mikor kéri.

<p>
<b>Megjegyzés: Nem szabad ezt az üzenetet kapnod, ha <i>-kiadás</i>
(release) verziót vagy CD-ROM-ról telepítesz.</b>

<a name="krb4"></a>
<h3>4.12.5 - Mikor bejelentkezem ezt kapom "login_krb4-or-pwd: Exec format error"</h3>
Kerberos IV el lett távolítva az OpenBSD 3.4-bõl, de ha frissítettél, 
a régi Kerberos IV binárisok még rajta maradnak a rendszereden. 
Ez az i386 platformon probléma, ahol a régi Kerberos fájlok még
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=a.out&amp;sektion=5">a.out</a>
formában vannak, és így nem futnak a szabványos ELF rendszermaggal
(amelyben az a.out emuláció ki van kapcsolva, ahogy ezt <a
 href="../faq1.html#WhatsNew">itt</a> említettük).
Ha találkozol ezzel a problémával, akkor felül kel bírálnod a krb4
autentikációt amikor bejelentkezel:

<pre>
    OpenBSD/i386 (puffy.openbsd.org) (ttyC0)
    
    
    login: joeuser:passwd
    password:
</pre>

Használhatod ugyanazt a "<tt><i>username</i>:passwd</tt>"
szintaktikát az ssh kapcsolatban és a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a>
parancsban, hogy elérd a rendszered.
Most szerkeszd át az <tt>/etc/login.conf</tt> fájlt
és távolítsd el a krb4 bejegyzéseket.

<a name="blankfdisk"></a>
<h3>4.12.6 - Az fdisk partíciós táblám szemetes vagy üres!</h3>
Alkalmanként elõfordul, hogy a felhasználó ugyan tudja használni a
rendszert, de mikor csinál egy <tt>fdisk wd0</tt>-t, akkor egy
teljesen üres (vagy összekuszált) partíciós táblát lát.
Ezt általában az okozza, hogy olyan partíciós tábla lett létrehozva az
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
programmal, amelynek nulla szektor az eltolása (offset) az 
<a href="#trackoffset">egy sáv eltolás</a> helyett (megjegyzés: 
<a href="../../i386.html">i386</a> vagy <a href="../../hu/amd64.html">amd64</a>
platformot feltételezve. Más platformoknál különbözõ lehet az
eltolás illetve némelyiken NINCS szükség eltolásra).
A rendszer ezután a PBR-t használva <a href="../faq14.html#Boot386">indul</a>,
nem pedig az MBR-t.

<p>
Habár ez a konfiguráció mûködhet is, de lehetnek
vele karbantartási problémák, ezért ki kell javítani.
A javításhoz a lemez teljes fájlrendszerét újra létre kell hozni (habár
ha tényleg tudod, hogy mit csinálsz akkor lehet, hogy elegendõ csak a
disklabelt és az MBR-t újra létrehozni, így csak az elsõ OpenBSD
partíció fog elveszni és azt kell újraépíteni).

<a name="site"></a>
<h2>4.13 - A telepítés testre szabása</h2>
<!-- XXXversion -->
<h3><tt>siteXX.tgz</tt> fájl</h3>
Az OpenBSD telepítõ/aktualizáló szkriptek segítségével kiválasztható 
egy "<tt>siteXX.tgz</tt>" nevû, felhasználó által készített
fájlkészlet, ahol XX a kiadás verziója (pl.36). 
A <tt>siteXX.tgz</tt> fájlkészlet, mint más
<a href="#FilesNeeded">fájlkészlet</a>, egy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a>
tömörített
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
archív, melynek gyökere a '/' és mint a többi fájlkészlet, az <tt>xzpf</tt> 
opciókkal kerül kicsomagolásra. Ez lesz utoljára feltelepítve minden más 
készlet után.

<p>
Ennek segítségével a felhasználó hozzáadhat és/vagy felülírhatja azokat a
fájlokat, amelyeket a 'normál' készletek telepítettek fel, és így testre 
szabható a telepítés vagy a rendszerfrissítés.

<p>
Néhány példa a <tt>siteXX.tgz</tt> fájl használatára:

<ul>
<li>Készíts egy siteXX.tgz fájlt, ami tartalmaz minden fájlt amit 
megváltoztattál az OpenBSD telepítése óta. Ezután, ha újra kell telepítened 
a rendszered, akkor válaszd egyszerûen a siteXX.tgz fájlkészletet a 
telepítés alatt és minden változás megismétlõdik az új rendszeren.

<li>Készíts több gépspecifikus katalógust, amely mindegyike tartalmaz egy
siteXX.tgz fájlt, amelyben az arra a géptípusra specifikus fájlok vannak.
Egy adott kategóriába tartozó gépek (pl. különbözõ videokártyákkal
rendelkezõ) telepítését a megfelelõ siteXX.tgz fájl kiválasztásával lehet
befejezni.

<li>Azokat a fájlokat, amelyeket általában ugyanúgy vagy hasonló módon
állítasz be, tedd be egy siteXX.tgz fájlba -- pl. 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8"
><tt>/etc/skel</tt></a> fájlok,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5"
><tt>/etc/pf.conf</tt></a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8"
><tt>/var/www/conf/httpd.conf</tt></a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&amp;sektion=8"
><tt>/etc/rc.conf.local</tt></a>,
stb. 
</ul>

<h3><tt>install.site</tt>/<tt>upgrade.site</tt> szkriptek</h3>
A telepítési/frissítési eljárás utolsó lépéseként, a telepítõ az éppen 
telepített/frissített rendszered gyökér katalógusában megnézi az éppen 
aktuális eljárásnak megfelelõ <tt>install.site</tt> vagy <tt>upgrade.site</tt> 
szkriptet, és ha van, futtatja a telepített/frissített rendszered gyökeréhez 
képest 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot</a>-olva.
Ne feledd, hogy a frissítést egy betöltött fájlrendszerbõl végzi, így a
cél fájlrendszered valójában az <tt>/mnt</tt> katalógusba van befûzve. 
A szkriptedet azonban, meg lehet úgy írni, hogy úgy fusson mintha az tényleg
a fájlrendszered gyökerében lenne. Mivel ez a szkript akkor lesz lefuttatva, 
mikor már minden fájl fel van telepítve, ezért addigra már egy majdnem
teljesen mûködõ (habár egy felhasználós) rendszered lesz.

<p>
Az <tt>install.site</tt> szkriptnek a <tt>siteXX.tgz</tt> fájlban kell lennie, 
míg az <tt>upgrade.site</tt> szkriptet már a frissítés elõtt beteheted a
rendszered gyökér katalógusába, vagy a <tt>siteXX.tgz</tt> fájlba is.

<p>
Ezt a szkriptet sokféle dologra használhatod:

<ul>
<li>Eltávolíthatsz telepített/frissített fájlokat, amelyeket nem akarsz, 
hogy fent legyenek a rendszereden.
Eltávolíthatsz/frissíthetsz/telepíthetsz 
<a href="../faq8.html#Packages">csomagokat</a>.
<li> Csinálhatsz egy <a href="../faq14.html#Backup">azonnali 
mentést/archiválást</a> a rendszereden, mielõtt kiteszed a világ többi részének. 
</ul>

<p>
A <tt>siteXX.tgz</tt> és <tt>install.site/upgrade.site</tt> fájlok 
kiterjesztik a felhasználók egyéni testre szabási képességeit anélkül, 
hogy saját telepítõkészletet kellene készíteniük.

<a name="Multiple"></a>
<h2>4.14 - Hogyan telepítsek több hasonló rendszert?</h2>
Itt található néhány eszköz, amelyet akkor használhatsz, ha több hasonló 
OpenBSD rendszert kell telepítened.
<h3><tt>siteXX.tgz</tt> és <tt>install/upgrade.site</tt> fájlok</h3>
Nézd meg a <a href="#site">fenti</a> fejezetet.
<h3>Visszaállítás dump(8)-ból</h3>
A legtöbb platformon, az indító média tartalmazza a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>
programot, amellyel vissza tudod állítani a <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a>
segítségével készített mentéseket.
Így bebootolhatsz egy <a href="#MkFlop">flopiról</a>,
<a href="../../orders.html">CD-rõl</a>, vagy
<a href="#bsd.rd">bsd.rd</a> fájlból, azután
<a href="../faq14.html#fdisk">fdisk</a>,
<a href="../faq14.html#disklabel">disklabel</a>, és
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore</a>
a kívánt konfigurációt egy szalagról vagy egyéb médiáról, és
telepíted a <a href="../faq14.html#InstBoot">boot blokkot</a>.
További részletek <a href="../faq14.html#Backup">itt</a>.

<h3>Lemezkép készítése</h3>
Sajnos nincs jelenleg ismert lemezkép (image) készítõ csomag, amely figyelembe 
venné az FFS-fájlrendszert, és képes lenne lemezképet készíteni csak az aktív
fájlterületrõl. A legtöbb nagyobb lemezkép készítõ megoldás az OpenBSD
partíciót csak egy "általános" partícióként kezeli, és csak a teljes
lemezrõl tud képet készíteni. Ez gyakran megfelel a célnak, de sokszor 
feleslegesen nagy helypazarlással -- egy üres, 10 GB méretû <tt>/home</tt>
partíció 10 GB-ot foglal a lemezképben (image), még akkor is, ha nincs benne 
egyetlen fájl sem. Mivel általában a lemezképet egy nagyobb meghajtóra tudod
telepíteni, ezért nem tudod használni az extra helyet, és nem tudod egy kisebb 
meghajtóra sem telepíteni a lemezképet.

<p>
Ha ez elfogadható számodra, akkor használhatod
a <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd</a>
parancsot, amellyel egy lemezt egy másikra tudsz másolni szektorról-szektorra. 
Ez ugyanazt a funkcionalitást adja mint a kereskedelmi programok, 
csak ingyenesen.

<a name="getdmesg"></a>
<h2>4.15 - Hogyan kapom meg a dmesg(8) kimenetet egy
telepítési probléma bejelentéséhez?</h2>
Ha <a href="../../report.html">bejelentesz egy problémát</a>,
fontos, hogy mellékeld teljes rendszer
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>-et.
Elõfordulhat azonban, hogy a rendszered nem mûködik megfelelõen, vagy nem lehet 
feltelepíteni, így nincs lemezmeghajtód, hálózatod, vagy egyéb erõforrásod 
ahhoz, hogy megkapd a dmesg-et, amit elküldhetnél a megfelelõ
<a href="../../mail.html">levelezési listára</a>.
Vannak azonban más módszerek is:

<ul>
<li><b>Flopi lemez:</b> A telepítõ lemezen és CD-ROM-on
vannak ahhoz megfelelõ segédeszközök, hogy kimentsd a dmesg-et egy MSDOS 
flopi lemezre, amit olvashatsz egy másik gépen. Helyezz egy MSDOS formázott 
flopit a meghajtóba és futtasd a következõ parancsokat:

<pre>
    mount -t msdos /dev/fd0a /mnt
    dmesg &gt;/mnt/dmesg.txt
    umount /mnt
</pre>

Ha van egy másik OpenBSD rendszered, akkor kiírhatod egy
OpenBSD kompatibilis flopira -- gyakran az indítólemezen is van
annyi hely, hogy elférjen rajta a dmesg. Ebben az esetben hagyd
el a "<tt>-t msdos</tt>" a fenti példából.

<p>
  
<li><b>Soros Konzol:</b>
Soros konzol segítségével elfogni egy másik számítógép kimenetét gyakran a
legjobb módszer diagnosztikai információk megszerzésére - például ha egy gép
azonnal pánikol (lefagy) rendszerindítás után. Ekkor szükséged lesz egy másik
gépen kívül egy megfelelõ soros kábelre (általában egy null-modem kábel), 
és egy terminál emulátor programra amely képes fájlba menteni a képernyõ 
kimenetét.

<p>
A soros konzol beállításával kapcsolatos általános információk 
<a href="../faq7.html#SerCon">ebben a FAQ-ban</a> találhatók.
Az telepítés logjának elfogására a következõ parancsok általában elegendõek:
    
<p>
<b>i386</b>
    
<p>
A rendszertöltõ (boot loader) promptnál írd be
    
<p>
<blockquote>
<pre>
boot&gt; <b>set tty com0</b>
</pre>
</blockquote>

<p>
Ez megmondja az OpenBSD-nek, hogy az elsõ soros portot használja
(gyakran COM1 vagy COMA a PC dokumentációkban) soros
konzolként. Az alapértelmezett baud rate 9600.
    
<p>
<b>Sparc/Sparc64</b>
    
<p>
Ezek a gépek automatikusan egy soros konzolt használnak, ha nincs billentyûzet 
csatlakoztatva. Ha van monitor és billentyûzet csatlakoztatva, akkor is ki 
lehet kényszeríteni a soros konzol használatát a következõ parancsok kiadásával 
az <tt>ok</tt> promptnál:
    
<p>
<blockquote>
<pre>
ok <b>setenv input-device ttya</b>
ok <b>setenv output-device ttya</b>
ok <b>reset</b>
</pre>
</blockquote>

<p>
<li><b>FTP:</b> Bizonyos esetekben használni tudod az
indító lemezen vagy CD-ROM-on lévõ <a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>
klienst, hogy elküldd a dmesg-et egy helyi FTP kiszolgálóra, ahonnan késõbb 
le tudod tölteni. 
</ul>

<p>
<a name="bsdrdaout"></a>
<h2>4.16 - Az OpenBSD/i386 frissítése/újratelepítése <tt>bsd.rd-a.out</tt> segítségével</h2>

Normális esetben lehetséges frissíteni vagy telepíteni a 
<a href="faq4.html#bsd.rd">bsd.rd</a> rendszermag használatával. 
Az OpenBSD a 3.4 verzióval azonban, az i386 platformon átváltott a futtatható
formátum
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=a.out&amp;sektion=5">a.out</a>-ról
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=elf&amp;sektion=5">ELF</a>
formátumra, így a régebbi
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot
loaderek</a> (OpenBSD 3.3 és korábbiak) nem tudják futtatni az új formátumú 
<tt>bsd.rd</tt> rendszermagot.

<p>
A probléma megoldásához, és hogy a <tt>bsd.rd</tt> segítségével is lehessen 
rendszert frissíteni, készült egy a.out verziója a <tt>bsd.rd</tt>-nek,
ami elérhetõ az <a href="../../hu/ftp.html">OpenBSD/i386 v3.5 FTP
terjesztés</a> részeként.
Ezt a fájl, a <tt>bsd.rd-a.out</tt>-ot, az OpenBSD 3.3
és régebbi verziók is be tudják bootoni, de mégis egy eredeti 
OpenBSD 3.5 rendszermag, amely tartalmazza az új ELF boot loadert,
így el lehet indítani vele az OpenBSD/i386 3.5-et egy régebbi rendszerbõl.

<p>
Egyszerûen töltsd le a <tt>bsd.rd-a.out</tt> fájlt és helyezd a géped gyökér
katalógusába. Ezzel indítsd a rendszert az általános <tt>bsd</tt> vagy 
<tt>bsd.rd</tt> rendszermagok helyett, az <a href="../faq4.html#bsd.rd">itt
látható</a> módon (<tt>bsd.rd-a.out</tt>-ot adva meg boot kernel-ként persze).

<p>
Miután feltelepítettél egy minimális 3.5 rendszert (<tt>base35.tgz,
etc35.tgz, bsd</tt>), töltsd le a 3.8 (vagy a <i>-snapshot</i>)
<tt>bsd.rd</tt> fájlt és telepíts arról.

<p>
<font color="#0000e0">
<a href="index.html">[FAQ Index]</a>
<a href="faq3.html">[3. Fejezet - OpenBSD beszerzése]</a>
<a href="faq5.html">[5. Fejezet - A Rendszer Felépítése Forrásból]</a>
</font>

<p>
<hr><a href="index.html"><img src="../../images/back.gif" alt="[back]"
 border="0" height="24" width="24"></a> <a
 href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq4.html,v 1.207 ]<br>
$Translation: faq4.html,v 1.31 2006/05/10 20:29:47 ishida Exp $<br>
-->
$OpenBSD: faq4.html,v 1.29 2006/05/10 21:50:16 saad Exp $
</small>
</body>
</html>
