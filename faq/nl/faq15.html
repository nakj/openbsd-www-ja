<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>15 - Het OpenBSD packages en ports systeem</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<!--
Copyright (c) 2005-2009 Steven Mestdagh <steven@openbsd.org>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../nl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="
0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq14.html">[Naar Sectie 14 - Inrichting van de Schijf]</a>
</font>

<h1><font color="#e00000">15 - Het OpenBSD packages en ports systeem</font></h1><hr>

<h3>Inhoudsopgave</h3>
<ul>
<li><a href="#Intro"          >15.1 - Inleiding</a>
<li><a href="#PkgMgmt"        >15.2 - Package beheer</a>
  <ul>
  <li><a href="#PkgHow"       >15.2.1 - Hoe werkt het?</a>
  <li><a href="#Easy"         >15.2.2 - De dingen gemakkelijk maken</a>
  <li><a href="#PkgFind"      >15.2.3 - Zoeken naar packages</a>
  <li><a href="#PkgInstall"   >15.2.4 - Installeren van nieuwe packages</a>
  <li><a href="#PkgList"      >15.2.5 - Opsommen van geïnstalleerde packages</a>
  <li><a href="#PkgUpdate"    >15.2.6 - Updaten van geïnstalleerde packages</a>
  <li><a href="#PkgRemove"    >15.2.7 - Verwijderen van geïnstalleerde
     packages</a>
<!--  <li><a href="#PkgSecurity"  >15.2.8 - Beveiligingsupdates (-stable
     packages)</a> -->
  <li><a href="#PkgPartial"   >15.2.8 - Installeren of verwijderen van
     onvolledige packages</a>
  </ul>
<li><a href="#Ports"          >15.3 - Werken met ports</a>
  <ul>
  <li><a href="#PortsHow"     >15.3.1 - Hoe werkt het?</a>
  <li><a href="#PortsFetch"   >15.3.2 - Afhalen van de ports tree</a>
  <li><a href="#PortsConfig"  >15.3.3 - Configuratie van het ports-systeem</a>
  <li><a href="#PortsSearch"  >15.3.4 - Doorzoeken van de ports tree</a>
  <li><a href="#PortsInstall" >15.3.5 - Rechtlijnige installatie:
     een eenvoudig voorbeeld</a>
  <li><a href="#PortsClean"   >15.3.6 - Opruimen na het bouwen</a>
  <li><a href="#PortsDelete"  >15.3.7 - Verwijderen van de package van een
     port</a>
  <li><a href="#PortsFlavors" >15.3.8 - Gebruik van flavors en subpackages</a>
<!--  <li><a href="#PortsSecurity">15.3.9 - Beveiligingsupdates (-stable)</a> -->
  </ul>
<li><a href="#PkgFAQ"         >15.4 - FAQ</a>
  <ul>
  <li><a href="#NoFun"        >15.4.1 - Ik krijg allerlei gekke fouten.
     Ik lijk dit ports zootje maar niet aan de praat te krijgen.</a>
  <li><a href="#Latest"       >15.4.2 - De laatste versie van mijn
     Top-Favoriete-Software is niet beschikbaar!</a>
  <li><a href="#NoPkg"        >15.4.3 - Waarom is er geen package voor mijn
     Top-Favoriete-Software?</a>
  <li><a href="#NoPort"       >15.4.4 - Waarom is er geen port van mijn
     Top-Favoriete-Software?</a>
  <li><a href="#NotInBase"    >15.4.5 - Waarom is mijn Top-Favorite-Software
     geen onderdeel van het basissysteem?</a>
  <li><a href="#PkgVsPorts"   >15.4.6 - Wat gebruik ik best: packages of
     ports?</a>
  <li><a href="#Knobs"        >15.4.7 - Hoe regel ik deze ports fijn voor
     maximale prestatie?</a>
  <li><a href="#Wait"         >15.4.8 - Ik diende enkele weken geleden een
     nieuwe port/een update in. Waarom wordt deze niet gecommitted?</a>
  </ul>
<li><a href="#Problems"       >15.5 - Problemen melden</a>
<li><a href="#Helping"        >15.6 - Ons helpen</a>
</ul>

<hr>

<a name="Intro"></a>
<h2>15.1 - Inleiding</h2>

<p>
Er zijn veel externe toepassingen beschikbaar die men misschien wil
gebruiken op een OpenBSD systeem.
Om deze software gemakkelijker te installeren en te beheren, en om ze te
helpen laten voldoen aan OpenBSD's beleid en doelstellingen, wordt de
externe software <i>geported</i> naar OpenBSD.
Met dit port-werk kunnen vele verschillende dingen gepaard gaan.
Voorbeelden zijn: de software de standaard OpenBSD directorystructuur laten
gebruiken (bv. configuratiebestanden worden in <tt>/etc</tt> geplaatst),
voldoen aan OpenBSD's "shared library" specificaties, de software veiliger
maken indien mogelijk, enz.

<p>
Het eindresultaat van het port-werk zijn binaire packages die klaar zijn
om te installeren.
De bedoeling van het package-systeem is bij te houden welke software
geïnstalleerd wordt, zodat deze gelijk wanneer heel gemakkelijk kan
geüpdatet of verwijderd worden.
Op die manier blijven er geen onnodige bestanden achter, en kunnen gebruikers
hun systemen zuiver houden.
Het package-systeem helpt er ook voor te zorgen dat niets per ongeluk
verwijderd wordt, wat ertoe kan leiden dat software ophoudt naar behoren
te functioneren.
Nog een voordeel is dat <b>gebruikers zelden software hoeven te compileren
vanaf broncode</b>, aangezien packages reeds gecompileerd werden, beschikbaar
zijn en klaar om op een OpenBSD systeem gebruikt te worden.
In luttele minuten kan een groot aantal packages afgehaald en geïnstalleerd
worden, met alles op de juiste plaats.

<p>
<b><font color="#e00000">
De packages en ports verzameling ondergaat NIET dezelfde uitvoerige
veiligheidsaudit die op het OpenBSD basissysteem wordt uitgevoerd.
Alhoewel we ernaar streven om de kwaliteit van de packages hoog te
houden, hebben we gewoonweg niet genoeg mankracht om hetzelfde niveau
van robuustheid en veiligheid te garanderen.
</font></b>
<!--
Natuurlijk worden <a href="#PortsSecurity">beveiligingsupdates</a> voor
verscheidene toepassingen zo snel mogelijk gecommit in de ports tree,
en worden de overeenkomstige package-beveiligingsupdates beschikbaar
gemaakt als snapshots voor <i>-current</i>.
-->

<a name="PkgMgmt"></a>
<h2>15.2 - Package beheer</h2>

<a name="PkgHow"></a>
<h3>15.2.1 - Hoe werkt het?</h3>

<p>
Packages zijn de vooraf gecompileerde binaries van een aantal van de meest
gebruikte externe software.

Packages kunnen gemakkelijk beheerd worden met behulp van verscheidene
utilities, ook gekend als de pkg* tools:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_add(1)</a>
  - een utility om software packages te installeren en te upgraden.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_delete(1)</a>
  - een utility om voorheen geïnstalleerde software packages te verwijderen.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_info(1)</a>
  - een utility om informatie over software packages te tonen.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_create(1)</a>
  - een utility om software packages aan te maken.
</ul>

<p>
Om naar behoren te draaien, kan een toepassing X vereisen dat andere
toepassingen Y en Z geïnstalleerd zijn.
Toepassing X is met name afhankelijk van deze andere toepassingen,
daarom worden Y en Z "<i>dependencies</i>" van X genoemd.
Op zijn beurt kan Y andere toepassingen P en Q vereisen, en Z kan
toepassing R vereisen om naar behoren te werken.
Op deze manier wordt een hele "<i>dependency tree</i>" gevormd.

<p>
Packages zien eruit als eenvoudige <tt>.tgz</tt> archieven.
Eigenlijk zijn ze dat ook, maar er is één cruciaal verschil:
ze bevatten wat extra <i>packing-informatie</i>.
Deze informatie wordt door
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_add(1)</a>
gebruikt voor verschillende doeleinden:

<ul>
<li>Verschillende controles: werd de package reeds geïnstalleerd of is hij
in conflict met andere geïnstalleerde packages of bestandsnamen?
<li>Dependencies die nog niet aanwezig zijn op het systeem, worden automatisch
afgehaald en geïnstalleerd, alvorens verder te gaan met de installatie van
de package.
<li>Informatie over de package(s) wordt opgeslaan in een centrale
"repository", standaard gesitueerd in <tt>/var/db/pkg/</tt>.
Dit zal onder andere voorkomen dat dependencies van een package verwijderd
worden voordat de package zelf verwijderd is.
Dit helpt ervoor te zorgen dat een toepassing niet per ongeluk gebroken
kan worden door een slordige gebruiker.
</ul>


<a name="Easy"></a>
<h3>15.2.2 - De dingen gemakkelijk maken: PKG_PATH</h3>

<p>
U kan de dingen erg gemakkelijk maken door de <tt>PKG_PATH</tt>
omgevingsvariabele te gebruiken.
Laat hem gewoon naar uw favoriete locatie wijzen, en pkg_add(1) zal daar
automatisch gaan zoeken naar elke package die u specificeert, <b>en</b>
ook automatisch de noodzakelijke dependencies van deze package afhalen en
installeren.

<p>
Een lijst met mogelijke locaties om packages vandaan te halen wordt gegeven
in de <a href="#PkgFind">volgende sectie</a>.

<p>
Voorbeeld 1: afhalen van uw <a href="../../nl/orders.html">CDROM</a>,
in de veronderstelling dat u deze hebt gemount op <tt>/mnt/cdrom</tt>
<blockquote><pre>
$ <b>export PKG_PATH=/mnt/cdrom/4.6/packages/`machine -a`/</b>
</pre></blockquote>

<p>
Voorbeeld 2: afhalen van een nabije <a href="../../nl/ftp.html">FTP mirror</a>
<blockquote><pre>
$ <b>export PKG_PATH=ftp://your.ftp.mirror/pub/OpenBSD/4.6/packages/`machine -a`/</b>
</pre></blockquote>

<p>
Het is gewoonlijk een goed idee om een lijn gelijkaardig aan de bovenstaande
voorbeelden toe te voegen aan uw <tt>~/.profile</tt>.
Zoals bij de klassieke <tt>PATH</tt> variabele, kan u meerdere locaties
specificeren, gescheiden door dubbele punten.
<b>Voorafgaand aan OpenBSD 4.4 MOET elk pad in de <tt>PKG_PATH</tt> variabele
eindigen op een schuine streep (/).</b>
Op die manier kan pkg_add(1) het pad correct splitsen zelfs als er URL
schema's in zitten die dubbele punten bevatten.
Als de eerste entry in <tt>PKG_PATH</tt> faalt, zal de volgende geprobeerd
worden, enzoverder, tot de package gevonden wordt.
Als alle entries falen, krijgt u een foutmelding.

<p>
Bemerk het gebruik van
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=machine&amp;sektion=1">machine(1)</a>
in de bovenstaande commandoregels.
Dit vervangt automatisch de "toepassingsarchitectuur" van uw geïnstalleerde
OpenBSD, welke gewoonlijk, maar niet altijd, de naam van uw platform is.
Indien u snapshots gebruikt, zal u natuurlijk "4.6" door "snapshots"
vervangen.


<a name="PkgFind"></a>
<h3>15.2.3 - Zoeken naar packages</h3>

Er is een grote verzameling vooraf gecompileerde packages beschikbaar
voor de meest voorkomende architecturen.
Zoek gewoon uw package op één van deze plaatsen:

<ul>
<li>Op één van de drie <a href="../../nl/orders.html">CD-ROM's</a>,
afhankelijk van uw architectuur.
De CD-ROM's bevatten alleen de meest gebruikte, vrij distribueerbare
packages voor de meest gebruikte platformen.
<li>Op de <a href="../../nl/ftp.html">FTP mirror servers</a>.
Packages staan in de <tt>/pub/OpenBSD/4.6/packages</tt> directory.
Van daaruit zijn de packages verder onderverdeeld per architectuur.
<li>In de package-lijsten op de OpenBSD website:
<ul>
<li><a href="http://www.openbsd.org/4.6_packages/">Packages voor OpenBSD 4.6</a>
<li><a href="http://www.openbsd.org/4.5_packages/">Packages voor OpenBSD 4.5</a>
<li><a href="http://www.openbsd.org/4.4_packages/">Packages voor OpenBSD 4.4</a>
</ul>
</ul>

<p>
Als u de ports tree op uw systeem hebt, kan u snel de package vinden die
u zoekt zoals uitgelegd in
<a href="#PortsSearch">Doorzoeken van de ports tree</a>.

<p>
U zal merken dat bepaalde packages beschikbaar zijn in enkele verschillende
varianten, formeel "<b>flavors</b>" genoemd.
Andere zijn onderdelen van dezelfde toepassing die afzonderlijk kunnen
geïnstalleerd worden. Deze worden "<b>subpackages</b>" genoemd.
Dit wordt in meer detail besproken in <a href="#PortsFlavors">Gebruik van
flavors en subpackages</a> maar flavor betekent eigenlijk dat ze
geconfigureerd worden met verschillende sets van opties.
Momenteel hebben vele packages flavors, bijvoorbeeld: databankondersteuning,
ondersteuning voor systemen zonder X, of netwerktoevoegingen zoals SSL en IPv6.
Elke flavor van een package zal een verschillend suffix hebben in zijn
package-naam.
Raadpleeg voor gedetailleerde informatie over package-namen alstublieft
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages-specs&amp;sektion=7">packages-specs(7)</a>.

<p>
<b>Opmerking:</b>
Niet alle mogelijke packages zijn noodzakelijk beschikbaar op de FTP
servers!
Sommige toepassingen werken gewoon niet op alle architecturen.
Sommige toepassingen mogen niet gedistribueerd worden via FTP (of CD-ROM)
om licentieredenen.
Er kunnen ook vele mogelijke combinaties van flavors van een port zijn,
en het OpenBSD project heeft gewoon niet de middelen om ze allemaal te
bouwen.
Indien u een combinatie nodig hebt die niet beschikbaar is, zal u de port
vanaf broncode moeten bouwen.
Lees voor meer informatie daarover
<a href="#PortsFlavors">Gebruik van flavors en subpackages</a> in de Ports
sectie van dit document.


<a name="PkgInstall"></a>
<h3>15.2.4 - Installeren van nieuwe packages</h3>

Om packages te installeren wordt de utility
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_add(1)</a>
gebruikt.
Als u <a href="#Easy">de dingen gemakkelijk gemaakt hebt</a> voor uzelf door
de <tt>PKG_PATH</tt> omgevingsvariabele in te stellen, kan u gewoon pkg_add(1)
aanroepen met de package-naam, zoals in het volgende eenvoudige voorbeeld.

<blockquote><pre>
$ <b>sudo pkg_add -v screen-4.0.3p1</b>
parsing screen-4.0.3p1
installed /etc/screenrc from /usr/local/share/examples/screen/screenrc | 71%
screen-4.0.3p1: complete
</pre></blockquote>

<p>
In dit voorbeeld werd de <b>-v</b> vlag gebruikt om meer uitgebreide uitvoer
te geven.
Deze optie is niet nodig maar ze is nuttig om te debuggen en werd hier
gebruikt om een beetje meer inzicht te bieden in wat pkg_add(1) eigenlijk
aan het doen is.
Bemerk de boodschap die <i>/etc/screenrc</i> vermeldt.
Het specificeren van meerdere <b>-v</b> vlaggen zal nog meer uitgebreide
uitvoer produceren.

<p>
<h4>pkg_add(1) in interactieve modus gebruiken</h4>

Sinds OpenBSD 3.9 heeft pkg_add(1) een interactieve modus, die ingeschakeld
wordt door het aan te roepen met de <b>-i</b> vlag, en die ervoor zorgt dat
het u vragen stelt wanneer het zelf geen beslissing kan nemen.
Als u bijvoorbeeld het versienummer van een package niet op voorhand kent,
kan u iets als het volgende proberen:

<blockquote><pre>
$ <b>sudo pkg_add -i screen</b>
Ambiguous: screen could be screen-4.0.3p1 screen-4.0.3p1-shm screen-4.0.3p1-static
Choose one package
         0: &lt;None&gt;
         1: screen-4.0.3p1
         2: screen-4.0.3p1-shm
         3: screen-4.0.3p1-static
Your choice: 1
screen-4.0.3p1: complete
</pre></blockquote>


<p>
Voor sommige packages zal er belangrijke bijkomende informatie gegeven worden
over de configuratie of het gebruik van de toepassing op een OpenBSD systeem.
Aangezien ze belangrijk is, zal ze getoond worden ongeacht het gebruik van
de <b>-v</b> vlag.
Beschouw het volgende voorbeeld:

<blockquote><pre>
$ <b>sudo pkg_add ghostscript-fonts-8.11</b>
ghostscript-fonts-8.11: complete
You may wish to update your font path for /usr/local/share/ghostscript/fonts
--- ghostscript-fonts-8.11 -------------------
To install these fonts for X11, just make sure that the fontpath
lists the 75dpi or 100dpi bitmap fonts before the ghostscript fonts,
and make sure you have the string ":unscaled" appended to the bitmap
font's fontpath. This way, the bitmap fonts will be used if they
match, and the Type 1 versions will be used if the font needs to be
scaled. Below is the relevant section from a typical xorg.conf file.

   FontPath   "/usr/X11R6/lib/X11/fonts/misc/"
   FontPath   "/usr/X11R6/lib/X11/fonts/75dpi/:unscaled"
   FontPath   "/usr/X11R6/lib/X11/fonts/100dpi/:unscaled"
   FontPath   "/usr/local/lib/X11/fonts/ghostscript/"
   FontPath   "/usr/X11R6/lib/X11/fonts/Type1/"
</pre></blockquote>

<p>
Laat ons nu verder gaan met een voorbeeld van een package die dependencies
heeft:

<blockquote><pre>
$ <b>sudo pkg_add -v tin-1.8.2p0</b>
parsing tin-1.8.2p0
Dependencies for tin-1.6.2 resolve to: gettext-0.14.6, libutf8-0.8, pcre-6.4p1, libiconv-1.9.2p3 (todo: libiconv-1.9.2p3,gettext-0.14.6,pcre-6.4p1,libutf8-0.8)
tin-1.8.2p0:parsing libiconv-1.9.2p3
tin-1.8.2p0:libiconv-1.9.2p3: complete
tin-1.8.2p0:parsing gettext-0.14.6
Dependencies for gettext-0.14.6 resolve to: expat-2.0.0, libiconv-1.9.2p3 (todo: expat-2.0.0)
tin-1.8.2p0:parsing expat-2.0.0
tin-1.8.2p0:expat-2.0.0: complete
tin-1.8.2p0:gettext-0.14.6: complete
tin-1.8.2p0:parsing pcre-6.4p1
tin-1.8.2p0:pcre-6.4p1: complete
tin-1.8.2p0:parsing libutf8-0.8
tin-1.8.2p0:libutf8-0.8: complete
tin-1.8.2p0: complete
</pre></blockquote>

We voegden opnieuw de <b>-v</b> vlag toe om meer te zien van wat er gebeurt.
Bij het onderzoeken van de packing-informatie worden dependencies gevonden
en die worden eerst geïnstalleerd.
Ergens halverwege kan u zien dat de gettext package geïnstalleerd wordt,
die afhangt van libiconv.
Vóór het installeren van gettext wordt de packing-informatie ervan
onderzocht en wordt geverifieerd of libiconv reeds geïnstalleerd is.

<p>
Het is mogelijk om op één lijn meerdere package-namen te specificeren,
die dan allemaal ineens geïnstalleerd worden, samen met mogelijke
dependencies.

<p>
Als u om één of andere reden beslist om <tt>PKG_PATH</tt> niet te gebruiken,
is het ook mogelijk om de absolute locatie van een package op de
commandoregel te specificeren.
Deze absolute locatie kan een lokaal pad zijn, of een URL die verwijst naar
FTP, HTTP of SCP locaties.
Laten we een installatie vie FTP beschouwen in het volgende voorbeeld:

<blockquote><pre>
$ <b>sudo pkg_add ftp://ftp.openbsd.org/pub/OpenBSD/4.6/packages/`machine -a`/screen-4.0.3p1.tgz</b>
screen-4.0.3p1: complete
</pre></blockquote>

<p>
In dit voorbeeld werd de <b>-v</b> vlag niet gebruikt, dus worden enkel
noodzakelijke boodschappen getoond.
Merk op dat de volledige bestandsnaam ingegeven werd door een <b>.tgz</b>
suffix toe te voegen.
U kan dit suffix ook overslaan zoals in de vorige voorbeelden aangezien
het automatisch wordt aangevuld door pkg_add(1).

<p>
<b>Opmerking:</b> Niet alle architecturen hebben dezelfde packages beschikbaar.
Sommige ports werken niet op bepaalde architecturen, en prestatie beperkt het
aantal packages dat op andere kan gebouwd worden.

<p>
Voor de veiligheid zal pkg_add(1), indien u een package installeert die u
eerder al geïnstalleerd had (of een oudere versie ervan) en weer verwijderd,
configuratiebestanden die gewijzigd werden <b>niet</b> overschrijven.
In plaats daarvan zal het u hierover informeren als volgt (echter alleen bij
gebruik van de <b>-v</b> vlag!):

<blockquote><pre>
$ <b>sudo pkg_add -v screen-4.0.3p1</b>
parsing screen-4.0.3p1
The existing file /etc/screenrc has NOT been changed**                 | 71%
It does NOT match the sample file /usr/local/share/examples/screen/screenrc
You may wish to update it manually
screen-4.0.3p1: complete
</pre></blockquote>

Soms kan u een fout krijgen zoals die in het volgende voorbeeld:

<blockquote><pre>
$ <b>sudo pkg_add xv-3.10ap4</b>
xv-3.10ap4:jpeg-6bp3: complete
xv-3.10ap4:png-1.2.14p0: complete
xv-3.10ap4:tiff-3.8.2p0: complete
Can't install xv-3.10ap4: lib not found X11.9.0
Even by looking in the dependency tree:
        tiff-3.8.2p0, jpeg-6bp3, png-1.2.14p0
Maybe it's in a dependent package, but not tagged with @lib ?
(check with pkg_info -K -L)
If you are still running 3.6 packages, update them.
</pre></blockquote>

Daar is pkg_add(1) netjes dependencies aan het installeren, wanneer het
plotseling de installatie van xv afbreekt.
Dit is nog een veiligheidsvoorzorg die beschikbaar is sinds OpenBSD 3.7.
De packing-informatie die gebundeld is in de package bevat informatie
over "shared libraries" waarvan de package verwacht dat ze geïnstalleerd zijn,
zowel systeem-libraries als externe libraries.
Als één van de vereiste libraries niet kan gevonden worden, wordt de package
niet geïnstalleerd omdat hij toch niet zou werken.

<p>
Om dit type van conflict op te lossen, moet u te weten komen wat u moet
installeren om de vereiste libraries op uw systeem te krijgen.

<!--
insert a good algorithm here
-->

Er zijn verscheidene dingen die u kan controleren:
<ul>
<li>Het kan dat u oudere packages geïnstalleerd hebt staan: er is een oudere
versie van de vereiste library aanwezig.
Upgrade in dat geval deze packages.
<li>Het kan dat uw systeem onvolledig is: u hebt één van de bestandensets
die de vereiste library bevat, niet geïnstalleerd.
<a href="faq4.html#AddFileSet">Voeg de vereiste bestandenset</a> gewoon toe.
<li>Het kan dat uw systeem verouderd is: u hebt een oudere versie van de
vereiste library.
Boot het installatieprogramma (zoals uitgelegd in
<a href="faq4.html">FAQ 4</a>), en kies (U)pgrade van uw volledige systeem.
</ul>

<a name="PkgList"></a>
<h3>15.2.5 - Opsommen van geïnstalleerde packages</h3>

U kan een lijst van geïnstalleerde packages zien door de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_info(1)</a>
utility te gebruiken.

<blockquote><pre>
$ <b>pkg_info</b>
aterm-0.4.2p1       color vt102 terminal emulator with transparency support
bzip2-1.0.4         block-sorting file compressor, unencumbered
expat-2.0.0         XML 1.0 parser written in C
fluxbox-0.9.15.1p0  window manager based on the original Blackbox code
gettext-0.14.6      GNU gettext
imlib2-1.3.0        image manipulation library
jpeg-6bp3           IJG's JPEG compression utilities
libiconv-1.9.2p3    character set conversion library
libltdl-1.5.22p1    GNU libtool system independent dlopen wrapper
libungif-4.1.4p0    tools and library routines for working with GIF images
libutf8-0.8         provides UTF-8 locale support
mutt-1.4.2.2i       tty-based e-mail client
pcre-6.4p1          perl-compatible regular expression library
png-1.2.14p0        library for manipulating PNG images
screen-4.0.3p1      multi-screen window manager
tcsh-6.14.00p1      extended C-shell with many useful features
tiff-3.8.2p0        tools and library routines for working with TIFF images
tin-1.8.2p0         threaded NNTP and spool based UseNet newsreader
</pre></blockquote>

<p>
Wanneer u een naam van een geïnstalleerde package (of een locatie van een
package die geïnstalleerd moet worden), zal pkg_info(1) meer gedetailleerde
informatie tonen over die specifieke package.

<a name="PkgUpdate"></a>
<h3>15.2.6 - Updaten van geïnstalleerde packages</h3>
Stel dat u een oudere versie van unzip geïnstalleerd had alvorens deze
doos te upgraden van OpenBSD 4.5 naar 4.6.
Nu kan u gemakkelijk upgraden naar de nieuwere 4.6 package als volgt:

<blockquote><pre>
$ <b>sudo pkg_add -u unzip</b>
unzip-5.52p0 (extracting): complete
unzip-5.52 (deleting): complete
unzip-5.52p0 (installing): complete
Clean shared items: complete
</pre></blockquote>

<p>
Wanneer een package dependencies heeft, worden die ook onderzocht op
updates.
Het aanroepen van pkg_add(1) met de <b>-u</b> vlag en zonder package-naam
zal alle geïnstalleerde packages proberen te updaten.

<p>
<b>Opmerking:</b>
De <b>-u</b> optie steunt op de <tt>PKG_PATH</tt> omgevingsvariabele.
Als die niet ingesteld is, zal pkg_add(1) geen updates kunnen vinden.

<p>
Vanaf OpenBSD 4.2 betekent het hebben van meerdere entries in
<tt>PKG_PATH</tt> niet langer dat alle entries zullen geprobeerd worden
voor update operaties.
In plaats daarvan zal pkg_add(1) stoppen bij het eerste path met
overeenstemmende kandidaten.

<p>
Als u een configuratiebestand had dat toebehoorde aan de oude versie en
dat u gewijzigd hebt, zal dit standaard onaangeroerd blijven.
U kan het echter vervangen door het standaard configuratiebestand van de
nieuwe versie door pkg_add(1) aan te roepen met de <b>-c</b> vlag.

<a name="PkgRemove"></a>
<h3>15.2.7 - Verwijderen van geïnstalleerde packages</h3>

<p>
Om een package te verwijderen, neemt u gewoon de juiste naam van de package
zoals getoond door pkg_info(1) (zie <a href="#PkgList">Opsommen van
geïnstalleerde packages</a> hierboven) en gebruikt u
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_delete&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_delete(1)</a>
om de package te verwijderen.
In het onderstaande voorbeeld wordt de screen package verwijderd.
Bemerk dat er soms instructies zijn van extra dingen die verwijderd moeten
worden en die pkg_delete(1) niet voor u verwijderd heeft.
Zoals bij de pkg_add(1) utility kan u de <b>-v</b> vlag gebruiken om meer
uitgebreide uitvoer te krijgen.

<blockquote><pre>
$ <b>sudo pkg_delete screen</b>
screen-4.0.3p1: complete
Clean shared items: complete
</pre></blockquote>

<p>
<b>Opmerking:</b> Het is vaak niet nodig om de versienummers en flavors bij
de package-naam te specificeren, aangezien pkg_delete(1) gewoonlijk zelf de
volledige naam zal kunnen vinden.
U moet de volledige package-naam specificeren (in het voorbeeld is dat
screen-4.0.3p1) alleen als er dubbelzinnigheid mogelijk is wegens meerdere
geïnstalleerde packages met de gespecificeerde naam. In dat geval kan
pkg_delete(1) niet weten welke package het moet verwijderen.

<p>
Voor de veiligheid zal pkg_delete(1) geen configuratiebestanden verwijderen
als ze gewijzigd werden.
In plaats daarvan zal het u hierover inlichten als volgt:

<blockquote><pre>
$ <b>sudo pkg_delete screen</b>
screen-4.0.3p1: complete
Clean shared items: complete
--- screen-4.0.3p1 -------------------
You should also remove /etc/screenrc (which was modified)
</pre></blockquote>

<p>
Als u die configuratiebestanden liever automatisch verwijderd wil zien, kan
u dat doen door de <b>-c</b> vlag te gebruiken.


<!--
<a name="PkgSecurity"></a>
<h3>15.2.8 - Beveiligingsupdates (-stable packages)</h3>

Wanneer ernstige bugs of veiligheidslekken ontdekt worden in externe
software, dan worden die hersteld in de -stable branch van de ports tree,
en wordt een selectie van bijgewerkte binaire packages beschikbaar gemaakt.

<p>
Raadpleeg alstublieft de
<a href="../../pkg-stable.html">stable packages pagina</a> om meer te weten
te komen over bijgewerkte packages en belangrijke updates in de -stable branch.
Merk op dat bijgewerkte packages alleen beschikbaar zijn voor de i386 en
amd64 platformen.
Voor andere platformen zal u de -stable branch van de ports tree moeten
gebruiken en vanaf broncode compileren.

<p>
Indien u beveiligingsaankondigingen i.v.m. software in het packages en ports
systeem wenst te ontvangen, kan u zich inschrijven op de ports-security
<a href="../../nl/mail.html">mailinglijst</a>.

<p>
Package-namen worden <b>altijd</b> gewijzigd in geval van een package update,
om elk risico op verwarring te vermijden tussen een package van de release
en een package met bug-fixes.
Deze naamsverandering kan een verhoogd versienummer zijn of, wanneer het
versienummer gelijk blijft, wordt een <b>pN</b> suffix toegevoegd, waarbij
<b>N+1</b> het aantal keer is dat deze package gepatcht werd.
-->

<a name="PkgPartial"></a>
<h3>15.2.8 - Installeren of verwijderen van onvolledige packages</h3>

In enkele uitzonderlijke gevallen kan het gebeuren dat een package niet
volledig toegevoegd of verwijderd werd, door conflicten met andere bestanden.
De onvolledige installatie wordt gewoonlijk aangeduid door "partial-"
voor de package-naam te plakken.
Dit kan bijvoorbeeld voorkomen wanneer u toevallig CTRL+C induwt tijdens
de installatie:

<blockquote><pre>
$ <b>sudo pkg_add screen-4.0.3p1</b>
screen-4.0.3p1: complete                                                      7%
Adjusting md5 for /usr/local/info/screen.info-3 from 49fb3fe1cc3a3b0057518459811b6dac to 3b9c7811244fb9f8d83bb27d3a0f60d8
/usr/sbin/pkg_add: Installation of screen-4.0.3p1 failed , partial installation recorded as partial-screen-4.0.3p1
</pre></blockquote>

<p>
Het is altijd een goed idee om gedeeltelijke packages van uw systeem te
verwijderen, en mogelijke problemen op te lossen die tot dit falen leidden.
Het wijst er vaak op dat u geen zuiver systeem hebt waarbij alles via
packages geïnstalleerd werd, maar waar mogelijk packages vermengd zijn
met andere software die rechtstreeks vanaf broncode geïnstalleerd werd.


<a name="Ports"></a>
<h2>15.3 - Werken met ports</h2>

Zoals vermeld in de inleiding, worden packages gecompileerd vanuit de
ports tree.
In deze sectie zullen we uitleggen hoe de ports tree werkt, wanneer u hem
best gebruikt en hoe u hem kan gebruiken.

<p>
<b>BELANGRIJKE OPMERKING</b>: De ports tree is bedoeld voor gevorderde
gebruikers.
<b>Iedereen wordt aangeraden de vooraf gecompileerde binaire
<a href="#PkgMgmt">packages</a></b> te gebruiken.
Stel GEEN beginnersvragen op de mailinglijsten zoals
"Hoe kan ik de ports tree werkend krijgen?".
Indien u vragen hebt over de ports tree, wordt verondersteld dat u de
manual pagina's en deze FAQ gelezen hebt, en dat u in staat bent er mee
te werken.


<a name="PortsHow"></a>
<h3>15.3.1 - Hoe werkt het?</h3>

De ports tree, een concept dat oorspronkelijk ontleend werd aan
<a href="http://www.freebsd.org">FreeBSD</a>, is een verzameling Makefiles,
één voor iedere externe toepassing, om te regelen

<ul>
<li>waar en hoe de broncode van de software afgehaald wordt,
<li>van welke andere software ze afhangt,
<li>hoe de broncode gewijzigd wordt (indien noodzakelijk),
<li>hoe ze geconfigureerd en gebouwd wordt,
<li>hoe ze getest wordt (optioneel),
<li>hoe ze geïnstalleerd wordt.
</ul>

<p>
Naast de Makefile bevat iedere port ook tenminste het volgende:

<ul>
<li>een PLIST of inpaklijst, die instructies bevat voor het creëren van
een package zodra de toepassing gebouwd is,
<li>een DESCR of beschrijving van de toepassing,
<li>een distfile, die checksums en grootte van de distributiebestanden bevat.
</ul>

<p>
Al deze informatie wordt bijgehouden in een directory-hiërarchie onder
<tt>/usr/ports</tt>.
Deze hiërarchie bevat drie speciale subdirectories:
<ul>
<li><tt>distfiles/</tt> - waar het ports systeem software distributiesets
bewaart na het downloaden.
<li><tt>infrastructure/</tt> - de hoofddirectory van de ports-infrastructuur,
die alle noodzakelijke scripts en makefiles bevat.
<li><tt>packages/</tt> - bevat alle binaire packages die door het ports
systeem gebouwd worden.
</ul>
De andere subdirectories vormen allemaal verschillende toepassingscategoriëen,
die de subdirectories van de eigenlijke ports bevatten.
Complexe ports kunnen zelfs nog tot op een dieper niveau georganiseerd zijn,
bijvoorbeeld als ze een kerngedeelte hebben en een verzameling extensies,
of een stabiele en een snapshot-versie van de toepassing.
Iedere portdirectory moet een <tt>pkg/</tt> subdirectory bevatten met
daarin de inpaklijst en beschrijvingsbestand(en).
Er kunnen ook <tt>patches/</tt> en <tt>files/</tt> subdirectories zijn,
respectievelijk voor patches aan de broncode en voor bijkomende bestanden.

<p>
Wanneer een gebruiker
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>
uitvoert in de subdirectory van een specifieke port, zal het systeem
recursief de "dependency tree" aflopen, controleren of de vereiste
dependencies geïnstalleerd zijn, ontbrekende dependencies bouwen en
installeren, en vervolgens verder gaan met het bouwen van de gewenste port.
Al het bouwen gebeurt binnen de <i>werkdirectory</i> die de port aanmaakt.
Dit is normaal onder <tt>${WRKOBJDIR}</tt>, die standaard op /usr/ports/pobj
staat, maar u kunt deze overschrijven (zie
<a href="#PortsConfig">Configuratie van het ports systeem</a>).
Als <tt>WRKOBJDIR</tt> expliciet leeggemaakt is, dan zal in plaats daarvan
een subdirectory van de hoofddirectory van de port worden gebruikt
(de naam van het package voorafgegaan door "w-").

<p>
<b>Opmerking:</b> Ports worden nooit rechtstreeks op uw systeem geïnstalleerd!
Ze gebruiken een <i>valse ("fake") installatiedirectory</i>.
Al wat daar geïnstalleerd wordt, wordt samengebundeld in een package
(die opgeslagen wordt in de <tt>packages/</tt> subdirectory van de ports
tree zoals eerder vermeld).
Het installeren van een port betekent werkelijk: een package aanmaken, en
vervolgens die package installeren!

<p>
<b>Meer informatie</b> over het ports systeem vindt u terug in deze manual
pagina's:

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7">ports(7)</a>
- beschrijft de verschillende stappen (make targets) van port-installatie,
het gebruik van flavors en subpackages en enkele andere opties.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&amp;sektion=5">bsd.port.mk(5)</a>
- gedetailleerde informatie over al de make targets, variabelen, de "fake"
(installatiedirectory) omkadering, enz.
</ul>

<a name="PortsFetch"></a>
<h3>15.3.2 - Afhalen van de ports tree</h3>

Alvorens verder te gaan, moet u de sectie lezen over het NIET
<a href="#NoFun">vermengen van uw OpenBSD systeem en ports tree</a>.
Zodra u beslist hebt welke "flavor" van de ports tree u wil, kan u de
ports tree afhalen van verschillende bronnen.
De onderstaande tabel geeft een overzicht van waar u de verschillende
"flavors" kan vinden, en in welke vorm.
Een 'x' duidt beschikbaarheid aan en '-' betekent dat het niet beschikbaar
is via die specifieke bron.

<p>
<table border="1" align="center" style="empty-cells: show;">
<tr align="center">
<td align="left">Bron</td>
<td>Form</td>
<td colspan="4">"Flavor"</td>
</tr>
<tr align="center">
<td colspan="2"></td>
<td>-release</td>
<td>-stable</td>
<td>snapshots</td>
<td>-current</td>
</tr>
<tr align="center">
<td align="left"><a href="../../nl/orders.html">CD-ROM</a></td>
<td>.tar.gz</td>
<td>x</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr align="center">
<td align="left"><a href="../../nl/ftp.html">FTP mirrors</a></td>
<td>.tar.gz</td>
<td>x</td>
<td>-</td>
<td>x</td>
<td>-</td>
</tr>
<tr align="center">
<td align="left"><a href="../../nl/anoncvs.html">AnonCVS</a></td>
<td>cvs checkout</td>
<td>x</td>
<td>x</td>
<td>-</td>
<td>x</td>
</tr>
</table>

<p>
Zoek op de CD-ROM en FTP mirrors naar een bestand met de naam
<tt>ports.tar.gz</tt>.
U wil dit bestand untarren in de <tt>/usr</tt> directory, wat
<tt>/usr/ports</tt> zal aanmaken, en alle directories daaronder.
Bijvoorbeeld:

<blockquote><pre>
$ <b>cd /tmp</b>
$ <b>ftp ftp://ftp.openbsd.org/pub/OpenBSD/4.6/ports.tar.gz</b>
$ <b>cd /usr</b>
$ <b>sudo tar xzf /tmp/ports.tar.gz</b>
</pre></blockquote>

<p>
De snapshots beschikbaar op de FTP mirrors worden dagelijks gegenereerd
vanaf de -current ports tree.
U zal de snapshots terugvinden in de <tt>pub/OpenBSD/snapshots/</tt>
directory.
Indien u een snapshot van de ports tree gebruikt, moet u een overeenstemmende
snapshot van OpenBSD geïnstalleerd hebben.
Let erop dat u uw ports tree en uw OpenBSD systeem synchroon houdt!

<p>
Lees voor meer informatie over het bekomen van de ports tree via AnonCVS
alstublieft de <a href="../../nl/anoncvs.html">AnonCVS pagina</a> die een
lijst van beschikbare servers en een aantal voorbeelden bevat.


<a name="PortsConfig"></a>
<h3>15.3.3 - Configuratie van het ports systeem</h3>

<p>
<b>OPMERKING:</b>
Deze sectie introduceert enkele bijkomende globale instellingen om
toepassingen vanuit ports te bouwen.
U kan deze sectie overslaan, maar dan zal u veel van de make(1) opdrachten
in de voorbeelden als root moeten uitvoeren.

<p>
Omdat het OpenBSD project niet de middelen heeft om de broncode van alle
software in de ports tree na te kijken, kan u het ports systeem configureren
om een aantal veiligheidsmaatregelen te nemen.
De ports infrastructuur kan al het bouwen als een gewone gebruiker uitvoeren,
en alleen die stappen die supergebruiker-privileges vereisen, als root
uitvoeren.
Voorbeelden zijn de <tt>fake</tt> en <tt>install</tt> make targets.
Omdat root-privileges echter steeds vereist zijn op een bepaald ogenblik,
zal het ports systeem u niet redden wanneer u beslist een kwaadwillige
toepassing te bouwen.

<p>
<ul>
<li>U kan
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>
instellen en het door de ports tree laten gebruiken voor taken die
superuser-permissies vereisen.
Voeg gewoon een lijn toe aan <tt>/etc/mk.conf</tt> die het volgende bevat:

<blockquote><pre>
SUDO=/usr/bin/sudo
</pre></blockquote>

<li>U kan de eigendomsrechten van de ports tree wijzigen zodat u er in kan
schrijven als gewone gebruiker.
In dit geval werd de gewone gebruiker toegevoegd aan de wsrc groep, en
werden de onderliggende directories schrijfbaar gemaakt voor de groep.

<blockquote><pre>
# <b>chgrp -R wsrc /usr/ports</b>
# <b>find /usr/ports -type d -exec chmod g+w {} \;</b>
</pre></blockquote>

<li>U kan het ports systeem
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a>
laten gebruiken door het volgende toe te voegen aan <tt>/etc/mk.conf</tt>

<blockquote><pre>
USE_SYSTRACE=Yes
</pre></blockquote>

Dit dwingt de bouwprocedure om binnen toegelaten directories te blijven, en
verbiedt het schrijven op illegale plaatsen, waarbij het risico van een
beschadigd systeem aanzienlijk verkleind wordt.
Merk op dat het gebruik van systrace(1) ongeveer 20% overhead aan de bouwtijd
toevoegt.

</ul>

<p>
Het is mogelijk om een "read-only" ports tree te gebruiken door de
directories waarnaar geschreven wordt tijdens het bouwen van ports,
af te zonderen:

<ul>
<li>De werkdirectory van ports.
Dit wordt geregeld door de <tt>WRKOBJDIR</tt> variabele, die de directory
specificeert die de werkdirectories zal bevatten.
<li>De directory die distributiebestanden bevat.
Dit wordt geregeld door de <tt>DISTDIR</tt> variabele.
<li>De directory die nieuw gebouwde binaire packages bevat.
Dit wordt geregeld door de <tt>PACKAGE_REPOSITORY</tt> variabele.
</ul>

U zou bijvoorbeeld de volgende lijnen kunnen toevoegen aan
<tt>/etc/mk.conf</tt>

<blockquote><pre>
WRKOBJDIR=/usr/obj/ports
DISTDIR=/usr/distfiles
PACKAGE_REPOSITORY=/usr/packages
</pre></blockquote>

Indien gewenst kan u ook het eigendom van deze directories instellen op
uw lokale gebruikersnaam en groep, zodat het ports systeem de onderliggende
directories als een gewone gebruiker kan aanmaken.


<a name="PortsSearch"></a>
<h3>15.3.4 - Doorzoeken van de ports tree</h3>

Zodra u de ports tree op zijn plaats hebt op uw systeem, wordt het heel
gemakkelijk om software te zoeken.
Gebruik gewoon <tt>make search key="zoekterm"</tt>, zoals getoond in het
volgende voorbeeld.

<blockquote><pre>
$ <b>cd /usr/ports</b>
$ <b>make search key=rsnapshot</b>
Port:   rsnapshot-1.3.1p0
Path:   net/rsnapshot
Info:   remote filesystem snapshot utility
Maint:  Antoine Jacoutot &lt;ajacoutot@openbsd.org&gt;
Index:  net sysutils
L-deps:
B-deps: :net/rsync
R-deps: :devel/p5-Lchown :net/rsync
Archs:  any
</pre></blockquote>

Het zoekresultaat geeft een fijn overzicht van elke toepassing die gevonden
werd: de naam van de port, het pad naar de port, een 1-regel beschrijving,
de maintainer van de port, sleutelwoorden die verband houden met de port,
library/build/runtime dependencies, en architecturen waarvan bekend is dat
de port er op werkt.

<p>
Dit mechanisme is echter vrij eenvoudig, het draait gewoon awk(1) op het
ports indexbestand.
Sinds OpenBSD 4.0 werd een nieuwe port, "sqlports" genaamd, aangemaakt,
die toelaat heel nauwkeurig te zoeken met behulp van SQL.
Het is een SQLite database, maar eigenlijk kan eender welk databaseformaat
aangemaakt worden met de ports infrastructuur.
De sqlports port bevat een script om de database te genereren, dat zou
gebruikt kunnen worden als basis om databases in verschillende formaten te
genereren.

<p>
Voeg gewoon de sqlports package toe met pkg_add(1), en in dit geval, de
sqlite3 package om van start te gaan.
Een voorbeeldsessie zou er als volgt kunnen uitzien:

<blockquote><pre>
$ sqlite3 /usr/local/share/sqlports
SQLite version 3.3.12
Enter ".help" for instructions
sqlite> SELECT FULLPKGNAME,COMMENT FROM Ports WHERE COMMENT LIKE '%statistics%'

Guppi-0.40.3p1|GNOME-based plot program with statistics capabilities
mailgraph-1.12|a RRDtool frontend for Postfix statistics
R-2.4.1|clone of S, a powerful math/statistics/graphics language
py-probstat-0.912p0|probability and statistics utilities for Python
darkstat-3.0.540p1|network statistics gatherer with graphs
pfstat-2.2p0|packet filter statistics visualization
tcpstat-1.4|report network interface statistics
wmwave-0.4p2|Window Maker dockapp to display wavelan statistics
diffstat-1.43p0|accumulates and displays statistics from a diff file
sqlite>
</pre></blockquote>

Het bovenstaande is nog steeds een heel eenvoudige zoekopdracht.
Met SQL kan u ongeveer eender wat opzoeken, inclusief dependencies,
configuratie-opties, shared libraries, enz.

<a name="PortsInstall"></a>
<h3>15.3.5 - Rechtlijnige installatie: een eenvoudig voorbeeld</h3>

Laten we voor de duidelijkheid een eenvoudig voorbeeld beschouwen: rsnapshot.
Deze toepassing hangt van één andere af: rsync.

<blockquote><pre>
$ <b>cd /usr/ports/net/rsnapshot</b>
$ <b>make install</b>
===>  Checking files for rsnapshot-1.2.9
&gt;&gt; rsnapshot-1.2.9.tar.gz doesn't seem to exist on this system.
&gt;&gt; Fetch http://www.rsnapshot.org/downloads/rsnapshot-1.2.9.tar.gz.
100% |**************************************************|   173 KB    00:02
&gt;&gt; Size matches for /usr/ports/distfiles/rsnapshot-1.2.9.tar.gz
&gt;&gt; Checksum OK for rsnapshot-1.2.9.tar.gz. (sha1)
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - not found
===&gt;  Verifying install for rsync-2.6.9 in net/rsync
===&gt;  Checking files for rsync-2.6.9
&gt;&gt; rsync-2.6.9.tar.gz doesn't seem to exist on this system.
&gt;&gt; Fetch ftp://ftp.samba.org/pub/rsync/old-versions/rsync-2.6.9.tar.gz.
100% |**************************************************|   792 KB    00:31
&gt;&gt; Size matches for /usr/ports/distfiles/rsync-2.6.9.tar.gz
&gt;&gt; Checksum OK for rsync-2.6.9.tar.gz. (sha1)
===&gt;  Verifying specs:  c
===&gt;  found c.40.3
===&gt;  Extracting for rsync-2.6.9
===&gt;  Patching for rsync-2.6.9
===&gt;  Configuring for rsync-2.6.9
  [...snip...]
===&gt;  Building for rsync-2.6.9
  [...snip...]
===&gt;  Faking installation for rsync-2.6.9
  [...snip...]
===&gt;  Building package for rsync-2.6.9
Link to /usr/ports/packages/i386/ftp/rsync-2.6.9.tgz
Link to /usr/ports/packages/i386/cdrom/rsync-2.6.9.tgz
===&gt;  Installing rsync-2.6.6p0 from /usr/ports/packages/i386/all/rsync-2.6.9.tgz
rsync-2.6.9: complete
===&gt; Returning to build of rsnapshot-1.2.9
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - found
===&gt;  Extracting for rsnapshot-1.2.9
===&gt;  Patching for rsnapshot-1.2.9
===&gt;  Configuring for rsnapshot-1.2.9
  [...snip...]
===>  Building for rsnapshot-1.2.9
  [...snip...]
===&gt;  Faking installation for rsnapshot-1.2.9
  [...snip...]
===&gt;  Building package for rsnapshot-1.2.9
Link to /usr/ports/packages/i386/ftp/rsnapshot-1.2.9.tgz
Link to /usr/ports/packages/i386/cdrom/rsnapshot-1.2.9.tgz
===&gt;  rsnapshot-1.2.9 depends on: rsync-2.6.9 - found
===&gt;  Installing rsnapshot-1.2.9 from /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
rsnapshot-1.2.9: complete
</pre></blockquote>

<p>
Zoals u kan zien, doet het ports systeem vele dingen automatisch.
Het zal de broncode afhalen, uitpakken en patchen, de broncode configureren
en bouwen (compileren), de bestanden in een valse ("fake") directory
installeren, een package aanmaken (in overeenstemming met de inpaklijst)
en deze package installeren op uw systeem (gewoonlijk onder
<tt>/usr/local/</tt>).
En het doet dit recursief <b>voor alle dependencies</b> van de port.
Let gewoon op de
"<tt>===&gt; Verifying install for ...</tt>" en
"<tt>===&gt; Returning to build of ...</tt>" lijnen in de bovenstaande
uitvoer, die het aflopen van de "dependency tree" aangeven.

<p>
Indien een vorige versie van de toepassing die u wil installeren, reeds
geïnstalleerd was op uw systeem, kan u <tt><b>make update</b></tt>
gebruiken in plaats van <tt><b>make install</b></tt>.
Dit zal pkg_add(1) aanroepen met de <b>-r</b> vlag.

<p>
<b>Opmerking:</b>
Het bouwen van grote toepassingen zal veel systeemmiddelen vergen.
Goede voorbeelden zijn compilers zoals GCC 4.0 of de Java 2 Software
Development Kit.
Indien u "out of memory" of gelijkaardige fouten krijgt bij het bouwen
van zulke ports, heeft dit gewoonlijk één van deze twee redenen:

<ul>
<li>Uw "resource limits" zijn te beperkend.
Pas ze aan met ksh's ulimit of csh's limit commando.
Als dat niet helpt, word dan gewoon root alvorens het bouwen te starten, of
gebruik
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>
met de <tt>-c</tt> vlag om het bouwen uit te voeren met de middelen beperkt
door de gespecificeerde loginklasse (raadpleeg
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5">login.conf(5)</a>
voor details over loginklassen).
<li>U hebt eenvoudigweg niet genoeg RAM in uw machine.
</ul>


<a name="PortsClean"></a>
<h3>15.3.6 - Opruimen na het bouwen</h3>

U wil waarschijnlijk de standaard werkdirectory van de port opruimen nadat
u de package gebouwd en geïnstalleerd hebt.

<blockquote><pre>
$ <b>make clean</b>
===&gt;  Cleaning for rsnapshot-1.2.9
</pre></blockquote>

Bijkomend kan u ook de werkdirectories van alle dependencies van de port
opruimen met deze make target:

<blockquote><pre>
$ <b>make clean=depends</b>
===&gt;  Cleaning for rsync-2.6.9
===&gt;  Cleaning for rsnapshot-1.2.9
</pre></blockquote>

Indien u de broncode distributieset(s) van de port wenst te verwijderen,
zou u dit gebruiken:

<blockquote><pre>
$ <b>make clean=dist</b>
===&gt;  Cleaning for rsnapshot-1.2.9
===&gt;  Dist cleaning for rsnapshot-1.2.9
</pre></blockquote>

Wanneer u meerdere flavors van dezelfde port hebt gecompileerd, kan u de
werkdirectories van al deze flavors ineens opruimen met

<blockquote><pre>
$ <b>make clean=flavors</b>
</pre></blockquote>

U kan de dingen ook opruimen naarmate ze gebouwd worden door een speciale
variabele in te stellen.
Werkdirectories zullen automatisch verwijderd worden nadat packages zijn
aangemaakt:
<blockquote><pre>
$ <b>make package BULK=Yes</b>
</pre></blockquote>

<a name="PortsDelete"></a>
<h3>15.3.7 - Verwijderen van de package van een port</h3>

Het is heel gemakkelijk om een port te verwijderen:

<blockquote><pre>
$ <b>make uninstall</b>
===&gt; Deinstalling for rsnapshot-1.2.9
rsnapshot-1.2.9: complete
Clean shared items: complete
</pre></blockquote>

Dit zal pkg_delete(1) aanroepen om de overeenstemmende package van uw
systeem te verwijderen.
Indien gewenst kan u ook de package van een port verwijderen en
herinstalleren door gebruik van

<blockquote><pre>
$ <b>make reinstall</b>
===&gt;  Cleaning for rsnapshot-1.2.9
/usr/sbin/pkg_delete rsnapshot-1.2.9
rsnapshot-1.2.9: complete
Clean shared items: complete
===&gt;  Installing rsnapshot-1.2.9 from /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
rsnapshot-1.2.9: complete
</pre></blockquote>

Indien u de packages die u net gebouwd hebt, kwijt wil, kan dat als volgt:

<blockquote><pre>
$ <b>make clean=packages</b>
===&gt;  Cleaning for rsnapshot-1.2.9
rm -f /usr/ports/packages/i386/all/rsnapshot-1.2.9.tgz
</pre></blockquote>

<a name="PortsFlavors"></a>
<h3>15.3.8 - Gebruik van flavors en subpackages</h3>

Lees alstublieft de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7">ports(7)</a>
manual pagina, die een goed overzicht geeft van dit onderwerp.
Er zijn twee mechanismen om het verpakken van software te regelen volgens
verschillende noden.

<p>
Het eerste mechanisme heet <b>flavors</b>.
Een flavor geeft gewoonlijk een bepaalde verzameling compilatie-opties aan.
Sommige toepassingen hebben bijvoorbeeld een "no_x11" flavor die gebruikt
kan worden op systemen zonder X.
Sommige shells hebben een "static" flavor, die een statisch gelinkte
versie zal bouwen.
Er zijn ports die verschillende flavors hebben om ze te bouwen met
verschillende grafische toolkits.
Andere voorbeelden zijn: ondersteuning voor verschillende databankformaten,
verschillende netwerkopties (SSL, IPv6, ...), verschillende papiergroottes,
enz.

<p>
<b>Samenvatting:</b>
Heel waarschijnlijk zal u flavors gebruiken wanneer een package niet
beschikbaar gemaakt werd voor de flavor die u zoekt.
In dit geval zal u de gewenste flavor specificeren en zelf de port bouwen.

<p>
De meeste port flavors zullen hun eigen werkdirectory hebben tijdens het
bouwen en elke flavor zal gebundeld worden in een package met overeenstemmende
naam om verwarring te vermijden.
Om de verschillende flavors van een bepaalde port te zien, kan u in zijn
subdirectory gaan staan en dit uitvoeren:

<blockquote><pre>
$ <b>make show=FLAVORS</b>
</pre></blockquote>

U kijkt best ook naar de DESCR bestanden van de port, aangezien die de
beschikbare flavors verder toelichten.

<p>
Het tweede mechanisme heet <b>subpackages</b>.
Een porter kan beslissen om subpackages aan te maken voor verschillende
onderdelen van dezelfde toepassing, indien ze logisch gescheiden kunnen worden.
U zal vaak subpackages zien voor het clientgedeelte en het servergedeelte
van een programma.
Soms wordt uitgebreide documentatie gebundeld in een afzonderlijke subpackage
omdat ze nogal veel schijfruimte inneemt.
Extra functionaliteit die zware dependencies met zich meebrengt zal vaak
afzonderlijk verpakt worden.
De porter zal ook beslissen welke subpackage de hoofdpackage is die
standaard zal geïnstalleerd worden.
Andere voorbeelden zijn: uitgebreide testpakketten die bij de software zitten,
afzonderlijke modules met ondersteuning voor verschillende dingen, enz.

<p>
<b>Samenvatting:</b>
Sommige ports worden in verschillende packages verdeeld.
<tt>make install</tt> zal alleen de hoofdpackage installeren.

<p>
Om de verschillende packages te tonen die gebouwd worden door een port,
gebruikt u
<blockquote><pre>
$ <b>make show=PACKAGES</b>
</pre></blockquote>
<p>

<tt>make install</tt> zal slechts de eerste subpackage installeren.
Om ze allemaal te installeren, gebruikt u

<blockquote><pre>
$ <b>make install-all</b>
</pre></blockquote>
<p>

Om de verschillende subpackages op te sommen die beschikbaar zijn voor een
port, gebruikt u

<blockquote><pre>
$ <b>make show=MULTI_PACKAGES</b>
</pre></blockquote>

Het is mogelijk om te selecteren welke subpackage(s) geïnstalleerd moeten
worden van binnen de ports tree.
Na enkele tests zal deze procedure gewoon
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_add(1)</a>
aanroepen om de gewenste subpackage(s) te installeren.

<blockquote><pre>
$ <b>env SUBPACKAGE="-server" make install</b>
</pre></blockquote>

<p>
<b>Opmerking:</b>
Het subpackages mechanisme behandelt alleen packages, het wijzigt geen
configuratie-opties vóór het bouwen van de port.
Voor dat doel moet u flavors gebruiken.

<!--
<a name="PortsSecurity"></a>
<h3>15.3.9 - Beveiligingsupdates</h3>

Wanneer ernstige fouten of beveiligingslekken ontdekt worden in externe
software, worden ze hersteld in de <b>-stable</b> branch van de ports tree.
Onthou dat de levenscyclus 1 jaar is: alleen de huidige en de vorige release
worden geüpdatet, zoals uitgelegd in
<a href="faq5.html#Flavors">FAQ 5 - OpenBSD's Flavors</a>.

<p>
Dit betekent dat al wat u moet doen is ervoor te zorgen dat u een checkout
doet van de juiste branch van de ports tree, en dan de gewenste software
er uit te bouwen.
U kan uw tree up-to-date houden met CVS, en bijkomend inschrijven op de
ports-security <a href="../../nl/mail.html">mailinglijst</a> om
beveiligingsaankondigingen i.v.m. software in de ports tree te ontvangen.

<p>
Natuurlijk bereiken beveiligingsupdates de -current ports tree alvorens ze
opgenomen worden in de -stable branch.
-->

<a name="PkgFAQ"></a>
<h2>15.4 - FAQ</h2>

<a name="NoFun"></a>
<h3>15.4.1 - Ik krijg allerlei gekke fouten.
Ik lijk dit ports zootje maar niet aan de praat te krijgen.</h3>

<p>
Het is zeer waarschijnlijk dat u een systeem en ports tree gebruikt die
niet synchroon zijn.

<p>
<i>Excuseer?</i>
<ul>
<li>Lees ALLES over
<a href="faq5.html#Flavors">OpenBSD's Flavors</a>:
-release, -stable en -current.
De korte samenvatting is als volgt, maar lees alstublieft toch het hierboven
vermelde document om een idee te krijgen van welke u wil gebruiken.
<ul>
<li><a href="../../nl/orders.html">Release</a>: Wat op de CD staat.
<li><a href="../../nl/stable.html">Stable</a>: Release, plus beveiligings-
  en betrouwbaarheidsverbeteringen.
<li><a href="../current.html">Current</a>: De ontwikkelingsversie van
  OpenBSD.
</ul>
<li>Doe geen checkout van een -current ports tree en verwacht NIET dat deze
werkt op een -release of -stable system.
Dit is één van de meest voorkomende fouten en u zal mensen ergeren wanneer
u om hulp vraagt waarom "niets lijkt te werken!"
<b>Als u -current volgt, hebt u zowel een -current systeem als
een -current ports tree nodig.</b>
Ja, dit betekent echt dat een geweldige nieuwe port doorgaans niet zal werken
op uw "ouder" systeem -- zelfs als dat systeem enkele weken geleden nog
-current was.
Hou in het achterhoofd dat als u X11 gebruikt als onderdeel van uw systeem,
dat dat dan ook de overeenstemmende branch moet volgen!
<li>Omdat er in -stable geen al te ingrijpende veranderingen gebeuren, is
het mogelijk om -release packages en ports op een -stable systeem te
gebruiken.
Het is niet nodig al uw geïnstalleerde packages te updaten na het
aanbrengen van enkele errata-patches aan uw systeem.
</ul>

<p>
Een andere veel voorkomende fout is een ontbrekende X11 installatie.
Zelfs als de port die u probeert te bouwen niet rechtstreeks afhangt van X11,
kan een subpackage ervan of kunnen de dependencies ervan X11 headers en
libraries vereisen.
Ports bouwen op systemen zonder X11 wordt niet ondersteund, dus als u er
op aandringt om dit toch te doen, moet u zelf maar uitzoeken hoe het werkt.
Voor heel wat ports zijn er echter "no_x11" ge-"flavor"de packages
beschikbaar, die u kan installeren zonder dat u X11 nodig hebt op uw systeem.

<a name="Latest"></a>
<h3>15.4.2 - De laatste versie van mijn Top-Favoriete-Software is niet
beschikbaar!</h3>

Als u een release of stable versie van OpenBSD gebruikt, zal u geen package
updates vinden tot de volgende release, of totdat zich beveiligingsproblemen
voordoen die een update van de port in de -stable branch en van de
overeenstemmende package rechtvaardigen.

<p>
<b>WAARSCHUWING: Meng GEEN versies van Ports en OpenBSD!</b>

<p>
Dit toch doen zal u vroeg of laat (waarschijnlijk zelfs erg vroeg)
hoofdpijn bezorgen wanneer u <a href="#NoFun">allerlei fouten</a>
probeert op te lossen!

<p>
<i>Maar hey, ik ben hier helemaal -current!</i>

<p>
De ports verzameling is een vrijwilligersproject.
Soms heeft het project gewoon niet de mankracht wat betreft ontwikkelaars
om alles up-to-date te houden.
Ontwikkelaars pikken eigenlijk gewoon op wat ze interessant vinden en
kunnen testen in hun omgeving.
Uw <a href="../../nl/donations.html">schenkingen</a> kunnen een verschil
maken voor het testen van ports op meer platformen.

<p>
Sommige ports kunnen hierom achterop lopen op de hoofdversies.
De ports verzameling kan een versie bevatten van een programma uit
januari terwijl een nieuwe versie van het programma al door de
ontwikkelaars ervan uitgebracht werd in mei drie maanden geleden.
Vaak is dit een bewuste beslissing; de nieuwe versie kan problemen hebben
op OpenBSD die de maintainer probeert op te lossen, of die de toepassing
gewoon slechter gemaakt hebben dan de oude versie: OpenBSD kan
verschillende <a href="../../nl/goals.html">doelstellingen</a> hebben
dan de hoofdontwikkelaars in andere projecten, wat soms leidt tot
functionaliteiten of implementatiekeuzes die niet wenselijk zijn vanuit
het standpunt van OpenBSD ontwikkelaars.
De update kan ook uitgesteld worden omdat de nieuwe versie niet beschouwd
wordt als een cruciale update.

<p>
Als u echt een nieuwe versie van een port nodig hebt, kan u best aan
de maintainer van de port vragen de port te updaten
(zie <a href="#Problems">hieronder</a> om te weten te komen wie de
maintainer is).
Als u hierbij kan <a href="#Helping">helpen</a>, des te beter.


<a name="NoPkg"></a>
<h3>15.4.3 - Waarom is er geen package voor mijn Top-Favoriete-Software?</h3>

Hier zijn verschillende mogelijke redenen voor:

<ul>
<li>Op de OpenBSD <a href="../../nl/orders.html">CD-ROM's</a> is er geen
plaats om elke mogelijke package voor elk mogelijk platform te zetten.
Daarom zitten alleen de meest gebruikte packages op de CD's.
Daarenboven mag bepaalde software alleen gratis herverdeeld worden, wat
betekent dat het niet op de CD's mag gezet worden.
Als u geen package kan vinden op de CD's, probeer dan een andere bron,
zoals een FTP mirror.
<li>Bepaalde software mag volgens zijn licentie eenvoudigweg niet
herverdeeld worden in de vorm van binaire packages.
Andere software wordt belemmerd door patenten en kan daarom niet
herverdeeld worden.
Als uw Top-Favoriete-Software in deze categorie valt, zal u de port
moeten gebruiken en vanaf broncode compileren.
<li>Vanzelfsprekend, maar soms vergeten: er is helemaal
<a href="#NoPort">geen port van uw Top-Favoriete-Software</a>.
U kan dit verifiëren door <a href="#PortsSearch">de ports tree te
doorzoeken</a>.
Als er inderdaad geen port is van uw Top-Favoriete-Software, dan bent u
welkom om te <a href="#Helping">helpen</a>.
</ul>

<a name="NoPort"></a>
<h3>15.4.4 - Waarom is er geen port van mijn Top-Favoriete-Software?</h3>

De ports verzameling is een vrijwilligersproject.
Actieve port-ontwikkeling gebeurt door een beperkt aantal mensen, in hun
vrije tijd.
Deze mensen maken gewoonlijk alleen nieuwe ports voor software die ze
rechtstreeks gebruiken of waarin ze geïnteresseerd zijn.

<p>
U kan <a href="#Helping">helpen</a>.
Overweeg uw eigen port te creëren.
Er is hierover wat documentatie beschikbaar:
het <a href="../ports/index.html">OpenBSD Porter's Handbook</a>.
Lees ze, en lees ze opnieuw.
Vooral het gedeelte over het <i>onderhouden</i> van uw port.
Probeer vervolgens een nieuwe port te maken, en test hem zorgvuldig en
stap voor stap.
Als hij uiteindelijk goed werkt voor u, dien hem dan in op de ports
mailinglijst op <a href="mailto:ports@openbsd.org">ports@openbsd.org</a>.
Er is een goede kans dat u van andere mensen wat feedback en tests zal
krijgen.
Als het testen succesvol gebeurt, zal het in overweging genomen worden
om uw port op te nemen in de ports tree.


<a name="NotInBase"></a>
<h3>15.4.5 - Waarom is mijn Top-Favoriete-Software geen onderdeel van het
basissysteem?</h3>

Omdat OpenBSD bedoeld is om een klein alleenstaand UNIX-achtig
besturingssysteem te zijn, moeten we een grens trekken wat betreft
dingen opnemen.
In het algemeen, opdat een toepassing wordt opgenomen in het basissysteem:

<ul>
<li>moet ze voldoen aan de hoge kwaliteitsstandaarden, uiteengezet in de
<a href="../../nl/goals.html">doelstellingen</a> van het OpenBSD project.
<li>mag haar licentie niet te beperkend zijn en moet ze compatibel zijn met
de BSD licentie.
<li>mag ze niet te groot zijn, om de grootte van het basissysteem
aanvaardbaar te houden.
</ul>

<p>
Verdere antwoorden op deze vraag vindt u ook in
<a href="faq1.html#HowAbout">FAQ 1</a>.

<a name="PkgVsPorts"></a>
<h3>15.4.6 - Wat gebruik ik best: packages of ports?</h3>

In het algemeen wordt u <b>ten zeerste aangeraden</b> packages te
gebruiken boven een toepassing te bouwen vanuit ports.
Het OpenBSD ports team beschouwt packages als het doel van hun port-werk,
niet de ports zelf.

<p>
Een complexe toepassing vanaf broncode bouwen is niet triviaal.
Niet alleen moet de toepassing gecompileerd worden, maar de tools die
gebruikt worden om ze te bouwen, moeten ook gebouwd worden.
Jammer genoeg zijn OpenBSD, de tools en de toepassing allemaal bezig te
evolueren, en vaak is het een uitdaging om alle stukken te laten
samenwerken.
Zodra alles werkt, kan een herziening in gelijk welk onderdeel de volgende
dag er voor zorgen dat het niet meer werkt.
Iedere <a href="faq1.html#Next">zes maanden</a>, wanneer een
<a href="faq5.html#Flavors">nieuwe uitgave</a> van OpenBSD gemaakt wordt,
wordt er moeite gedaan om het bouwen van elke port op elk platform te testen,
maar tijdens de ontwikkelingscyclus is het waarschijnlijk dat er enkele
ports zullen breken.

<p>
Bovenop het laten samenwerken van alle onderdelen, is er nog de kwestie van
tijd en middelen die vereist zijn om bepaalde toepassingen vanaf broncode
te bouwen.
Een goed voorbeeld is <a href="http://www.cvsup.org/">CVSup</a>, een tool
die veel gebruikt wordt om <a href="../../cvsup.html">de OpenBSD source
tree te volgen</a>.
CVSup installeren op een systeem van gemiddelde snelheid met een goede
Internetverbinding kan slechts tien seconden vergen -- de tijd die vereist
is om een enkel 779kB package bestand te downloaden en uit te pakken.
Daarentegen is het bouwen van CVSup vanaf broncode op dezelfde machine een
enorme taak, die vele tools en het bootstrappen van een compiler vereist,
wat op dezelfde machine bijna een half uur duurt.
Andere toepassingen, zoals <a href="http://www.mozilla.org">Mozilla</a>
of <a href="http://www.kde.org">KDE</a> kunnen uren tijd en enorme
hoeveelheden schijfruimte en RAM/swap vergen om te bouwen.
Waarom zoveel tijd en moeite besteden, wanneer programma's reeds
gecompileerd zijn en klaar zitten op uw
<a href="../../nl/orders.html">CD-ROM</a> of
<a href="../../nl/ftp.html">FTP mirror</a>, wachtend om gebruikt te worden?

<p>
Natuurlijk zijn er enkele goede redenen om in sommige gevallen toch ports
te gebruiken en niet packages:

<ul>
<li>Distributieregels verbieden OpenBSD om een package te distribueren.
<li>U wenst een toepassing te wijzigen of te debuggen of haar broncode te
bestuderen.
<li>U hebt een flavor van een port nodig die niet gebouwd wordt door het
OpenBSD ports team.
<li>U wenst de directory layout te veranderen (bv. door <tt>PREFIX</tt> of
<tt>SYSCONFDIR</tt> te wijzigen).
</ul>

Voor de meeste mensen en de meeste toepassingen is het gebruik van packages
echter een veel gemakkelijker, en zeker ook de aanbevolen manier om
toepassingen toe te voegen aan OpenBSD.


<a name="Knobs"></a>
<h3>15.4.7 - Hoe regel ik deze ports fijn voor maximale prestatie?</h3>

OpenBSD gaat over stabiliteit en veiligheid.
Net zoals de GENERIC kernel de standaard en de enige ondersteunde kernel is,
zorgt het ports team ervoor dat de ports werken en stabiel zijn.
Als u allerlei compileropties wil inschakelen, doet u dat maar op eigen houtje.
Stel alstublieft geen vragen op de mailinglijsten zoals waarom het niet werkt,
wanneer u probeerde enkele verborgen knoppen in te schakelen om het sneller
te laten werken.
In het algemeen is al dit fijnregelen niet nodig voor meer dan 99% van de
gebruikers, en is het heel waarschijnlijk compleet tijdverlies, voor u, de
gebruiker, maar ook voor de ontwikkelaars die over uw "problemen" lezen
wanneer er in werkelijkheid geen zijn.


<a name="Wait"></a>
<h3>15.4.8 - Ik diende enkele weken geleden een nieuwe port/een update in.
Waarom wordt deze niet gecommitted?</h3>

Het ports team heeft erg beperkte middelen en er was geen committer die
tijdig naar uw port/update kon kijken. Hoe frustrerend dit ook kan zijn,
negeer dit feit gewoon. Zorg voor uw port, stuur updates en uiteindelijk
regelt iemand het misschien wel. Het is nog gebeurd dat mensen plots
wat vrije tijd hebben om te besteden aan het committen van ports of dat
hun interesses verschuiven naar nieuwe gebieden en plots wordt uw oude
indiening interessant, als ze herinnerd wordt.


<a name="Problems"></a>
<h2>15.5 - Problemen melden</h2>

Als u problemen hebt met een bestaande port, zend dan alstublieft een
e-mail naar de maintainer van de port.
Om te zien wie de maintainer van de port is, typt u bijvoorbeeld:

<blockquote><pre>
$ cd /usr/ports/archivers/unzip
$ make show=MAINTAINER
</pre></blockquote>

<p>
Anders, als er geen maintainer is, of als u hem/haar niet kan bereiken,
zend dan een e-mail naar de OpenBSD ports mailinglijst,
<a href="mailto:ports@openbsd.org">ports@openbsd.org</a>.
Gebruik alstublieft NIET de misc@openbsd.org mailinglijst voor vragen
over ports.
<p>
Geef in elk geval alstublieft:
<ul>
<li>Uw OpenBSD versie, met inbegrip van patches die u eventueel
heeft aangebracht.
De kernel-versie wordt gegven door: <tt>sysctl -n kern.version</tt>
<li>De versie van uw ports tree: indien het bestand <tt>/usr/ports/CVS/Tag</tt>
bestaat, geef dan de inhoud ervan.
Als dit bestand afwezig is, bent u de -current ports tree aan het gebruiken.
<li>Een volledige beschrijving van het probleem.
Wees niet bang om details te verschaffen.
Vermeld alle stappen die u hebt gevolgd voordat het probleem zich voordeed.
Is het probleem reproduceerbaar?
Hoe meer informatie u verschaft, hoe meer waarschijnlijk het is dat u hulp
zal krijgen.
</ul>
Voor ports die niet correct bouwen, is een volledig afschrift van het
bouwen bijna altijd vereist.
U kan hiervoor het portslogger script gebruiken, dat u terugvindt in
<tt>/usr/ports/infrastructure/build</tt>.
Een voorbeeldgebruik van portslogger zou kunnen zijn:

<blockquote><pre>
$ mkdir ~/portslogs
$ cd /usr/ports/archivers/unzip
$ make clean install 2&gt;&amp;1 | /usr/ports/infrastructure/build/portslogger \
           ~/portslogs
</pre></blockquote>

Hierna zou u in uw ~/portslogs directory van het bouwen een logbestand
moeten hebben dat u naar de maintainer van de port kan sturen.
Zorg er ook voor dat u geen speciale opties gebruikt bij het bouwen,
bijvoorbeeld in <tt>/etc/mk.conf</tt>.

<p>
Anders kan u ook
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=script&amp;sektion=1">script(1)</a>
gebruiken om een volledig afschrift van het bouwen aan te maken.
Verwijder geen configuratie-informatie.
<li>De uitvoer van
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;manpath=OpenBSD+4.6">pkg_info(1)</a>
er aan hangen als het zelfs maar vanuit de verte relevant lijkt.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>
interne compilerfouten vragen u om de bug te melden op de gcc mailinglijst.
Het bespaart tijd als u hun richtlijn volgt, en ten minste de verschillende
bestanden verschaft die geproduceerd worden door <tt>gcc -save-temps</tt>.
</ul>


<a name="Helping"></a>
<h2>15.6 - Ons helpen</h2>

Er zijn vele manieren waarop u kan helpen.
Ze worden hieronder opgesomd, in toenemende volgorde van moeilijkheid.

<ul>
<li><a href="#Problems">Meld problemen</a> naarmate u ze ervaart.
<li>U kan systematisch ports testen en breuken melden, of verbeteringen
suggereren.
Kijk even naar de <a href="../../nl/porttest.html">Port Testgids</a>.
<li>Test de updates van ports die gepost worden op de ports mailinglijst.
<li>Stuur updates of patches naar de maintainer van een port, of naar de
ports mailinglijst als de port geen maintainer heeft.
In het algemeen wordt dit erg gewaardeerd, tenzij uw patches voor de
ontwikkelaars eerder tijdverlies dan tijdwinst betekenen.
<li>Creëer nieuwe ports.
Als u echt enthousiast bent en alles wil weten over het porten van
toepassingen naar OpenBSD, is een goed vertrekpunt het
<a href="../ports/index.html">OpenBSD Porter's Handbook</a>.
</ul>

<b>Opmerking:</b> Voor al het aanmaken van nieuwe ports en het daaropvolgende
testen, of voor het testen van port updates, <b>moet u een -current systeem
draaien!</b>
In het algemeen is dit geen wenselijke omgeving door haar voortdurend
evoluerende aard, dus ga alleen verder als u zeker bent dat u -current
wil blijven volgen.

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq14.html">[Naar Sectie 14 - Inrichting van de Schijf]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[terug]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq15.html,v 1.66 ]<br>
$Translation: faq15.html,v 1.42 2009/10/27 18:21:23 maurice Exp $<br>
-->
$OpenBSD: faq15.html,v 1.37 2009/10/31 07:55:59 ajacoutot Exp $
</small>

</body>
</html>
