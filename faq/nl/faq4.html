<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>4 - OpenBSD 4.6 Installatiegids</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2009 by OpenBSD.">
</head>

<!-- Passes validator.w3.org.  Please keep it this way -->

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../nl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">
</a>
<p>

<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq3.html">[Naar Sectie 3 - Beginnen met OpenBSD]</a>
<a href= "faq5.html">[Naar Sectie 5 - Het Systeem vanaf Broncode Bouwen]</a>
</font>

<h1><font color="#e00000">4 - OpenBSD 4.6 Installatiegids</font></h1>
<hr>

<p>
<h3>Inhoudsopgave</h3>
<ul>
<li><a href= "#Overview"    >4.1 - Overzicht van de installatieprocedure</a>
<li><a href= "#Checklist"   >4.2 - Checklist voor de installatie</a>

<li><a href="#MkInsMedia"   >4.3 - Bootable OpenBSD installatiemedia maken</a>
    <ul>
    <li><a href="#MkCD-ROM" >4.3.1 - Een boot CD maken</a>
    <li><a href="#UnixFlop" >4.3.2 - Diskettes maken onder Unix</a>
    <li><a href="#DosFlop"  >4.3.3 - Diskettes maken onder Windows</a>
    </ul>
<li><a href="#Boot"         >4.4 - OpenBSD installatiemedia booten</a>
<li><a href="#Install"      >4.5 - Een eenvoudige installatie uitvoeren</a>
  <ul>
  <li><a href="#InstStart"    >4.5.1 - De installatie beginnen</a>
  <li><a href="#InstQuestions">4.5.2 - De Installatievragen</a>
  <li><a href="#InstDisks"    >4.5.3 - Schijven instellen</a>
  <li><a href="#InstMedia"    >4.5.4 - Kiezen van installatiemedia en
    bestandensets</a>
  <li><a href="#Inst1stBoot"  >4.5.5 - Eerste Boot!</a>
  <li><a href="#InstFinish"   >4.5.6 - Nog één laatste ding...</a>
  </ul>

<li><a href="#More"         >4.6 - Details voor een complexere installatie</a>
  <ul>
  <li><a href="#MoreNetwork"  >4.6.1 - Het netwerk instellen</a>
  <li><a href="#MoreTimeZone" >4.6.2 - De tijdzone instellen</a>
  <li><a href="#Morefdisk"    >4.6.3 - Aangepaste fdisk(8) layout</a>
  <li><a href="#Moredisklabel">4.6.4 - Aangepaste disklabel layout</a>
  </ul>
<li><a href= "#FilesNeeded" >4.7 - Welke bestanden zijn er nodig voor de
                                     installatie?</a>
<li><a href= "#Partitioning">4.8 - Hoe moet ik mijn schijf partitioneren?</a>
<li><a href= "#Multibooting">4.9 - Multibooten van OpenBSD</a>
<li><a href= "#SendDmesg"   >4.10 - Uw dmesg naar dmesg@openbsd.org sturen
                                     na de installatie</a>
<li><a href= "#AddFileSet"  >4.11 - Een bestandenset toevoegen na de
                                      installatie</a>
<li><a href= "#bsd.rd"      >4.12 - Wat is 'bsd.rd'?</a>
<li><a href= "#InstProb"    >4.13 - Vaak voorkomende installatieproblemen</a>
  <ul>
  <li><a href="#cpq16m"     >4.13.1 - Mijn Compaq herkent slechts 16M RAM</a>
  <li><a href="#noboot"     >4.13.2 - Mijn i386 wil niet starten na de
     installatie</a>
  <li><a href="#sshhang"    >4.13.3 - Mijn machine startte, maar bleef hangen
     bij het ssh-keygen proces</a>
  <li><a href="#noftplist"  >4.13.4 - Ik kreeg de boodschap "Failed to change
     directory" tijdens het uitvoeren van een installatie</a>
  <li><a href="#blankfdisk" >4.13.5 - Mijn fdisk partitietabel is vernield
     of blanco!</a>
  <li><a href="#noflopcd"   >4.13.6 - Ik heb geen floppy of CD-ROM op mijn
     machine</a>
  </ul>
<li><a href= "#site"        >4.14 - Het installatieproces aanpassen</a>
<li><a href= "#Multiple"    >4.15 - Hoe kan ik een aantal gelijkaardige
     systemen installeren?</a>
<li><a href="#getdmesg"     >4.16 - Hoe verkrijg ik een dmesg(8) om een
     installatieprobleem te melden?</a>
</ul>
<hr>

<p>
<a name= "Overview"></a>
<h2>4.1 - Overzicht van de OpenBSD installatieprocedure</h2>

<p>
OpenBSD wordt al lang gerespeceerd vanwege het eenvoudige en duidelijke
installatieproces, dat consistent is bij alle platformen.
Voor OpenBSD 4.6 is dat proces verbeterd om nog eenvoudiger en sneller te
zijn voor de meerderheid van de gebruikers, terwijl het de flexibiliteit
en de "één floppy"-installatie behoudt waar OpenBSD bekend om is.

<p>
Alle platformen volgen een gelijkaardige installatieprocedure, al
zijn er echter enkele verschillen in de details voor sommige platformen.
In elk geval wordt u verzocht om het platform-specifieke INSTALL document
te lezen in de <i>platform</i> directory op de CD-ROM of FTP sites
(bijvoorbeeld, <tt>i386/INSTALL.i386</tt>, <tt>mac68k/INSTALL.mac68k</tt>
of <tt>sparc/INSTALL.sparc</tt>).

<p>
De OpenBSD-installatie gebruikt een <a href="#bsd.rd">speciale</a> kernel
met een aantal utilities en installatiescripts vastgelegd in een vooraf
geladen RAM-schijf.
Nadat deze kernel gestart is, wordt het besturingssysteem uitgepakt uit
een aantal gecomprimeerde
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
(<tt>.tgz</tt>) bestanden, van een andere bron dan deze voorgeladen RAM-schijf.
Er zijn verschillende manieren om deze installatiekernel te starten:

<ul>
<li><b>Diskette:</b>
OpenBSD kan op veel platformen worden geïnstalleerd door een
installatieprogramma te booten van een enkele floppy disk.
Door ruimtebeperkingen hebben enkele grotere platformen (sparc64,
amd64, alpha) echter niet alle programma's die voor u belangrijk zouden
kunnen zijn, zoals een DHCP-client om uw netwerk te configureren.
Op deze platformen bent u beter af met een installatie vanaf CD.
Op platformen zoals i386 en sparc zult u echter merken dat de boot-floppy
zeer compleet is.

<p>
Diskette ("floppy disk") images worden voorzien die gebruikt kunnen worden om
een installatiediskette te maken op een ander
<a href="#UnixFlop">Unix-achtig</a> systeem, of op een
<a href="#DosFlop">Windows</a> systeem.
Een typische bestandsnaam is <tt>floppy46.fs</tt>, hoewel er voor verscheidene
platformen meerdere diskette images beschikbaar zijn.

<li><b>CD-ROM:</b> Op verscheidene platformen is er een CD-ROM image
(<tt>cd46.iso</tt> om enkel te booten, of <tt>install46.iso</tt> voor de
volledige installatie) voorzien die toelaat een bootable CD-ROM te maken.

<li><b>Bestaande partitie:</b> De <a href="#bsd.rd">RAM-schijf</a> kernel
kan geboot worden vanaf een reeds bestaande partitie voor een upgrade of
herinstallatie.

<li><b>Netwerk:</b> Sommige platformen ondersteunen het booten over een
netwerk (bijvoorbeeld met <a href="faq6.html#PXE">PXE</a> of andere
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless&amp;sektion=8">netwerk
boot</a>).

<li><b>Een bestandssysteem image naar de schijf schrijven (miniroot):</b> een
bestandssysteem image kan naar een bestaande partitie geschreven worden en
kan vervolgens geboot worden.

<li><b>Bootable Tape:</b> Sommige platformen ondersteunen het booten vanaf
tape. Deze tapes kunnen gemaakt worden door de INSTALL.<i>platform</i>
instructies te volgen.

</ul>

Niet elk <a href="../../nl/plat.html">platform</a> ondersteunt alle boot opties:

<ul>
<li><a href="../../alpha.html"><b>alpha:</b></a> Diskette, CD-ROM, netwerk,
een diskette image naar de harde schijf schrijven.

<li><a href="../../amd64.html"><b>amd64:</b></a> Diskette, CD-ROM,
<a href="faq6.html#PXE">netwerk</a>.

<li><a href="../../armish.html"><b>armish:</b></a> varieert volgens machine.

<li><a href="../../hp300.html"><b>hp300:</b></a> CD-ROM, netwerk.

<li><a href="../../hppa.html"><b>hppa:</b></a> Netwerk.

<li><a href="../../i386.html"><b>i386:</b></a> Diskette, CD-ROM,
<a href="faq6.html#PXE">netwerk</a>.

<li><a href="../../landisk.html"><b>landisk:</b></a> miniroot,
wordt geïnstalleerd met behulp van een andere computer.

<li><a href="../../macppc.html"><b>macppc:</b></a> CD-ROM, netwerk.

<li><a href="../../mvme68k.html"><b>mvme68k:</b></a> Netwerk, bootable tape.

<li><a href="../../mvme88k.html"><b>mvme88k:</b></a> Netwerk, bootable tape.

<li><a href="../../sparc.html"><b>sparc:</b></a> Diskette, CD-ROM, netwerk,
image schrijven naar bestaande swappartitie, bootable tape.

<li><a href="../../sparc64.html"><b>sparc64:</b></a> Diskette (U1/U2 only),
CD-ROM, netwerk, image schrijven naar bestaande partitie.

<li><a href="../../vax.html"><b>vax:</b></a> Diskette, netwerk.

<li><a href="../../zaurus.html"><b>zaurus:</b></a> Boot bsd.rd vanaf een
Linux partitie. Zie
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.6/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
voor details.

</ul>

Alle platformen kunnen ook een
<a href="#bsd.rd">bsd.rd</a> gebruiken om te herinstalleren of te upgraden.

<p>
Zodra de installatiekernel gestart is, hebt u verscheidene opties om te
kiezen waar u de 
<a href="#FilesNeeded">installatiebestandensets</a> vandaan wil halen.
Opnieuw ondersteunt niet elk platform elke optie.

<ul>
<li><b>CD-ROM:</b> Natuurlijk verkiezen we dat u de
<a href="../../nl/orders.html">Officiële CD-ROM set</a> gebruikt, maar u
kunt ook <tt>install46.iso</tt> gebruiken of uw eigen CD-ROM maken.

<li><b>FTP:</b>
Gelijk welke van de OpenBSD
<a href="../../nl/ftp.html">FTP mirror sites</a>
of uw eigen lokale FTP server waarop de bestandensets staan.

<li><b>HTTP:</b>
Gelijk welke van de OpenBSD
<a href="../../nl/ftp.html#http">HTTP mirror sites</a>
of uw eigen lokale web server waarop de bestandensets staan.

<li><b>Lokale schijfpartitie:</b>
In vele gevallen kunt u bestandensets installeren vanaf een andere partitie
op een lokale harde schijf.
Op <a href="../../i386.html">i386</a> kunt u bijvoorbeeld
vanaf een FAT partitie installeren of vanaf een CD-ROM geformatteerd in
ISO9660, Rock Ridge of Joliet formaat.
In sommige gevallen zal u het bestandssysteem handmatig moeten mounten
alvorens het te gebruiken.

<li><b>NFS:</b>
Sommige platformen ondersteunen het gebruik van NFS mounts voor de
bestandensets.

<li><b>Tape:</b>
Bestandensets kunnen ook vanaf een ondersteunde tape gelezen worden.
Details over het aanmaken van de tape staan in het
<tt>INSTALL.</tt><i>platform</i> document.
</ul>

<a name="Checklist"></a>
<h2>4.2 - Checklist voor de installatie</h2>

<p>
Voor u uw installatie begint, zou u een idee moeten hebben van hetgeen
u achteraf wenst te bekomen.

U zal tenminste de volgende punten willen kennen:
<ul>
<li>Machinenaam
<li>Geïnstalleerde en beschikbare hardware
  <ul>
  <li>Controleer compatibilieit op de hardware compatibility pagina van uw
      platform
  <li>Voor ISA moet u ook hardware instellingen kennen en bevestigen dat ze
      zijn wat OpenBSD vereist.
  </ul>
<li>Installatiemethode die u zal gebruiken (CD-ROM, FTP, enz.)
<li>Indien een belangrijke bug gevonden wordt, hoe zal het systeem dan
    gepatcht worden?
  <ul>
  <li>Als u dit lokaal doet, zal u
      <a href="#Partitioning">voldoende ruimte</a> nodig hebben voor de
      source tree en het builden ervan.
  <li>Anders zal u toegang nodig hebben tot een andere machine om een
      gepatchte <a href="faq5.html#Release">release</a> op te bouwen.
  </ul>
<li>Gewenste schijflayout
  <ul>
  <li>Moeten bestaande gegevens ergens anders bewaard worden?
  <li>Zal OpenBSD op dit systeem samenleven met een ander besturingssysteem?
      Zo ja, hoe zullen beide geboot worden?
      Zal u een "boot manager" moeten installeren?
  <li>Zal de volledige schijf gebruikt worden voor OpenBSD, of wil u een
      bestaande (of plaats voor een toekomstige) partitie/besturingssysteem
      behouden?
  <li>Hoe wenst u het OpenBSD gedeelte van uw schijf te sub-partitioneren?
  </ul>
<li>Netwerkinstellingen, indien u geen DHCP gebruikt:
  <ul>
  <li>Domeinnaam
  <li>Domain Name Server(s) (DNS) adres
  <li>IP adressen en subnet masks voor elke NIC
  <li>Gateway adres
  </ul>
<li>Zal u het X Window Systeem draaien?
</ul>


<a name="MkInsMedia"></a>
<h2>4.3 - Bootable OpenBSD installatiemedia aanmaken</h2>

<p>
Als voorbeelden zullen we de installatie-images bekijken die beschikbaar zijn
voor de <a href="../../i386.html">i386</a>
en <a href="../../sparc.html">sparc</a> platformen.

<p>
Het <a href="../../i386.html">i386</a> platform heeft zes afzonderlijke
installatie schijf-images om uit te kiezen:

<ul>
<li><b><tt>cd46.iso</tt></b> is een ISO9660 image die gebruikt kan worden om
  een bootable CD te maken met de meeste populaire CD-ROM creation
  software op de meeste platforms.
  Deze image heeft de breedste selectie van drivers, en is gewoonlijk de
  aanbevolen keuze als uw hardware vanaf een CD-ROM kan booten.
<li><b><tt>cdemu46.iso</tt></b> is een ISO9660 image, die "floppy emulation"
  booting gebruikt, met een 2.88M floppy image.
  We hopen dat weinig mensen deze image nodig zullen hebben -- de meeste
  mensen zullen <tt>cd46.iso</tt> gebruiken. Gebruik <tt>cdemu46.iso</tt>
  alleen als <tt>cd46.iso</tt> voor u niet werkt.
<li><b><tt>install46.iso</tt></b> is een ISO9660 image die al de standaard
  bestanden bevat.
  Dit bestand kan gebruikt worden om een CD te maken die zelfstandig een
  OpenBSD installatie kan doen.
<li><b><tt>floppy46.fs</tt></b> (Desktop PC) ondersteunt vele
  PCI en ISA NICs, IDE en eenvoudige SCSI adapters en wat PCMCIA
  ondersteuning.  De meeste gebruikers zullen deze image gebruiken
  als ze vanaf een diskette booten.
<li><b><tt>floppyB46.fs</tt></b> (Servers) ondersteunt vele RAID controllers,
  en sommige minder voorkomende SCSI adapters. Ondersteuning voor
  vele standaard SCSI adapters en vele EISA en ISA NICS werd echter
  verwijderd.
<li><b><tt>floppyC46.fs</tt></b> (Laptops) ondersteunt de CardBus en PCMCIA
  apparaten die u in vele laptops terugvindt.
</ul>

<p>
De <a href="../../sparc.html">sparc</a> platformen hebben vier afzonderlijke
installatieschijf images om uit te kiezen:

<ul>
<li><b><tt>floppy46.fs:</tt></b> Ondersteunt systemen met een diskette.
<li><b><tt>cd46.iso</tt></b> Een ISO image bruikbaar om uw eigen CD te maken
  om SPARC systemen te booten met een CD-ROM.
<li><b><tt>miniroot46.fs</tt></b> Kan naar een swap-partitie geschreven
  worden en geboot.
<li><b><tt>install46.iso</tt></b> is een ISO9660 image die al de standaard
  bestanden bevat.
  Dit bestand kan gebruikt worden om een CD te maken die zelfstandig een
  OpenBSD installatie kan doen.
</ul>

U wordt geadviseerd om de CDROM-images te gebruiken, aangezien
bij enkele van de "grotere" platformen (zoals amd64, sparc64) er
veel drivers en utilities uit de floppy-images gesneden zijn,
wat de installatie moeilijker kan maken.
Oudere platformen, zoals i386 en sparc, zijn nog steeds heel goed
te installeren vanaf floppy.

<a name="MkCD-ROM"></a>
<h3>4.3.1 - Een CD-ROM maken</h3>

<p>
U kunt een CD-ROM aanmaken met de <tt>cd46.iso</tt> of
<tt>install46.iso</tt> bestanden.
Het wordt aan de lezer overgelaten om de precieze details te bepalen
met de tools die hij/zij ter beschikking heeft.

<p>
In OpenBSD kunt u een CD van een ISO-image maken met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a>:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>cdio tao cd46.iso</b>
</pre></td></tr></table>

<p>
De meeste CD-recorders die worden verkocht voor Windows en Macintosh
systemen worden geleverd met software waarmee u ISO-images op lege
media kunt branden.
Als die van u dat niet doet, dan zijn er diverse gratis applicaties
die het voor u kunnen doen.

<p>
Andere Unix-achtige systemen gebruiken applicaties als
<a href="http://www.cdrkit.org/">cdrkit</a>.


<a name="MkFlop"></a>
<a name="UnixFlop"></a>
<h3>4.3.2 - Diskettes maken onder Unix</h3>

<p>
De exacte details en device-namen kunnen variëren van Unix-variant tot
Unix-variant; gebruik wat bij uw systeem past.

<p>
Om een geformatteerde floppy te maken, gebruikt u het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&amp;sektion=1&amp;arch=i386">fdformat(1)</a>
commando om zowel te formatteren als te controleren op slechte sectoren.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>fdformat /dev/rfd0c</b>
  Format 1440K floppy `/dev/rfd0c'? (y/n): y
  Processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
</pre></td></tr></table>

<p>
Als uw uitvoer is zoals in het bovenstaande voorbeeld, dan is de schijf OK.
Als u echter niet ALLEMAAL "V"'s ziet, dan is de schijf heel waarschijnlijk
slecht, en probeert u best een nieuwe.

<p>
Om een image-bestand naar de disk te schruiven, gebruikt u
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">dd(1)</a>.
Een voorbeeldgebruik van <tt>dd(1)</tt> staat hieronder:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>dd if=floppy46.fs of=/dev/rfd0c bs=32k</b>
</pre></td></tr></table>

<p>
Zodra de image geschreven is, controleer dan om zeker te zijn dat de
gekopieerde image dezelfde is als de originele met het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp&amp;sektion=1">cmp(1)</a>
commando.
Als de diskette identiek is aan de image, zult u gewoon nog een prompt zien.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>cmp /dev/rfd0c floppy46.fs</b>
</pre></td></tr></table>

<a name="DosFlop"></a>
<h3>4.3.3 - Diskettes maken onder Windows</h3>

<p>
Om een diskette klaar te maken in Windows, gebruikt u eerst
de voorziene formatteringstools om de schijf te formatteren om te
verifiëren dat de schijf geen slechte sectoren heeft.

<p>
Om de installatie-image naar de klaargemaakte diskette te schrijven kunt u
<tt>ntrw.exe</tt> gebruiken, dat gedownload kan worden uit de
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.6/tools/">tools</a>
directory op iedere FTP-mirror.


<p>
Voorbeeldgebruik van <i>ntrw</i>:
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>ntrw floppy46.fs a:</strong>
  3.5", 1.44MB, 512 bytes/sector
  bufsize is 9216
  1474560 bytes written
</pre></td></tr></table>


<a name="Boot"></a>
<h2>4.4 - OpenBSD installatiemedia booten</h2>

<h3>i386/amd64 booten</h3>

Een installatie-medium booten op de i386 en amd64 PC platformen is voor de
meeste mensen niets nieuws.
Uw systeem zal geïnstrueerd moeten worden om te booten van het medium dat
u heeft gekozen, meestal via een instelling in het BIOS.
Als u wilt booten van CD, dan moet uw systeem dat ondersteunen en ingesteld
worden om van CD te booten.
Sommige oudere systemen hebben deze optie niet, en dan moet u een diskette
gebruiken om uw installatie-image te booten.
Maak u echter geen zorgen; zelfs als u boot vanaf een diskette, kunt u nog
steeds vanaf CD installeren als deze door OpenBSD wordt ondersteund (dus
vrijwel alle IDE spelers).

<p>
U kunt ook installeren door <a href="#bsd.rd">bsd.rd</a> te booten vanaf een
bestaande OpenBSD partitie, of over het netwerk met het
<a href="faq6.html#PXE">PXE boot proces</a>.

<h3>sparc/sparc64 booten</h3>

<b>NOTE:</b>
Op het <a href="../../sparc64.html">sparc64</a> platform zijn alleen de SBus
machines (Ultra 1, Ultra 2) bootable vanaf diskette.

<p>
Het systeem moet op een monitor ROM prompt staan, dat er gewoonlijk uitziet
als "<tt>ok </tt>".
Als u een Sun-toetsenbord gebruikt, houdt dan "STOP" ingedrukt terwijl
u op "A" drukt.
Als u een seriële console gebruikt, dan zou een BREAK u moeten laten
terugkeren naar de monitor prompt.

<p>
Gebruik het volgende commando om te booten vanaf de diskette:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot floppy</b>
</pre></td></tr></table>

<p>
U kunt meestal van de CDROM speler van een Sun systeem booten door op de
boot prompt '<tt>boot cdrom</tt>' te typen:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot cdrom</b>
</pre></td></tr></table>

<a name="Install"></a>
<h2>4.5 - Een eenvoudige installatie uitvoeren</h2>
 
Het nieuwe installatieprogramma van OpenBSD is ontworpen om OpenBSD te
installeren en te configureren in een zeer bruikbare standaard configuratie
met zeer beperkte tussenkomst van de gebruiker.
Feitelijk kunt u vaak gewoon enkele keren op <i>ENTER</i> drukken om een
goede OpenBSD-installatie te krijgen, waarbij u alleen uw handen naar het
overige deel van het toetsenbord hoeft te verplaatsen om het root-wachtwoord
in te typen.

<p>
Het installatieprogramma maakt een partitie-layout aan, gebaseerd op de
grootte van uw harde schijf.
Alhoewel dit NIET de perfecte layout voor iedereen zal zijn, is het een
goed startpunt en een goede overkoepelende strategie om uit te vinden
wat u nodig heeft.

<p>
We zullen beginnen met een erg eenvoudige installatie, met een korte
discussie van de gegeven opties, en met behulp de magie van hypertext links,
u de mogelijkheid geven om meer te lezen over de onderwerpen die u interesseren
en uw opties laat verkennen.
 
<p>
De installatienotites voor ieder platform staan op de installatie-CD's en
FTP-servers, in het bestand <tt>INSTALL.<i>&lt;plat&gt;</i></tt>, waarbij
+<i>&lt;plat&gt;</i> uw <a href="../../nl/plat.html">platform</a> is,
bijvoorbeeld, <tt>i386</tt>.


<a name="InstStart"></a>
<h3>4.5.1 - De installatie beginnen</h3>
<!-- XXXrelease -->
Wat u ook gebruikt als middel om te booten, nu is het tijd om het te gebruiken.
Tijdens het bootproces worden de kernel en al de programma's, gebruikt om
OpenBSD te installeren, in het geheugen geladen.
Als de installatiekernel is opgestart, is het bootmedium niet langer nodig,
alles draait vanaf de RAM-disk.
Op dit moment kunt u de CD of floppy waarvan geboot is zelfs verwijderen,
ervanuitgaande dat u de CD niet nodig heeft voor de installatiebestanden.

<p>
Op bijna gelijk welk ogenblik tijdens het OpenBSD installatieproces kunt u
de huidige installatiepoging beëindigen door CTRL-C te drukken en
een nieuwe poging beginnen zonder te herstarten door <tt>install</tt> te
starten op de shell prompt.
U kunt ook een "!" ingeven op de meeste plaatsen tijdens de installatie om
een shell-prompt te krijgen, en verlaat vervolgens de shell om terug te keren
naar het installatieprogramma.

<p>
Wanneer uw boot geslaagd is, zal u veel tekstboodschappen zien voorbij
rollen. Deze tekst, op vele architecturen in witte letters op blauwe
achtergrond, is de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg</a>, 
de kernel die u zegt welke devices gevonden werden en hoe ze zijn aangehaakt
aan andere devices.
Een kopie van deze tekst wordt bewaard in <tt>/var/run/dmesg.boot</tt>.

<p>
Nadien zal u het volgende zien:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  root on rd0a swap on rd0b dump on rd0b
  erase ^?, werase ^W, kill ^U, intr ^C, status ^T
  Welcome to the OpenBSD/i386 4.6 installation program.
  (I)nstall, (U)pgrade or (S)hell? <b>i</b>
</pre></td></tr></table>

<p>
En daarmee bereiken we onze eerste vraag.  U heeft de drie getoonde
opties:

<ul>
<li><b>Install:</b> zet OpenBSD op het systeem, daarmee overschrijvend wat
er ook op stond.  Merk op dat het mogelijk is om een aantal partities
onaangeroerd te laten bij dit proces, zoals een <tt>/home</tt>, maar ga er
verder vanuit dat alles overschreven wordt.
<li><b>Upgrade:</b> Installeer een nieuwe set van
<a href="#FilesNeeded">installatiebestanden</a> op deze machine, maar
overschrijf geen configuratie-informatie, gebruikersgegevens, of bijkomende
programma's.  Er gebeurt geen schijfformattering, noch worden de
<tt>/etc</tt> of <tt>/var</tt> directories overschreven.
Enkele belangrijke opmerkingen:
<ul>
<li> U zal niet de keuze krijgen om het
<tt>etc46.tgz</tt> bestand te installeren.
Na de installatie zal u 
<a href="../upgrade46.html#etcUpdates">handmatig</a> de veranderingen van
<tt>etc46.tgz</tt> in uw systeem moeten samensmelten alvorens u kunt
verwachten dat het volledig functioneel is.
Dit is een belangrijke stap die uitgevoerd moet worden, omdat anders enkele
voorname diensten (zoals
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>)
misschien niet zullen starten.

<li>Het Upgrade proces is niet ontworpen om releases over te slaan!
Hoewel dit vaak zal werken, wordt het niet ondersteund.
Voor OpenBSD 4.6 is het upgraden van 4.5 naar 4.6 de enige ondersteunde
upgrade.
Als u moet upgraden vanaf een oudere versie, upgrade dan eerst naar
tussenliggende versies, of als het systeem heel verouderd is, overweeg dan
een volledige herinstallatie.

</ul>
<!-- XXXversion -->
Meer informatie over upgraden tussen releases kunt u in de
<a href="../upgrade46.html">OpenBSD Upgrade Gids 4.6</a> terugvinden.

<li><b>Shell:</b> Soms moet u reparaties of onderhoud uitvoeren op een systeem
dat niet wil (of niet mag) booten naar een normale kernel.
Deze optie laat u toe om onderhoud aan het systeem te doen.
Er zijn enkele belangrijke utilities beschikbaar op de bootmedia.
</ul>

We nemen aan dat u heeft gekozen voor "(I)nstall".

<a name="InstQuestions"></a>
<h3>4.5.2 - De Installatievragen</h3>

Nu gaan we de vragen krijgen die bepalen hoe ons systeem wordt ingesteld.
U zult merken dat in de meeste gevallen, alle vragen in het begin worden
gesteld, waarna de installatie plaatsvindt.
Als u een langzame computer of een langzame Internetverbinding heeft,
bent u in de gelegenheid om alle vragen te beantwoorden, weg te lopen,
later terug te komen en het systeem alleen maar te hoeven herstarten om de
installatie af te ronden.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  At any prompt except password prompts you can escape to a shell by
  typing '!'. Default answers are shown in []'s and are selected by
  pressing RETURN.  You can exit this program at any time by pressing
  Control-C, but this can leave your system in an inconsistent state.

  Terminal type: [vt220] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
In de meeste gevallen is het standaard terminal type geschikt; als u echter
een <a href="faq7.html#SerCon">seriële console</a> gebruikt voor de
installatie, kies dan niet zomaar de standaardwaarde, maar antwoord
gepast.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  System hostname? (short form, e.g. 'foo') <i><b>puffy</b></i>
</pre></td></tr></table>

<p>
Deze waarde zal, samen met de DNS domeinnaam
(<a href="#MoreNetwork"> hieronder</a> gespecificeerd), bewaard worden in
het bestand <tt>/etc/myname</tt>, dat tijdens een normale boot gebruikt
wordt om de hostname van het systeem in te stellen.
Als u de domeinnaam van het systeem niet instelt, zal de standaardwaarde
'my.domain' gebruikt worden. 

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available network interfaces are: fxp0 vlan0.
  Which one do you wish to configure? (or 'done') [fxp0] <i><b>Enter</b></i>
</pre></td></tr></table>

<p>
<tt>vlan0</tt> is de VLAN virtuele interface.
In ons geval negeren we deze optie en blijven we bij de fysieke interfaces.
Indien u meerdere fysieke interfaces hebt, zullen ze hier getoond worden.
Merk op dat ze worden geïdentificeerd door de driver-naam, niet als generieke
Ethernet devices.
In dit geval verwijst "<tt>fxp0</tt>" naar het eerste device dat de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&amp;sektion=4">fxp(4)</a>
driver gebruikt, <tt>fxp1</tt> zou het tweede device zijn, enz.
Meer over het benoemen van devices vindt u in <a href="faq6.html#Setup.if">
FAQ 6</a>.

<p>
Na het kiezen van het device dat u wilt configureren, zult u het nu gaan
configureren.
In veel gevallen zult u het met DHCP willen configureren:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  IPv4 address for fxp0? (or 'dhcp' or 'none') [dhcp] <b><i>Enter</i></b>
  Issuing hostname-associated DHCP request for fxp0.
  DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
  DHCPOFFER from 192.168.1.250 (08:00:20:94:0b:c8)
  DHCPREQUEST on fxp0 to 255.255.255.255 port 67
  DHCPACK from 192.168.1.250 (08:00:20:94:0b:c8)
  bound to 192.168.1.199 -- renewal in 43200 seconds.
</pre></td></tr></table>

<p>
DHCP zal nu het IP adres, subnet mask, default gateway, DNS domeinnaam
en DNS servers configureren.
Als u geen DHCP gebruikt zult u al deze dingen handmatig moeten opgeven;
zie de gedetaileerde discussie
<a href="#MoreNetwork">hieronder</a>.
<a name="backMoreNetwork"></a>

<p>
Als u enige IPv6 configuratie moet doen od als er andere interfaces zijn om
te configureren (als als het u niet bevalt hoe u de vorige heeft
geconfigureerd), dan kunt u dit nu doen, maar in ons geval zijn we klaar:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  IPv6 address for fxp0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
  Available network interfaces are: fxp0 vlan0.
  Which one do you wish to configure? (or 'done') [done] <b><i>Enter</i></b>

  Using DNS domainname in.nickh.org
  Using DNS nameservers at 192.168.1.252
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Als u "yes" antwoord op de "manual network configuration"-vraag, dan 
krijgt u een shell prompt, waar u alles kunt configureren dat nodig is,
type vervolgens "exit" om terug te keren naar het installatie-programma.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Password for root account? (will not echo) <i>PaSsWoRd</i>
  Password for root account? (again) <i>PaSsWoRd</i>
</pre></td></tr></table>

<p>
Gebruik een veilig wachtwoord voor het root-account, denk eraan: op Internet
IS men erop uit om uw computer binnen te dringen, ze zullen bergen
veelvoorkomende wachtwoorden uitproberen waarvan men vindt dat ze slim bedacht
zijn.

<p>
Verderop krijgt u de gelegenheid om een beheer-account aan te maken en
SSH-toegang vanaf buiten naar het root-account uit te schakelen, maar u
wilt nog steeds een good wachtwoord op uw root-account.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Start sshd(8) by default? [yes] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Meestal zult u sshd(8) willen hebben draaien, maar een enkele keer misschien
niet.  Als u voor uw toepassing geen sshd(8) nodig heeft, dan is er een
klein theoretisch veiligheidsvoordeel om het niet te laten draaien.

<p>

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Start ntpd(8) by default? [no] <b>y</b>
  NTP server? (hostname or 'default') [default] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
U krijgt hier de keuze om
<a href="faq6.html#OpenNTPD">OpenNTPD</a> te draaien, OpenBSD's NTP
implementatie.
OpenNTPD is een manier om de klok van uw computer met weinig impact
accuraat te synchroniseren.
De standaard configuratie, met
<a href="http://www.pool.ntp.org">pool.ntp.org</a>, gebruikt een groot aantal
vrij toegankelijke tijdservers versprijd over de hele wereld.


<p>
Een reden om GEEN ntpd(8) te draaien kan zijn als een dual-boot systeem heeft
waarvan het andere OS geen hardware klok gebruikt die op GMT staat, omdat u
niet wilt dat OpenBSD de tijd van het andere systeem aanpast.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you expect to run the X Window System? [yes] <b><i>Enter</i></b>
  Do you want the X Window System to be started by xdm(1)? [no] <b>y</b>
</pre></td></tr></table>

<p>
Niet op alle platforms wordt u gevraagd of u verwacht X te zullen draaien,
degene die het doen vereisen een sysctl om X te kunnen gebruiken.
Door "y" te antwoorden wordt <tt>/etc/sysctl.conf</tt> aangepast door de regel
<tt>machdep.allowaperture=1</tt> of <tt>machdep.allowaperture=2</tt> erin op
te nemen, afhankelijk van uw platform.

<p>
Als u niet van plan bent om X te draaien op dit systeem if als u er niet zeker
van bent, antwoord dan 'N', aangezien u het eenvoudig kunt wijzigen door
<tt>/etc/sysctl.conf</tt> aan te passen en te rebooten, mocht het later nodig
zijn.
Er is een potentieel veiliheidsvoordeel om de aperture-driver
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86&amp;sektion=4">xf86(4)</a>
uitgeschakeld te laten, omdat het grafische hart van een moderne videokaart
potentieel gebruikt kan worden om het geheugen aan te passen buiten de
processor om.
Merk op dat niet-grafische applicaites die X-libraries en hulpprogramma's
nodig hebben om te draaien, deze sysctl niet nodig hebben.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Change the default console to com0? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

Indien u een seriële console wenst in te stellen in plaats van de standaard
van uw systeem (meestal een toetsenbord en monitor), dan is dit uw kans.
Als u de standaard wijzigt in "y", dan wordt u gevvraagd om de bit-rate
in te stellen.
Merk op dat voor seriële consoles sneller niet altijd beter is, het wordt
sterk aangeraden om de standaard waarde voor uw platform te kiezen.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Setup a user? (enter a lower-case loginname, or 'no') [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
U wordt de mogelijkheid gegeven om een gebruiker ANDERS dan root voor
systeemonderhoud.
Deze gebruiker zal lid zijn van de "wheel" groep zodat hij
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a>
kan draaien en om een wachtwoord gevraagd zal worden.

<p>
Let op dat u een username moet invullen en niet "y" als u een gebruiker wilt
aanmaken.


<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>US/Michigan</b>
</pre></td></tr></table>

<p>
OpenBSD neemt aan dat de real-time clock (RTC) van de computer is ingesteld
op GMT, maar u moet ook opgeven in welke tijdzone u zit.
Er kunnen meerdere geldige antwoorden zijn voor uw fysieke locatie.
Door op "?" te drukken op de prompt wordt u geholpen om een geldige naam
van de tijdzone te vinden.

<p>
Merk op dat het installatieprogramma meestal de goede tijdzone gokt, u
kunt dan gewoon op "Enter" drukken.

<p>
U vindt <a href="#MoreTimeZone">hier</a> meer over het instellen van de
tijdzone.
<a name="backMoreTimeZone"></a>

<a name="InstDisks"></a>
<h3>4.5.3 - Schijven instellen</h3>

<i><b>Belangrijke Opmerking:</b>
Gebruikers met een grote harde schijf (groter dan algemeen beschikbaar was
op het moment dat uw computer werd gemaakt) zullen
<a href="faq14.html#LargeDrive">deze paragraaf</a> willen lezen voordat
ze verder gaan.</i>

<p>
Het juist indelen van uw schijf is waarschijnlijk het moeilijkste deel
van een OpenBSD-installatie.

<p>
Het instellen van schijven in OpenBSD varieert enigszins tussen de platformen.
Voor <a href="../../i386.html">i386</a>, <a href="../../amd64.html">amd64</a>,
<a href="../../macppc.html">macppc</a>, <a href="../../zaurus.html">zaurus</a>
en <a href="../../armish.html">armish</a>,
wordt het gedaan in twee stappen.
Allereerst wordt het OpenBSD-deel van de harde schijf gedefinieerd met
fdisk(8), vervolgens wordt dit deel onderverdeeld in OpenBSD-partities met
disklabel(8).

<p>
Sommige gebruikers raken misschien wat verward door de gehanteerde
terminologie.  Het lijkt erop dat we het woord "partitie" op twee
verschillende manieren gebruiken.  Deze observtie is correct.
Er zijn twee niveau's van partitioneren in bovenstaande OpenBSD-platformen,
de eerste, die je zou kunnen beschouwen als besturingssysteem-partities, die
bepaalt hoe meerdere besturingssystemen hun ruimte op de harde schijf
afbakenen, en het tweede die de OpenBSD-partitie onderverdeelt in
individuele bestandssystemen.
De eerste laag is zichtbaar als een schijf-partitie in DOS, Windows en ieder
ander besturingssysteem dat deze disk-layout gebruikt, de tweede laag is
alleen zichtbaar voor OpenBSD en die besturingssystemen die direct een
OpenBSD-bestandssysteem kunnen lezen.

<p>
Het nieuwe installatieprogramma van OpenBSD probeert het indelen van uw
schijf te vereenvoudigen met een zinnige standaardindeling voor "algemeen"
gebruik.
Merk op dat velen deze standaard zullen willen aanpassen of hun eigen layout
willen gebruiken, maar nieuwe gebruikers kunnen waarschijnlijk het beste
starten met deze configuratie totdat ze zien wat ze anders willen doen.
Merk op dat de standaard layout wijzigt al naar gelang de grootte van uw
harde schijf.

<p>
Vooralsnog zullen we the standaardwaarden nemen voor onze 40G schijf.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available disks are: wd0.
  Which one is the root disk? (or 'done') [wd0]
  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 06      0   1   1 -    521 254  63 [          63:     8385867 ] DOS > 32MB
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  Use (W)hole disk or (E)dit the MBR? [whole] <i><b>Enter</b></i>

  Setting OpenBSD MBR partition to whole wd0...done.
</pre></td></tr></table>
Merk op dat deze schijf een bestaande partitie heeft -- <i> het kiezen van
"whole disk" zal deze verwijderen!</i>.

<p>
Het instellen van de hele ("whole") schijf voor OpenBSD zorgt voor een aantal
belangrijke dingen:
<ul>
<li>Het verwijdert bestaande partities van de schijf
<li>Het creÃ«ert een MBR en "disk signature" op de schijf zodat deze kan booten
<li>Het creÃ«ert een OpenBSD-partitie die de hele schijf beslaat
<li>Het zet deze partitie op "actief"
</ul>

Er zijn vele momenten waarop u dat niet wilt, zoals:
<ul>

<li>U wilt partities van andere besturingssystemen behouden
<li>U wilt "setup", "suspend to disk", of andere systeempartities behouden
<li>U wilt een <a href="#Multibooting">multi-boot</a> systeem bouwen
</ul>

Merk op dat het cruciaal is dat nieuw (of nooit voor booten gebruikte)
schijven een geldige MBR, een geldige signature, een OpenBSD-portitie en
een als "actief" gevlagde partitie hebben.
Als u deze dingen niet doet door middel van de "Use whole disk"-optie,
dan zult u er handmatig voor moeten zorgen dat het wordt gedaan.

<p>
Meer informatie over het partitioneren van uw schijf met fdisk vindt u
<a href="#Morefdisk">hieronder</a>.
<a name="BackMorefdisk"></a>

<p>
Nu zullen we onze OpenBSD fdisk-partitie opdelen in OpenBSD schijf-partities
met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>:


<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Setting OpenBSD MBR partition to whole wd0...done.
  The auto-allocated layout for wd0 is:
  #                size           offset  fstype [fsize bsize  cpg]
    a:          1024.0M               63  4.2BSD   2048 16384    1 # /
    b:           127.2M          2097215    swap
    c:         39205.7M                0  unused
    d:          2729.1M          2357679  4.2BSD   2048 16384    1 # /tmp
    e:          4223.2M          7946823  4.2BSD   2048 16384    1 # /var
    f:          1252.3M         16595895  4.2BSD   2048 16384    1 # /usr
    g:          1024.0M         19160541  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          3678.7M         21257693  4.2BSD   2048 16384    1 # /usr/local
    i:          2002.4M         28791612  4.2BSD   2048 16384    1 # /usr/src
    j:          2002.4M         32892533  4.2BSD   2048 16384    1 # /usr/obj
    k:         21142.3M         36993454  4.2BSD   2048 16384    1 # /home
  Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Het installatieprogramma presenteert ons zijn voorstel van de "Auto layout"
van de OpenBSD partities op onze schijf, dat we zullen accepteren.

<p>
Als de voorgestelde layout niet geschikt is voor onze behoefte, kunt u
uiteraard de standaard layout bewerken of deze geheel aanpassen.
Meer details over het partitioneren met disklabel vindt u
<a href="#Moredisklabel">hieronder</a>.
<a name="BackMoredisklabel"></a>

<p>

<b>OPMERKING voor herinstalleerders:</b>
Het nieuwe installatieprogramma zal uw oude disklabel niet wissen als u
kiest voor "(C)ustom Layout", maar u zult ieder mount-punt opnieuw moeten
specificeren met de 'm'-optie in disklabel(8).

<p>
Het installatieprogramma maakt de partities nu aan en creÃ«ert er
bestandssystemen op met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&amp;sektion=8">newfs(8)</a>,
en mount ze voor de installatie:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  /dev/rwd0a: 1024.0MB in 2097152 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0k: 21142.3MB in 43299416 sectors of 512 bytes
  105 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0d: 2729.1MB in 5589144 sectors of 512 bytes
  14 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0f: 1252.3MB in 2564644 sectors of 512 bytes
  7 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0g: 1024.0MB in 2097152 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0h: 3678.7MB in 7533916 sectors of 512 bytes
  19 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0j: 2002.4MB in 4100920 sectors of 512 bytes
  10 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0i: 2002.4MB in 4100920 sectors of 512 bytes
  10 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0e: 4223.2MB in 8649072 sectors of 512 bytes
  21 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local)
  /dev/wd0k on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0f on /mnt/usr type ffs (rw, asynchronous, local, nodev)
  /dev/wd0g on /mnt/usr/X11R6 type ffs (rw, asynchronous, local, nodev)
  /dev/wd0h on /mnt/usr/local type ffs (rw, asynchronous, local, nodev)
  /dev/wd0j on /mnt/usr/obj type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0i on /mnt/usr/src type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid)
</pre></td></tr></table>

<p>
U zult bemerken dat er een <i>c</i>-partitie is dat lijkt te zijn genegeerd.
Deze partitie is uw hele harde schijf; probeer dit niet te veranderen.


<a name="InstMedia"></a>
<h3>4.5.4 - Kiezen van installatiemedia en bestandensets</h3>

Vervolgens krijgt u de gelegenheid om de installatiemedia te kiezen.
In dit geval zullen we installeren vanaf een FTP-server.
<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Location of sets? (cd disk ftp http or 'done') [ftp] <b><i>Enter</i></b>
  HTTP/FTP proxy URL? (e.g. 'http://proxy:8080', or 'none') [none] <b><i>Enter</i></b>
  Server? (hostname, list#, 'done' or '?') [mirror.example.org] <b>obsd.cec.mtu.edu</b>

</pre></td></tr></table>
Als u uw favoriete (of geen enkele!) mirror niet kunt herinneren, dan zal
het installatieprogramma vaak met een standaard of een geschikte mirror
op de proppen kunnen komen.
Druk anders op "?" om een lijst van mirrors te laten zien en kies het
nummer van een mirror die goed voor u werkt.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Server directory? [pub/OpenBSD/4.6/i386] <b><i>Enter</i></b>
  Login? [anonymous] <b><i>Enter</i></b>
</pre></td></tr></table>

De publieke FTP-mirrors ondersteunen uiteraard allemaal anonymous downloads,
maar wellicht heeft u een lokale machine die een login en wachtwoord vereist.

<p>
U kunt nu de lijst met <a href="#Filesets">file sets</a> aanpassen.


<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Select sets by entering a set name, a file name pattern or 'all'. De-select
  sets by prepending a '-' to the set name, file name pattern or 'all'. Selected
  sets are labelled '[X]'.
      [X] bsd           [X] etc46.tgz     [X] game46.tgz    [X] xfont46.tgz
      [X] bsd.rd        [X] misc46.tgz    [X] xbase46.tgz   [X] xserv46.tgz
      [ ] bsd.mp        [X] comp46.tgz    [X] xetc46.tgz
      [X] base46.tgz    [X] man46.tgz     [X] xshare46.tgz
  Set name(s)? (or 'abort' or 'done') [done] <b><i>Enter</i></b>
</pre></td></tr></table>


<p>
Als absoluut minimum heeft u een kernel (<tt>bsd</tt>) en de
base46.tgz en etc46.tgz bestandensets nodig.
Houdt u zich aan de standaard sets, tenzij u weet wat u doet.
U kunt bestandensets toevoegen en verwijderen door "+" en "-" tekens voor
de naam van de bestandenset te zetten en ook wildcards kunt u gebruiken:
<ul>
<li><tt><b>-comp46.tgz</b></tt> verwijdert <tt>comp46.tgz</tt>
<li><tt><b>+bsd.mp</b></tt> voegt bsd.mp toe
<li><tt><b>-x*</b></tt> verwijdert alle X componenten
</ul>

Maar we nemen wederom de standaardinstelling.
Deze machine heeft een enkele processor, dus bsd.mp wordt niet geÃ¯nstalleerd,
maar alle andere sets wel.
Als de machine later kan worden geÃ¼pgrade naar een mulit-processor systeem,
dan zou u bsd.mp wel kunnen installeren.

<p>
En nu starten we met onze installatie!
Dit is het moment waarop u wellicht later kunt terugkomen als u een langzame
computer of Internetverbinding heeft, maar met een snelle computer en lokale
bestanden duurt dit proces slechts enkele minuten of minder!

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  bsd          100% |*************************************|  7063 KB    00:04
  bsd.rd       100% |*************************************|  5913 KB    00:03
  base46.tgz   100% |*************************************| 47315 KB    01:46
  etc46.tgz    100% |*************************************|   503 KB    00:01
  misc46.tgz   100% |*************************************|  2867 KB    00:06
  comp46.tgz   100% |*************************************| 88555 KB    03:08
  man46.tgz    100% |*************************************|  8047 KB    00:21
  game46.tgz   100% |*************************************|  2558 KB    00:04
  xbase46.tgz  100% |*************************************| 10160 KB    00:21
  xetc46.tgz   100% |*************************************| 69166       00:00
  xshare46.tgz 100% |*************************************|  2861 KB    00:12
  xfont46.tgz  100% |*************************************| 34745 KB    00:57
  xserv46.tgz  100% |*************************************| 19789 KB    00:39
  Location of sets? (cd disk ftp http or 'done') [done] <b><i>Enter</i></b>

</pre></td></tr></table>

<p>
Ja, we worden weer gevraagd vanaf waar we dingen willen installeren.
Dit is zo om ontbrekende, vergeten of mislukte bestandensets opnieuw
te kunnen installeren en ook om <a href="#site">aangepaste bestandensets</a>
te kunnen installeren.

<p>
We nemen opnieuw de standaard, we zijn klaar met bestanden installeren.

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Saving configuration files...done.
  Generating initial host.random file...done.
  Making all device nodes...done.

  CONGRATULATIONS! Your OpenBSD install has been successfully completed!
  To boot the new system, enter 'reboot' at the command prompt.
  When you login to your new system the first time, please read your mail
  using the 'mail' command.

  #
</pre></td></tr></table>

<a name="Inst1stBoot"></a>
<h3>4.5.5 - Eerste boot!</h3>

OpenBSD is nu geïnstalleerd op uw systeem klaar voor zijn eerste boot,
maar voor u dat doet...

<p>

<h4>Alvorens u herstart</h4>
Op dit ogenblik is uw systeem geïnstalleerd en klaar om herstart te worden
en geconfigureerd te worden voor dienst. Alvorens dit te doen, zou het echter
verstandig zijn om de <a href="../../errata.html">Errata pagina</a> na te kijken
om te zien of er bugs zijn die u meteen zouden treffen.

<p>
Een truc die u kunt gebruiken voor wat "vóór de eerste start" configuratie,
is dit uitvoeren:
<pre>
    # <b>/mnt/usr/sbin/chroot /mnt</b>
</pre>
op de shell-prompt.
Dit zal uw mount points instellen op wat ze zullen zijn bij een normale
herstart van uw nieuw geïnstalleerd systeem.
U kunt nu wat basis-systeemconfiguratie doen, zoals gebruikers toevoegen,
mount points veranderen, enz.

<h4>Nadat u herstart</h4>

Bij uw eerste boot zullen <a href="http://www.openssh.com">SSH</a>-keys
worden gegenereerd.
Op moderne computers duurt dit enkele seconden, u merkt misschien niet
eens dat het gebeurt.
Op oudere systemen duurt dit vele minuten, misschien zelfs een uur of
meer voor echt langzame systemen.

<p>
Eén van de eerste dingen om te lezen nadat u uw systeem installeert, is
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a>.

<p>
U zou de volgende links ook nuttig kunnen vinden:
<ul>
<li><a href="faq10.html#AddDelUser">Gebruikers toevoegen in OpenBSD</a> 
<li><a href="faq6.html#Setup">Initiële Netwerkinstelling</a>
<li><a href="faq2.html#ManPages">Man Pagina's van populaire/nuttige commando's</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi">OpenBSD man pagina's op
  het Web</a>
<li><a href="faq15.html">Het OpenBSD Packages en Ports systeem om
  software te installeren</a>
</ul>

<a name="InstFinish"></a>
<h3>4.5.6 - Nog één laatste ding...</h3>

De OpenBSD ontwikkelaars vragen u om
<a href="#SendDmesg">een kopie van uw dmesg op te sturen</a>. Dit wordt echt
gewaardeerd door de ontwikkelaars, en uiteindelijk, door alle gebruikers.


<a name="More"></a>
<h2>4.6 - Details voor een complexere installatie</h2>
Soms kunt u niet simpelweg de standaardwaarden nemen.
Hier zijn enkele details over delen van het installatieproces.

<a name="MoreNetwork"></a>
<h3>4.6.1 - Het netwerk instellen</h3>

Als u geen DHCP-server beschikbaar heeft, zult u uw netwerkadapter(s)
handmatig moeten instellen.
Hier is een voorbeeld:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Which one do you wish to configure? (or 'done') [xl0] <b><i>Enter</i></b>
  IPv4 address for xl0? (or 'dhcp' or 'none') [dhcp] <b>192.168.1.37</b>
  Netmask? [255.255.255.0] 255.255.254.0
  IPv6 address for xl0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Na deze set vragen krijgt u de kans om iedere andere netwerkadapter in uw
machine te configureren.
Als u hier een andere netwerkadapter opgeeft, herhalen bovenstaande vragen
zich.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available network interfaces are: xl0 vlan0.
  Which one do you wish to configure? (or 'done') [done]
</pre></td></tr></table>

<p>
Nu zult u de default gateway en DNS-servers isntellen, zaken die
impact hebben op alle netwerkadapters:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Default IPv4 route? (IPv4 address, 'dhcp' or 'none') <b>192.168.1.1</b>
  add net default: gateway 192.168.1.1
  DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.org</b>
  DNS nameservers? (IP address list or 'none') [none] <b>192.168.1.250 192.168.1.251</b>
</pre></td></tr></table>

<p>
Merk op dat meerdere DNS-servers opgegeven kunnen worden, gescheiden
door spaties.

<p>
Soms zult u meer moeten doen, zoals het instellen van een sleutel voor
draadloos netwerk of vast instellen van een duplex of snelheid (doet dit
niet tenzij het absoluut MOET, het repareren van uw switch-instelling
is een veel beter idee!).
U krijgt nu de kans om naar de shell te gaan en iedere handmatige configuratie
die u wilt uit te voeren.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you want to do any manual network configuration? [no] <b>y</b>
  Type 'exit' to return to install.
  # <b>ifconfig xl0 media</b>
  xl0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
          lladdr 00:08:74:2c:df:9c
          groups: egress
          media: Ethernet autoselect (100baseTX full-duplex)
          status: active
          supported media:
                  media 10baseT
                  media 10baseT mediaopt full-duplex
                  media 100baseTX
                  media 100baseTX mediaopt full-duplex
                  media autoselect
          inet 192.168.1.37 netmask 0xfffffe00 broadcast 192.168.1.255
  # <b>ifconfig xl0 media 100baseTX mediaopt full-duplex</b>
  # <b>ifconfig xl0</b>
  xl0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
          lladdr 00:08:74:2c:df:9c
          groups: egress
          media: Ethernet 100baseTX full-duplex
          status: active
          inet6 fe80::208:74ff:fe2c:df9c%xl0 prefixlen 64 scopeid 0x1
          inet 192.168.1.37 netmask 0xfffffe00 broadcast 192.168.1.255
  # <b>exit</b>
<i>...setup resumes...</i>
</pre></td></tr></table>

<p>
<a href="#backMoreNetwork">(Terug naar waar u misschien was)</a>

<a name="MoreTimeZone"></a>
<h3>4.6.2 - De tijdzone instellen</h3>
Tijd op Unix is niet eenvoudig (of anders gezegd: tijd op Unig is <i>zeer</i>
eenvoudig, maar menselijke tijd een een politiek gemanipuleerde bende).
Tijdzone-bestanden helpen het systeem om Unix-tijd (het aantal seconden
sinds middernacht GMT, 1 jan 1970) te converteren naar menselijke tijd,
rekening houdend met tijdzones, zomertijd (DST), wijzigingen in de regels
van de zomertijd, etc.
Dit omvat ook de historie van de wijzigingen.

<p>
Meerdere tijdzone-definitiebestanden geven soms dezelfde tijd op het
<i>huidige moment</i>, maar ze kunnen een verschillende historie hebben.
EST5EDT en US/Michigan hebben NU bijvoorbeeld dezelfde tij, maar in 1975
waren de regels anders, dus als u berekeningen met data en tijden doet
die 1975 betreffen, dan maakt het verschil u wel wat uit.
U zou de meest specifieke en accurate tijdzone moeten kiezen die u kunt
voor uw regio, in plaats van er zomaar één te kiezen die op dit moment
de juiste tijd geeft.

<p>
OpenBSD's installatieprogramma zal u helpen om een geschikte tijdzone voor u
te vinden als u het niet zeker weet.
Druk simpelweg op "<tt>?</tt>" bij iedere prompt en het installatieprogramma
laat u opties zien.
Als het eerste niveau van antwoorden niet geschikt is, kies dan een continent
of land en kijk dan naar uw opties:


<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  What timezone are you in? ('?' for list) [right/EST5EDT] <b>?</b>
  Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      UCT
  America/     Cuba         GMT          Jamaica      Navajo       US/
  Antarctica/  EET          GMT+0        Japan        PRC          UTC
  Arctic/      EST          GMT-0        Kwajalein    PST8PDT      Universal
  Asia/        EST5EDT      GMT0         Libya        Pacific/     W-SU
  Atlantic/    Egypt        Greenwich    MET          Poland       WET
  Australia/   Eire         HST          MST          Portugal     Zulu
  Brazil/      Etc/         Hongkong     MST7MDT      ROC          posix/
  CET          Europe/      Iceland      Mexico/      ROK          posixrules
  CST6CDT      Factory      Indian/      Mideast/     Singapore    right/
  Canada/      GB           Iran         NZ           Turkey
  What timezone are you in? ('?' for list) [right/EST5EDT] <b>US</b>
  What sub-timezone of 'US' are you in? ('?' for list) ?
  Alaska          Central         Hawaii          Mountain        Samoa
  Aleutian        East-Indiana    Indiana-Starke  Pacific
  Arizona         Eastern         Michigan        Pacific-New
  What sub-timezone of 'US' are you in? ('?' for list) <b>Michigan</b>
</pre></td></tr></table>

<p>
We hebben de tijd nu ingesteld op "US/Michigan".  Dit creëert een symbolic
link in <tt>/etc</tt> die wijst naar het juiste zoneinfo-bestand in
<tt>/usr/share/zoneinfo</tt>, iets als dit:
<blockquote><pre>
  /etc/localtime -> /usr/share/zoneinfo/US/Michigan
</pre></blockquote>

Let op de directory "<tt>right/</tt>", deze directory omvat schrikkelseconde
aanpassingen, maar is verder gelijk aan de standaard zoneinfor-keuzes.
Meer <a href="faq8.html#NTPerror">hier</a>.

<p>
<a href="#backMoreTimeZone">(Terug naar waar u misschien was)</a>

<a name="Morefdisk"></a>
<h3>4.6.3 - Aangepaste fdisk(8) layout</h3>

Opmerking: slechts enkele OpenBSD-platforms gebruiken überhaupt fdisk en
over het algemeen hoeven alleen gebruikers van
<a href="../../i386.html">i386</a> en <a href="../../amd64.html">amd64</a>
zich zorgen te maken over het gebruik van fdisk.
Gebruikers van andere platforms die fdisk(8) gebruiken hoeven zich over het
algemeen geen zorgen te maken over multibooten of setup/diagnose-partities.
Om deze reden is deze sectie gericht op i386 and amd64.

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8">fdisk(8)</a>
wordt gebruikt om het OpenBSD-gedeelte van uw harde schijf te markeren.
Het helpt om het gebied dat door OpenBSD wordt gebruikt af te scheiden van
delen die door andere besturingssystemen of systeemfuncties worden gebruikt.

<p>
Als u een partite op uw disk heeft die u wilt behouden of ruimte wilt
laten voor andere partities, dan moet u NIET "(W)hole disk" kiezen, maar
moet u de partitietabel bewerken met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8">fdisk(8)</a>.
Meer informatie over het handmatig draaien van fdisk(8) kunt u
<a href="faq14.html#fdisk">hier</a> vinden.

<b>Voordat u met enig systeem gaat werken dat data bevat die u niet kwijt
wilt, vergewis u ervan dat u een goede backup hebt.</b>
Het is in dit proces erg makkelijk om belangrijke data te wissen, dus wees
er zeker van dat u er klaar voor bent om deze terug te halen, mocht het nodig
zijn.

<p>
Als u OpenBSD toevoegt aan een bestaand systeem, dan zult u waarschijnlijk
vrije ruimte moeten maken voordat u OpenBSD installeert.
Dit betekent meestal het verwijderen of verkleinen van bestaande partities.
Het programma <a href="http://gparted.sourceforge.net/">gparted</a>
is nuttig bevonden voor het krimpen van de partities van menig populair
besturingssysteem, en maakt het mogelijk om OpenBSD te installaren in de
vrijgekomen ruimte.

<p>
In dit voorbeeld nemen we aan dat er starten met een lege 40G schijf
en dat we een mulitboot-systeem wensen te maken, waarbij we 5G aan het
beging leeglaten voor Windows en de rest gebruiken voor OpenBSD.
Merk op dat een lege schijf een geldig MBR en signature moet hebben
om van de schijf te kunnen booten.

<p>
Het proces lijkt erg veel op het werken rond een bestaand partitie, u
moet alleen de delen waar een Windows-partitie maken en ons bemoeien
met de MBR-bootcode overslaan.

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available disks are: wd0.
  Which one is the root disk? (or 'done') [wd0] <b><i>Enter</i></b>
  MBR has invalid signature; not showing it.
</pre></td></tr></table>
ALS de schijf een geldige MBR had, zou de bestaande partitietabel getoond
worden, wat een goede manier kan zijn om te laten zien of een schijf
misschien al data bevat.
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Use (W)hole disk or (E)dit the MBR? [whole] <b>e</b>

  You will now create a single MBR partition to contain your OpenBSD data. This
  partition must have an id of 'A6'; must *NOT* overlap other partitions; and
  must be marked as the only active partition.  Inside the fdisk command, the
  'manual' command describes all the fdisk commands in detail.

  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0x0
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Enter 'help' for information
fdisk: 1>
</pre></td></tr></table>

Let allereerst op de fdisk-prompt.
Het getal "1" duidt op het eerste niveau van partitie-tabellen -- als u
bezig was met bewerken van uitgebreide partities, dan zou hier "2" (of hoger)
staan.
Uitgebreide (extended) partities zijn partities die hun eigen
sub-partitietabel hebben, hiermee omzeilen ze de IBM AT ontwerplimiet van
vier partities.
Uitgebreide partities worden hier niet behandeld.

<p>
Als eerste maken we partitie "0" een 5G Windows-partitie (met NTFS),
en partitie "1" zal onze OpenBSD-partitie zijn op de rest van de schijf.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk: 1> <b>e 0</b>
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help)
</pre></td></tr></table>

<p>
Aangezien we niet uit het hoofd het partitie-ID van NTFS weten, drukken we
hier op "?" om de lijst te zien.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>?</b>
  Choose from the following Partition id values:
  00 unused         20 Willowsoft     66 NetWare 386    A9 NetBSD
  01 DOS FAT-12     24 NEC DOS        67 Novell         AB MacOS X boot
  02 XENIX /        27 Win Recovery   68 Novell         AF MacOS X HFS+
  03 XENIX /usr     38 Theos          69 Novell         B7 BSDI filesy*
  04 DOS FAT-16     39 Plan 9         70 DiskSecure     B8 BSDI swap
  05 Extended DOS   40 VENIX 286      75 PCIX           BF Solaris
  06 DOS > 32MB     41 Lin/Minux DR   80 Minix (old)    C0 CTOS
  07 NTFS           42 LinuxSwap DR   81 Minix (new)    C1 DRDOSs FAT12
  08 AIX fs         43 Linux DR       82 Linux swap     C4 DRDOSs < 32M
  09 AIX/Coherent   4D QNX 4.2 Pri    83 Linux files*   C6 DRDOSs >=32M
  0A OS/2 Bootmgr   4E QNX 4.2 Sec    84 OS/2 hidden    C7 HPFS Disbled
  0B Win95 FAT-32   4F QNX 4.2 Ter    85 Linux ext.     DB CPM/C.DOS/C*
  0C Win95 FAT32L   50 DM             86 NT FAT VS      DE Dell Maint
  0E DOS FAT-16     51 DM             87 NTFS VS        E1 SpeedStor
  0F Extended LBA   52 CP/M or SysV   8E Linux LVM      E3 SpeedStor
  10 OPUS           53 DM             93 Amoeba FS      E4 SpeedStor
  11 OS/2 hidden    54 Ontrack        94 Amoeba BBT     EB BeOS/i386
  12 Compaq Diag.   55 EZ-Drive       99 Mylex          EE EFI GPT
  14 OS/2 hidden    56 Golden Bow     9F BSDI           EF EFI Sys
  16 OS/2 hidden    5C Priam          A0 NotebookSave   F1 SpeedStor
  17 OS/2 hidden    61 SpeedStor      A5 FreeBSD        F2 DOS 3.3+ Sec
  18 AST swap       63 ISC, HURD, *   A6 OpenBSD        F4 SpeedStor
  19 Willowtech     64 NetWare 2.xx   A7 NEXTSTEP       FF Xenix BBT
  1C ThinkPad Rec   65 NetWare 3.xx   A8 MacOS X
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>07</b>
</pre></td></tr></table>

<p>
Nu definiëren we het begin- en eindpunt:
<p>

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you wish to edit in CHS mode? [n]
</pre></td></tr></table>

<p>
CHS-mode staat u toe de ruimte op schijf op te geven in Cylinders, Koppen
en Sectoren.
Denk eraan dat voor moderne harde schijven de CHS-nummers complete onzin
zijn, het zijn slechts drie nummers die zich vertalen in een sector op
de schijf, die wordt vertaald naar de fysieke geometrie van de schijf
(die waarschijnlijk toch varieert over de schijf).

<p>
Als u hier "y" antwoordt, dan wordt u gevraagd naar de begin- en eindcylinder,
kop en sector.
Als u "no" antwoord (wat wij zullen doen), wordt u gevraagd naar beginsector
en grootte.
Bewerken via CHS is vaak gemakkelijker als u om een bestaande partitie heen
werkt, terwijl beginsector en grootte vaak makkelijker is als u snel een
partitie van een gegeven grootte wilt maken.

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  offset: [0] <b>63</b>
</pre></td></tr></table>

<a name="trackoffset"></a>
<p>
De platformen met fdisk moeten een gat van één track hebben voor de eerste
partitie.
Één track is een "sectoren per track"-aantal sectoren, de laatste van de
"geometry:" nummers.
Het is makkelijk om in de gewoonte te vallen om hier "63" in te vullen,
aangezien dit gebruikelijk is voor moderne IDE en SATA schijven, maar niet
alle schijven gebruiken dit als trackgrootte, gebruikerlijke moderne
uitzonderingen zijn SCSI en Flash schijven.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  size: [0] <b>5g</b>
  Rounding to nearest cylinder: 10490382
</pre></td></tr></table>

De "Size"-waarde kan het aantal sectoren zijn (ieder 512 bytes), of de
gewenste capaciteit indien gevolgd door "k", "m" of "g".
Als u werkt met offset en grootte, dan rond fdisk uw partitie zodanig af
dat deze eindigt op een cylindergrens (voor OpenBSD maakt het niet uit
en het is mogelijk dat geen enkel modern OS erom geeft, maar sommige
misschien ooit wel).

<p>
Laten we nu kijken naar onze nieuwe partitie:
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> p
  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0x0
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 07      0   1   1 -    652 254  63 [          63:    10490382 ] NTFS
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  fdisk:*1>
</pre></td></tr></table>

Merk op dat de prompt nu een "*" bevat, dit betekent dat er niet opgeslagen
wijzigingen zijn.

<p>
We hebben nu onze Windows-partitie gemaakt.
Merk op dat deze partitie op dit moment slechts gereserveerde ruimte op de
schijf is, hij is niet geformatteerd; er bestaat hier geen bestandssysteem.
U houdt zich daarmee bezig wanneer u Windows installeert; wij hebben ons
doel bereikt om ruimte te reserveren voor de later te creëren Windows-partitie.

<p>
Nu maken we onze OpenBSD-partitie.
In dit geval zal het partitie-ID "A6" zijn.

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> e 1
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
  Do you wish to edit in CHS mode? [n] <b><i>Enter</i></b>
  offset: [0]
</pre></td></tr></table>

oh oh!
Wat is onze offset?  Simpel -- de offset van de voorgaande partities plus
de grootte van de partitie, in dit geval, 63+10490382 = 10490445.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  offset: [0] <b>10490445</b>
  size: [0] <b>*</b>
  fdisk:*1>
</pre></td></tr></table>

<p>
Merk op dat we hier "*" hebben ingevoerd als de grootte, dat betekent
"de rest van de schijf".
Ook hier hadden we de grootte kunnen opgeven in sectors, "m" of "g" als
we ruimte voor iets anders hadden willen openlaten.

<p>
We kijken nu naar onze partitie-tabel:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0x0
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 07      0   1   1 -    652 254  63 [          63:    10490382 ] NTFS
   1: A6    653   0   1 -   4998   5  63 [    10490445:    69802803 ] OpenBSD
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  fdisk:*1>
</pre></td></tr></table>

<p>
<b>WE ZIJN NOG NIET KLAAR!</b><br>
Er kan nog niet van deze disk worden geboot!
Omdat het een gloednieuwe schijf was, is de
<a href="faq14.html#Boot386">MBR</a> van de schijf nog helemaal leeg.
De "Signature: 0x0"-melding laat zien dat er nog geen geldige signature
(0xAA55) is, wat betekend dat er zeker geen geldige bootcode is.
U kunt uiteraard een geldige signature hebben zonder geldige bootcode,
door stom toeval of schade aan de bestaande bootdode, maar een ongeldige
signature betekent vrij zeker dat u geen bootcode heeft, dus zullen we
deze nu installeren met het "update"-commando.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>update</b>
  Machine code updated.
  fdisk:*1>
</pre></td></tr></table>

<p>
We moeten ook een partitie als actief "vlaggen" zodat het boot-ROM weet
van welke partitie er geboot moet worden:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>f 1</b>

  Partition 1 marked active.
</pre></td></tr></table>

<p>
Laten we nu eens kijken hoe het eruit ziet:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 07      0   1   1 -    652 254  63 [          63:    10490382 ] NTFS
  *1: A6    653   0   1 -   4998   5  63 [    10490445:    69802803 ] OpenBSD
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  fdisk:*1>
</pre></td></tr></table>

<p>
Een controlelijst met dingen waarvan u zeker moet zijn voordat u fdisk(8)
afsluit:

<ul>
<li>Geldige signature?
<li>Geen overlappende partities?
<li>OpenBSD-partitie met type "A6"?
<li>De goede partitie (waarschijnlijk OpenBSD) gevlagd als actief?
</ul>

<p>
<a href="#BackMorefdisk">(Terug naar waar u misschien was)</a>


<a name="Moredisklabel"></a>
<h3>4.6.4 - Aangepaste disklabel layout</h3>

Binnen de OpenBSD fdisk(8)-partitie gebruiken we
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
om OpenBSD bestandssysteem-partities aan te maken.
OpenBSD labelt zijn bestandssysteem-partities met zestien letter, "a"
tot en met "p".
Partitie "a" op de boot-schijf is gedefinieerd als de root-partitie,
"b" op de boot-schijf is de standaard swap-partitie.
"c" op alle schijven is de "gehele schijf"-partitie, deze wordt
gebruikt door programma's die directe toegang tot de fysieke schijf nodig
hebben, zoals fdisk(8) en disklabel(8).
De "c"-partitie wordt automatisch voor u aangemaakt en zou niet
verwijderd of veranderd moeten worden.
De resterende letters zijn beschikbaar voor u om mount-punten de definieren.
U mag letters overslaan, u mag ze definieren in iedere volgorde en ze mogen
in iedere volgorde op de schijf staan (al hebben sommige platformen
voorwaarden met betrekking tot de plaats van de "a"-partitie).
U mag ook gaten laten op de schijf die niet gealloceerd zijn, en deze
later alloceren of mogelijk de niet-gealloceerde ruimte gebruiken om
bestaande partities te vergroten met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=growfs&amp;sektion=8">growfs(8)</a>.

<p>
Alle partities met een native FFS-partitie erop zouden binnen de
OpenBSD fdisk(8)-partitie moeten liggen, maar
<a href="faq14.html#foreignfs">non-OpenBSD</a> partities kunnen (en zouden
dat meestal ook moeten) buiten de OpenBSD fdisk-partitie liggen.

<p>
Meer informatie over het gebruik van disklabel vindt u
<a href="faq14.html#disklabel">hier</a>.

<p>
Meer informatie over de reden dat partitioneren goed is en een strategie
voor een goed partitieplan vindt u <a href="#Partitioning">hieronder</a>.

<p>
Het nieuwe (voor 4.6) OpenBSD-installatieprogramma probeert uw schijf
automatisch te partitioneren met een "algemeen bruikbare" configuratie,
gebaseerd op de grootte van uw schijf.
Als u schijf groot genoeg is, dan wordt de niet gebruikte ruimte toegewezen
aan de
<tt>/home</tt>-partitie.
Hoewel dit vaak zeer bruikbaar is, is dat niet zaligmakend voor iedereen.

<p>
We nemen bijvoorbeeld aan dat we een statische webserver aan het bouwen
zijn om door enkele vrienden te laten gebruiken.
We hebben een machine die aan een bescheiden Internetverbinding hangt, met
een 40G harde schijf die grotendeeld door OpenBSD wordt gebruikt (met dezelfde
5G Windows-partitie als hierboven).
Waarom?  Misschien heeft dit systeem een RAID-controller die wordt
ondersteund door OpenBSD, maar alleen vanuit Windows beheerd kan worden.
Of, en dat is waarschijnlijker, omdat de redacteur van de FAQ geen zin
heeft om allerlei voorbeeldsystemen te onderhouden.

<p>
De webpagina's geserveerd door een OpenBSD webserver bevinden zich in
<tt>/var/www</tt>, en er wordt maar erg weinig bewaard in <tt>/home</tt>,
dus dit vraagt om een duidelijke wijziging van de standaard die we moeten
maken.
Omwille van de discussie nemen we ook aan, dat we het OS niet vanaf source
hoeven te herbouwen op deze machine (dat doen we ergens anders).
Het systeem draait geen X, maar omdat sommige webapplicaties
<a href="#FilesNeededX">verwachten dat X is geïnstalleerd</a>, zullen we
X installeren.
De machine is niet erg krachtig, er kan niet meer dan 1G RAM in en het
is onwaarschijnlijk dat onze applicatie ooit meer dan dat nodig heeft.

<p>
Dus, na enige nadenken, is ons plan om het systeem als volgt
te partitioneren:
<ul>
<li><tt>/ - root</tt>: 100m.  Dit wordt 'a'.
<li><tt>swap</tt>: 1G (zodat we altijd genoeg ruimte hebben voor een core
   dump), dit wordt partitie 'b'.
<li><tt>/usr</tt>: 2g, partitie d
<li><tt>/tmp</tt>: 100m (hier verwachten we weinig van te gebruiken),
   partitie e.
<li><tt>/usr/local</tt>: 2g, partitie f
<li><tt>/usr/X11R6</tt>: 1g, partitie g
<li><tt>/home</tt>: 1g, partitie h
<li><tt>/var</tt>: 1g (dat is veel ruimte voor logbestanden van het systeem),
   partitie j
<li><tt>/var/www</tt>: rest van de schijf, partitie k
</ul>

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  The auto-allocated layout for wd0 is:
  #                size           offset  fstype [fsize bsize  cpg]
    a:          1024.0M         10490445  4.2BSD   2048 16384    1 # /
    b:           252.1M         12587597    swap
    c:         39205.7M                0  unused
    d:          2319.3M         13103933  4.2BSD   2048 16384    1 # /tmp
    e:          3653.9M         17853877  4.2BSD   2048 16384    1 # /var
    f:          1149.8M         25337016  4.2BSD   2048 16384    1 # /usr
    g:          1024.0M         27691862  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          3422.6M         29789014  4.2BSD   2048 16384    1 # /usr/local
    i:          5122.3M               63    NTFS
    j:          1848.7M         36798433  4.2BSD   2048 16384    1 # /usr/src
    k:          1848.7M         40584654  4.2BSD   2048 16384    1 # /usr/obj
    l:         17540.2M         44370875  4.2BSD   2048 16384    1 # /home
  Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b>c</b>
</pre></td></tr></table>

<p>
Als we alleen maar kleine wijzigingen hadden, dan zoude we waarschijnlijk
kiezen voor om de layout te "Edit"-ten in plaats van te starten met een
schone lei, maar we gaan het hier op de moeilijke manier doen.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  You will now create an OpenBSD disklabel inside the OpenBSD MBR
  partition. The disklabel defines how OpenBSD splits up the MBR partition
  into OpenBSD partitions in which filesystems and swap space are created.
  You must provide each filesystem's mountpoint in this program.

  The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
  start of the disk, NOT the start of the OpenBSD MBR partition.

  Label editor (enter '?' for help at any prompt)
  > <b>p</b>
  OpenBSD area: 10490445-80293248; size: 69802803; free: 69802803
  #                size           offset  fstype [fsize bsize  cpg]
    c:         80293248                0  unused
    i:         10490382               63    NTFS
  >
</pre></td></tr></table>

<p>
Merk op dat hier al twee partities zijn -- de "c"-partitie die er altijd
is en voor u gemaakt is, maar disklabel(8) heeft de bestaande NTFS-partitie
ook gezien en deze toegewezen aan een disklabel-partitie zodat deze
potentieel toegankelijk is door OpenBSD (opmerking, momenteel is ondersteuning
voor NTFS experimenteel en vereist een aangepaste kernel, maar de
ondersteuning voor FAT/FAT32 is best goed).

<p>
We zullen nu onze partities aanmaken.
We starten met de "a"-partitie, onze root-partitie:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>a a</b>
  offset: [10490445] <b><i>Enter</i></b>
  size: [69802803] <b>100m</b>
  Rounding to cylinder: 208845
  FS type: [4.2BSD]  <b><i>Enter</i></b>
  mount point: [none] <b>/</b>
  >
</pre></td></tr></table>

Merk op dat dat disklabel standaard de eerst beschikbare OpenBSD-sector op
de schijf kiest, wat is wat we willen.
Hij kiest standaard ook alle beschikbare ruimte, wat we NIET willen.
We hebben het hier verworpen met onze voorkeurgrootte, die kan worden
opgegeven in sectoren, "M" of "G".

<p>
U wilt meestal het standaard type FS "4.2BSD" voor een FFS (Fast File
System) of een FFS2-partitie, al kunnen andere types ook bruikbaar zijn
zoals "swap" en "RAID".

<p>
Tenslotte het mount-punt.
Onze "a"-partitie is de root-partitie, per definitie.

<p>
Nu doen we de swap, die onze 'b'-partitie us (dit is ook een vereiste --
'b' op uw boot disk is swap):

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>a b</b>
  offset: [10699290] <b><i>Enter</i></b>

  size: [69593958] <b>1g</b>
  Rounding to cylinder: 2104515
  FS type: [swap] <b><i>Enter</i></b>
  >
</pre></td></tr></table>

<p>
Disklabel heeft onze startsector wederom juist berekend en presenteerde
ons een voorgestelde grootte van "alle resterende ruimte", wat we
opnieuw verworpen hebben met onze gewenste grootte.
Aangezien dit de 'b'-paritie is, nam disklabel aan dat ze voor swap
zal worden gebruikt en nadat we dat bevestigden viel hij ons niet lastig
met de vraag naar een mount-punt.

<p>
We zijn nu gereed om de resterende partities aan te maken.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>a d</b>
  offset: [12803805] <b><i>Enter</i></b>
  size: [67489443] <b>2g</b>
  Rounding to cylinder: 4209030
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr</b>
  > <b>a e</b>
  offset: [17012835] <b><i>Enter</i></b>
  size: [63280413] <b>100m</b>
  Rounding to cylinder: 208845
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/tmp</b>
  > <b>a f</b>
  offset: [17221680] <b><i>Enter</i></b>
  size: [63071568] <b>2g</b>
  Rounding to cylinder: 4209030
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr/local</b>
  > <b>a g</b>
  offset: [21430710] <b><i>Enter</i></b>
  size: [58862538] <b>1g</b>
  Rounding to cylinder: 2104515
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr/X11R6</b>
  > <b>a h</b>
  offset: [23535225] <b><i>Enter</i></b>
  size: [56758023] <b>1g</b>
  Rounding to cylinder: 2104515
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/home</b>
  > <b>a j</b>
  offset: [25639740] <b><i>Enter</i></b>
  size: [54653508] <b>1g</b>
  Rounding to cylinder: 2104515
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var</b>
  > <b>a k</b>
  offset: [27744255] <b><i>Enter</i></b>
  size: [52548993] <b><i>Enter</i></b>
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var/www</b>
  >
</pre></td></tr></table>

<p>
Merk op dat we bij de <tt>/var/www</tt> partitie ("k") gewoon de standaard
om alle resterende ruimte te gebuiken hebben overgenomen.
Met moderne monsterlijk grootte schijven is dit meestal een slecht idee.
Als u weet dat u het nooit zult gebruiken, alloceer het dan niet maar
bewaar het voor een toekomstig gebruik.

<p>
Laten we nu naar ons resultaat kijken, met de "p" en "p m"-commando's:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>p</b>
  OpenBSD area: 10490445-80293248; size: 69802803; free: 0
  #                size           offset  fstype [fsize bsize  cpg]
    a:           208845         10490445  4.2BSD   2048 16384    1 # /
    b:          2104515         10699290    swap
    c:         80293248                0  unused
    d:          4209030         12803805  4.2BSD   2048 16384    1 # /usr
    e:           208845         17012835  4.2BSD   2048 16384    1 # /tmp
    f:          4209030         17221680  4.2BSD   2048 16384    1 # /usr/local
    g:          2104515         21430710  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          2104515         23535225  4.2BSD   2048 16384    1 # /home
    i:         10490382               63    NTFS
    j:          2104515         25639740  4.2BSD   2048 16384    1 # /var
    k:         52548993         27744255  4.2BSD   2048 16384    1 # /var/www
  > <b>p m</b>
  OpenBSD area: 10490445-80293248; size: 34083.4M; free: 0.0M
    #                size           offset  fstype [fsize bsize  cpg]
    a:           102.0M         10490445  4.2BSD   2048 16384    1 # /
    b:          1027.6M         10699290    swap
    c:         39205.7M                0  unused
    d:          2055.2M         12803805  4.2BSD   2048 16384    1 # /usr
    e:           102.0M         17012835  4.2BSD   2048 16384    1 # /tmp
    f:          2055.2M         17221680  4.2BSD   2048 16384    1 # /usr/local
    g:          1027.6M         21430710  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          1027.6M         23535225  4.2BSD   2048 16384    1 # /home
    i:          5122.3M               63    NTFS
    j:          1027.6M         25639740  4.2BSD   2048 16384    1 # /var
    k:         25658.7M         27744255  4.2BSD   2048 16384    1 # /var/www
  >
</pre></td></tr></table>

<p>
Net als met fdisk wilt u niet dat uw OpenBSD disklabel-partities elkaar
overlappen (behalve de 'c'-partitie die uiteraard alles overlapt).

<p>
Sla uw wijzigingen op en verlaat disklabel:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>w</b>
  > <b>q</b>
  No label changes.
  newfs: reduced number of fragments per cylinder group from 13048 to 12992 to
  enlarge last cylinder group
  /dev/rwd0a: 102.0MB in 208844 sectors of 512 bytes
  5 cylinder groups of 25.38MB, 1624 blocks, 3328 inodes each
  /dev/rwd0h: 1027.6MB in 2104512 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  newfs: reduced number of fragments per cylinder group from 13048 to 12992 to
  enlarge last cylinder group
  /dev/rwd0e: 102.0MB in 208844 sectors of 512 bytes
  5 cylinder groups of 25.38MB, 1624 blocks, 3328 inodes each
  /dev/rwd0d: 2055.2MB in 4209028 sectors of 512 bytes
  11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0g: 1027.6MB in 2104512 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0f: 2055.2MB in 4209028 sectors of 512 bytes
  11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0j: 1027.6MB in 2104512 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0k: 25658.7MB in 52548992 sectors of 512 bytes
  127 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0e on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0d on /mnt/usr type ffs (rw, asynchronous, local, nodev)
  /dev/wd0g on /mnt/usr/X11R6 type ffs (rw, asynchronous, local, nodev)
  /dev/wd0f on /mnt/usr/local type ffs (rw, asynchronous, local, nodev)
  /dev/wd0j on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0k on /mnt/var/www type ffs (rw, asynchronous, local, nodev, nosuid)

  Let's install the sets!
...
</pre></td></tr></table>

<p>
<a href="#BackMoredisklabel">(Terug naar waar u misschien was)</a>

<p>
<a name= "FilesNeeded"></a>
<h2>4.7 - Welke bestanden zijn er nodig voor de installatie?</h2>
<!-- XXXrelease -->

<p>
De volledige OpenBSD installatie wordt opgesplitst in een aantal afzonderlijke
<i>bestandensets</i>.  Niet elke toepassing heeft elke bestandenset nodig,
maar nieuwe gebruikers wordt aangeraden om ze ALLEMAAL te installeren.
<p>
<ul>
  <li><b><i>bsd</i></b>          - Dit is de Kernel. <b>Vereist</b>
  <li><b><i>bsd.mp</i></b> - Multi-processor (SMP) kernel (slechts enkele
     platformen)
  <li><b><i>bsd.rd</i></b> - <a href="#bsd.rd">RAM disk kernel</a>
  <li><b><i>base46.tgz</i></b>   - Bevat het "base" OpenBSD systeem 
    <b>Vereist</b>
  <li><b><i>etc46.tgz</i></b>    - Bevat alle bestanden in /etc 
    <b>Vereist</b>
  <li><b><i>comp46.tgz</i></b>   - Bevat de compiler en zijn tools, headers
    en libraries.
  <li><b><i>man46.tgz</i></b>    - Bevat man pagina's
  <li><b><i>misc46.tgz</i></b>   - Bevat "misc" info, setup documentatie
  <li><b><i>game46.tgz</i></b>   - Bevat de spelletjes voor OpenBSD
  <li><b><i>xbase46.tgz</i></b>  - Bevat de basis libraries en
    programma's voor X11
  <li><b><i>xetc46.tgz</i></b>   - Bevat de /etc/X11 en /etc/fonts
    configuratiebestanden
  <li><b><i>xfont46.tgz</i></b>  - Bevat X11's font server en fonts
  <li><b><i>xserv46.tgz</i></b>  - Bevat X11's X servers
  <li><b><i>xshare46.tgz</i></b> - Bevat man pagina's, "locale" instellingen,
    includes, enz. voor X
</ul>

De <b>etc46.tgz</b> en <b>xetc46.tgz</b> sets worden niet geïnstalleerd
als onderdeel van een upgrade, alleen als onderdeel van een volledige
installatie, zodat aanpassingen die u maakt niet verloren zullen gaan.
U zal uw <tt>/etc</tt>, <tt>/dev</tt> en <tt>/var</tt> directories handmatig
moeten updaten.

<a name="FilesNeededX"></a>
<h3>Waarom moet ik xbase46.tgz installeren voor mijn applicatie?</h3>
Ook al bent u niet van plan X te draaien, sommige externe
<a href="faq15.html">packages</a> vereisen dat de libraries of andere
programma's uit X op uw systeem geïnstalleerd zijn.
Deze toepassingen zijn soms tevreden door slechts xbase46.tgz
te installeren, de rest van X is niet nodig.
Veel mensen willen X niet op hun systeem installeren zonder geldige reden:


<ul>
<li>Het installeren van X leidt er op zichzelf niet toe dat
programma's worden uitgevoerd op het systeem.
<li>Het installeren van X verandert op zichzelf het risico op externe
veiligheidsproblemen niet.
<li>Als iemand aanwezig is OP uw systeem, kan hij zeer waarschijnlijk
installeren wat hij wil, dus het al dan niet aanwezig zijn van
X maakt geen substantieel verschil.
<li>Alleen die delen van X die nodig zijn voor uw applicatie 
worden uitgevoerd.
<li>De benodigde ruimte voor xbase46.tgz is relatief bescheiden, rond de 30M.
</ul>
 
Mensen verkwisten ssoms veel tijd en moeite om door xbase45.tgz te pluizen
om alleen de benodigde bestanden voor hun applicatie eruit te vissen.
Dit is niet alleen nutteloos, maar een inspanning die bij iedere upgrade
herhaald moet worden, wat waarschijnlijk betekent dat u uw systeem
niet juist upgradet, wat pas ECHTE veiligheidsproblemen veroorzaakt.

<p>
ALS u X nodig hebt, installeer het dan gewoon.
Het doet niet meer kwaad dan de appliciatie waarvoor u het nodig hebt.

<a name="FilesNeededComp"></a>
<h3>Ik wil de compilers niet installeren</h3>
Ok, doe het dan niet, maar zeg dan niet tegen uzelf dat dat is om
"veiligheidsredenen".
Tegen de tijd dat iemand ver genoeg in uw systeem zit dat het al dan niet
aanwezig zijn van de compiler verschil maakt, zijn ze ver genoeg om zelf
een compiler te kunnen installeren.
De compXX.tgz bestandenset is echter relatief groot en bevat veel bestanden,
dus het kan een tijdje duren om deze te installeren en te upgraden en op
kleine of langzame systemen kan dit een verschil maken.

<p>
Als u besluit om de compiler niet te instelleren, dan heeft u waarschijnlijk
een ander systeem nodig om geüpdate software op te beheren en te bouwen.
Er zijn veel meer systemen gecompromiteerd vanwege slecht onderhoud
dan vanwege de aanwezigheid van een compiler.

<p>
<a name="Partitioning"></a>
<h2> 4.8 - Hoe moet ik mijn schijf partitioneren?</h2>
<!-- XXXrelease -->

<p>
Het antwoord op deze vraag varieert vanzelfsprekend enorm afhankelijk van
uw gebruik van het systeem.
OpenBSD kan worden geïnstalleerd in slechts 512M, maar installeren in zo'n
kleine ruimte is iets voor gevorderde gebruikers.
Totdat u enige ervaring heeft, wordt een 4G tot 8G HD aangeraden om mee
te beginnen.

<p>
In tegenstelling tot veel andere besturingssystemen moedigt OpenBSD
haar gebruikers aan om hun schijf te partitioneren in een aantal
partities, in plaats van het gebruik van slechts één of twee grote partities.
Er is een aantal redenen in uw schijf te partitioneren:

<ul>
<li><b>Veiligheid:</b> U kunt sommige bestandssystemen markeren als 'nosuid',
  'nodev', 'noexec', 'readonly', enz.
  Dit wordt gedaan door het installatieproces, indien u de aanbevolen
  partities gebruikt.
<li><b>Stabiliteit:</b> Een gebruiker, of een programma dat zich slecht
  gedraagt, kunnen een bestandssysteem met rommel vullen als ze er
  schrijfpermissies voor hebben. Uw kritieke programma's, die natuurlijk op
  een ander bestandssysteem draaien, worden dan niet onderbroken.
<li><b>Snelheid:</b> Een bestandssysteem waarnaar vaak geschreven wordt, kan
  een beetje gefragmenteerd raken. (Gelukkig is het ffs bestandssysteem dat
  OpenBSD gebruikt niet vatbaar voor zware fragmentering.)
<li><b>Integriteit:</b> Als één bestandssysteem om een of andere
  reden aangetast wordt, dan zijn de andere bestandssystemen zeer
  waarschijnlijk nog steeds OK.
<li><b>Grootte:</b> Veel machines hebben beperkingen voor het gebied van
  een schijf waar het boot ROM de kernel van kan laden. In sommige gevallen
  kan deze limiet heel klein zijn (504M voor een oudere 486), in andere
  gevallen veel groter (bijvoorbeeld 2G, 8G, of 128G op i386 systemen).
  Aangezien de kernel gelijk waar kan belanden in de root partitie, moet de
  gehele root partitie binnen dit gebied vallen.
  Bekijk voor meer details <a href="faq14.html#LargeDrive">deze
  sectie</a>. Een goede richtlijn zou kunnen zijn om uw / partitie volledig
  onder 2G te houden, tenzij u weet dat uw platform (en bepaalde machine)
  meer (of minder) dan dat aankan.
<li><b>Alleen-lezen:</b> U kunt partities die u zelden of nooit moet
   schrijven mounten als "Alleen-lezen" gedurende het grootste deel van de
   tijd, wat de noodzaak om fsck(8) te draaien na een crash of
   stroomstoring elimineert en kan helpen om onbedoelde wijziging van data
   te voorkomen.
<li><b>fsck(8):</b> Erg grote partities hebben meer RAM nodig tijdens
   fsck(8) en op systemen met weinig geheugen kan dat leiden tot het gebruik
   van swap, wat resulteert in erg lange fsck-tijden.
</ul>

Indien er voldoende schijfruimte is, dan kiest het installtieprogramma van
OpenBSD standaard de volgende partities:

<ul>
<li><b>/ - root:</b>
Naast de plek waar alle andere bestandssytemen worden gemount, bevat
het root-bestandssysteem alle bestanden die nodig zijn om OpenBSD te booten.
Dit omvat de kernel, plus alle basisprogramma's in <tt>/sbin</tt> en
<tt>/bin</tt>, de configuratiebestanden in <tt>/etc</tt>, en de
device-directory <tt>/dev</tt> die allen nodig zijn om het systeem te
starten.
Het root-bestandssysteem kan zo klein als 60M zijn, maar 100M tot 200M is
makkelijker voor een machine die een aantal upgrade-cycli moet meegaan.
De 'a'-partitie van uw boot-schijf wordt automatisch uw root-partitie.
SOMMIGE platformen hebben restricties met betrekking tot de fysieke locatie
op de schijf (moet bijvoorbeeld aan het begin van de disk staan) om
te kunnen booten.

<li><b>Swap:</b>
Naast swap wordt deze partitie ook gebruikt voor het opslaan van core-dumps
na systeemcrashes, dus het wordt aangeraden om de swap-ruimte (als deze
überhaupt wordt opgezet) groter te kiezen dan de grootste hoeveelheid RAM
die u mogelijk ooit in de machine zult installeren.
Lees hier meer over in <a href="faq14.html#Swap">FAQ 14, Swap</a>.

<li><b>/tmp:</b>
Dit een een world-writeable directory die wordt gebruikt voor (zoals de naam
impliceert) tijdelijke opslag.
De meeste systemen kunnen hier toe met zeer bescheiden hoeveelheden, 50M
is meestal vele malen meer dan u ooit nodig heeft, alhoewel er enkele
applicaties zijn die veel, veel meer kunnen gebruiken.
Hoewel deze directory world-writable is, zal OpenBSD, als het een separate
partitie is, deze standaard nodev en nosuid mounten, wat de mogelijkheden
om deze te misbruiken minimaliseert.
Merk op dat deze directory bij iedere reboot gewist wordt en bestanden
die 24 uur niet aangeraakt zijn worden 's nachts gewist.

<li><b>/var:</b>
Deze directory en mount-punt wordt gebruikt voor VELE dingen en afhankelijk
van uw gebruiken kan dit een uitstekende kandidaat zijn om onder de verdelen
in meerdere subpartities.
Enkele dingen die hier belanden (en potentieel extra mount-punten):
<ul>
  <li><tt>/var/log</tt>: Systeemlogs.
  <li><tt>/var/mail</tt>: Inkomende mailboxen.
  <li><tt>/var/spool</tt>: Uitgaande mail (en andere dingen)
  <li><tt>/var/www</tt>: OpenBSD's
     <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">web server</a>
     woont hier.
  <li><tt>/var/tmp</tt>: Dit is een "persistente" directory voor tijdelijke
     bestanden, aangezien bestanden hier NIET worden gewist bij een reboot.
     vi(1) gebruikt deze directory bijvoorbeeld voor tijdelijke opslag,
     zodat in geval van een crash of reboot terwijl u een bestand bewerkt,
     de bestanden hier gebruikt kunnen worden om uw bewerkte bestand
     terug te halen.
     Echter, bestanden die hier langer dan 24 uur blijven staan worden
     opgeruimd door het nachtelijke opschoonscript,
     <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daily&amp;sektion=8">daily(8)</a>.
   <li><tt>/var/crash</tt>: Als het systeem panict, zal het proberen om
     een core-dump op te slaan in de swap-partitie voordat het reboot.
     Deze core-dump wordt vervolgens opgeslagen in <tt>/var/crash</tt>
     tijdens de reboot, dus <tt>/var</tt> moet minimaal net zoveel vrije
     ruimte hebben als er RAM in zit om dit automatisch te laten werken.
   </ul>

<li><b>/usr:</b>
Dit is waar het grootste deel van OpenBSD verblijft.
Uitvoerbare pgroamma's, libraries, documenatie, manual pagina's, etc.
worden allemaal geplaatst in de <tt>/usr</tt> directory.
De bestanden in dit mount-punt veranderen relatief weinig -- in veel
gevallen zou u de <tt>/usr</tt>-partitie makkelijk alleen-lezen kunnen
mounten met geen systeemwijzigingen tot uw volgende upgrade of update.

<li><b>/usr/X11R6:</b>
Dit is waar het X Window systeem verblijft.
De X-programma's, lettertype-bestanden, libraries, etc. staan allemaal
hier.
Het enige deel van X dat hier niet staat zijn de configuratie-bestanden.

<li><b>/usr/local:</b>
Bij een standaard OpenBSD-installatie is dit mount-punt/directory
geheel leeg.
Het wordt gebruikt voor lokaal geïnstalleerde programma's en libraries
voor lokale applicaties.

<li><b>/usr/src:</b>
Deze directory bevat the source-bestanden voor het basissysteem, zonder X
en ports.
Deze directory is standaard leeg, u moet hem vullen zoals beschreven in
<a href="faq5.html#BldGetSrc">FAQ 5</a>.

<li><b>/usr/obj:</b>
Deze directory wordt bevolkt tijdens het build-proces met de object en
binaire bestanden.
Als u deze directory als separaat mount-punt neetm, kan deze worden
geformatteerd in plaats van bestand voor bestand gewist, wat significant
sneller kan zijn.

<li><b>/home:</b>
Hier gaan de bestanden van de gebruikers naartoe.
Door hier een separate partitie voor te nemen wordt het makkelijk om een
complete herinstaatlie van uw systeem te doen; formateer deze partitie
simpelweg niet.
</ul>

<p>
Enkele bijkomende bedenkingen bij partitionering:
<ul>
 <li>Voor uw eerste poging tot een experimenteel systeem, kan één
   grote <tt>/</tt> partitie en swap het gemakkelijkst zijn totdat u weet
   hoeveel ruimte u nodig hebt. Door dit te doen zal u sommige standaard
   beveiligingsfunctionaliteiten van OpenBSD opofferen, die afzonderlijke
   bestandssystemen vereisen voor <tt>/, /tmp, /var, /usr</tt> en
   <tt>/home</tt>.
   U kunt echter waarschijnlijk beter niet in productie gaan met uw eerste
   OpenBSD installatie.
 <li>Een systeem dat blootgesteld is aan het Internet of andere vijandige
   krachten, heeft best een afzonderlijke <tt>/var</tt> (en misschien zelfs
   een aparte <tt>/var/log</tt>) voor logging.
 <li>Een <tt>/home</tt> partitie kan aardig zijn. Nieuwe versie van het
   besturingssysteem?
   Veeg al het andere er af en laad de nieuwe versie, waarbij uw
   <tt>/home</tt> partitie onaangeroerd blijft.
   Denk er echter aan om een kopie van uw configuratiebestanden te bewaren!
 <li>Een afzonderlijke partitie voor dingen die een grote hoeveelheid bestanden
   kunnen accumuleren, die misschien weer verwijderd moeten worden, kan sneller
   zijn om te herformatteren en opnieuw te maken dan om te verwijderen.
   Bekijk de <a href="faq5.html#ProbObjPt">vanaf broncode bouwen FAQ</a> voor
   een voorbeeld (<tt>/usr/obj</tt>).
 <li>Als u uw systeem om gelijk welke reden vanaf broncode wil herbouwen,
   zal de broncode in <tt>/usr/src</tt> staan.  Als u geen afzonderlijke
   partitie maakt voor <tt>/usr/src</tt>, zorg er dan voor dat <tt>/usr</tt>
   voldoende ruimte heeft.
 <li>Een vaak vergeten feit: u hoeft <b>niet</b> alle ruimte op een schijf
   toe te kennen wanneer u het systeem instelt! Aangezien u het nu een
   uitdaging zal vinden om een nieuwe schijf kleiner dan 100G te kopen, kan
   het verstandig zijn om een deel van uw schijf ongealloceerd te laten.
   Als een partitie uit zijn voegen dreigt te barsten, kunt u een nieuwe
   partitie toekennen uit uw ongebruikte ruimte, uw bestaande partitie
   <a href="faq10.html#DupFS">dupliceren</a> naar de nieuwe partitie,
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
   wijzigen om naar de nieuwe partitie te wijzen, opnieuw mounten, en u
   hebt nu meer ruimte.
 <li>Indien u uw partities te nauw maakt, met net de minimaal vereiste grootte,
   dan zal u het zich later waarschijnlijk beklagen, wanneer het tijd is om
   uw systeem te upgraden.
 <li>Indien u heel grote partities maakt, hou dan in het achterhoofd dat
   het uitvoeren van bestandssysteemcontrole met
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&amp;sektion=8">fsck(8)</a>
   ongeveer 1M RAM vereist per gigabyte bestandssysteemgrootte, en dat dit
   heel tijdrovend of zelfs onmogelijk kan zijn op oudere, tragere systemen
   (raadpleeg alstublieft ook <a href="faq14.html#LargeDrive">deze sectie</a>).
 <li>Als u gebruikers toestaat om te schrijven naar <tt>/var/www</tt> (bv.
   persoonlijke webpagina's), wenst u dit misschien op een afzonderlijke
   partitie te zetten, zodat u <a href="faq10.html#Quotas">quotas</a> kunt
   inschakelen om de ruimte die ze gebruiken, te beperken, en als ze de
   partitie helemaal vullen, zullen andere delen van uw systeem er niet
   onder lijden.
 <li>U wil misschien ook een <tt>/altroot</tt> partitie aanmaken, zoals
   beschreven wordt in
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daily&amp;sektion=8">daily(8)</a>.
   Dit kan een dagelijkse kopie maken van uw <tt>/</tt> partitie, waarmee
   u een extra kopie hebt van uw kernel en <tt>/etc</tt> configuratiebestanden,
   voor het geval er iets verkeerd gaat met uw rootpartitie.
   Uiteraard moet de <tt>/altroot</tt> partitie minstens even groot zijn als
   <tt>/</tt>.
   Indien u een tweede schijf hebt en er iets anders de rest van uw schijf
   dupliceert, ofwel software
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&amp;sektion=4">raid(4)</a>
   of een periodieke kopie met
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a
   >/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>,
   dan kan deze schijf bootable zijn na het verwijderen van de eerste schijf.
 <li>Het compileren van sommige <a href="faq15.html#Ports">ports</a> vanaf
   source kan enorme hoeveelheden ruimte van uw <tt>/usr</tt> en <tt>/tmp</tt>
   gebruiken.
   Dit is nog een reden waarom we voorstellen om in plaats hiervan
   <a href="faq15.html#PkgMgmt">voor-gecompileerde packages</a> te gebruiken.
 <li>Ten minste enkele editors gebruiken <tt>/var/tmp</tt> als kladruimte
   en dit moet vaak minstens zo groot zijn als het grootste bestand dat
   u bewerkt.
   Als u van plan bent om 500M bestanden te gaan bewerken, dan moet uw
   <tt>/var</tt> of <tt>/var/tmp</tt> veel groter zijn dan u misschien
   gepland had.

</ul>


<p>
<a name= "Multibooting"></a>
<h2>4.9 - Multibooten van OpenBSD</h2>

Multibooten is meerdere besturingssystemen op één computer hebben en
een middel om te selecteren welk besturingssysteem moet starten.
Dit is <i>geen</i> triviale opdracht!
Als u niet begrijpt wat u doet, zou het kunnen dat u grote hoeveelheden
gegevens van uw computer verwijdert. Nieuwe OpenBSD gebruikers worden
<i>ten zeerste</i> aangemoedigd om te beginnen met een lege harde schijf op
een specifieke machine, en om vervolgens uw gewenste configuratie te
oefenen op een niet-productie systeem alvorens een multiboot configuratie
te proberen op een productiemachine.  <a href="faq14.html">FAQ 14</a> biedt
meer informatie over het OpenBSD bootproces.

<p>
Slechts één van de vier <i>primaire</i> MBR partities kan gebruikt worden
om OpenBSD te starten (dus extended partities zullen niet werken).

<p>
Er zijn verscheidene mogelijkheden om te multibooten:

<h3>Actieve partities instellen</h3>
Dit is waarschijnlijk de meest over het hoofd geziene, en soms toch de
beste oplossing voor multibooting. Stel in gelijk welk besturingssysteem
dat u momenteel gebruikt, gewoon de actieve partitie in op degene waarvan u
bij de volgende start standaard wil booten. Praktisch ieder besturingssysteem
biedt een programma om dit te doen; dat van OpenBSD is
<a href="faq14.html#fdisk">fdisk(8)</a>, gelijkaardig genaamde programma's
zijn er in Windows 9x en DOS, en vele andere besturingssystemen.
Dit kan uiterst gewenst zijn voor besturingssystemen of systemen waarbij het
lang duurt om af te sluiten en te herstarten -- u kunt het instellen, het
reboot proces starten, weggaan, een kopje koffie drinken en terugkomen naar
het systeem dat geboot is zoals u wil -- niet nodig om te wachten op het
Magische Moment om het volgende besturingssysteem te selecteren.

<h3>Bootdiskette</h3>
Als u een systeem hebt dat gebruikt wordt om OpenBSD zelden te booten
(of niet wenst dat andere gebruikers van de computer merken dat er iets
veranderd is), overweeg dan een bootdiskette te gebruiken. Gebruik
eenvoudigweg een van de <a href="#MkFlop">standaard OpenBSD
installatiediskettes</a>, en maak een <tt>/etc/boot.conf</tt> bestand
(ja, u zal ook een <tt>/etc</tt> directory moeten maken op de diskette)
met de inhoud:

<pre>
     boot hd0a:/bsd
</pre>

om ervoor te zorgen dat het systeem boot vanaf harde schijf 0, OpenBSD
partitie 'a', kernelbestand <tt>/bsd</tt>.  Merk op dat u ook vanaf andere
schijven kunt booten met een regel als: "<tt>boot hd2a:/bsd</tt>" om vanaf de
derde harde schijf in uw systeem te booten. Om OpenBSD te booten,
steekt u de diskette er in en herstart.
Om het andere besturingssysteem te booten, haalt u de diskette er uit en
herstart.
(U kunt uiteraard deze floppy ook gebruiken om een bootable CD te maken.)

<p>
Het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>
programma wordt ingeladen vanaf de diskette, dit zoekt en leest
<tt>/etc/boot.conf</tt>.  De "<tt>boot hd0a:/bsd</tt>" lijn vertelt boot(8)
waar het de kernel vandaan moet laden -- in dit geval de eerste HD die
het BIOS ziet.  Hou in gedachten dat alleen een klein bestand (<tt>/boot</tt>)
geladen wordt vanaf de diskette -- het systeem laadt de gehele kernel vanaf
de harde schijf, dus dit voegt slechts ongeveer vijf seconden toe aan het
bootproces.

<h3>Windows NT/2000/XP NTLDR</h3>

Om OpenBSD en Windows NT/2000/XP te multibooten, kunt u NTLDR gebruiken,
de boot loader die NT gebruikt. Om met NT te multibooten, hebt u een kopie
van uw OpenBSD Partition Boot Record (PBR) nodig. Na het uitvoeren van
installboot kunt u het naar een bestand kopiëren met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>,
waarbij u een proces volgt dat gelijkaardig is aan:

<pre>
	# <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
</pre>

Opmerking: dit is echt een goed moment om u eraan te herinneren dat het een
heel slecht idee is om blindelings commando's in te typen die u niet begrijpt.
Deze lijn zal niet direct werken op de meeste computers.
Het wordt aan de lezer overgelaten om ze aan te passen aan zijn/haar machine.

<p>
Boot nu NT en plaats <tt>openbsd.pbr</tt> op C:. Voeg een lijn als deze toe
aan het einde van <tt>C:\BOOT.INI</tt>:

<pre>
	c:\openbsd.pbr="OpenBSD"
</pre>

<p>
Wanneer u herstart, zou u OpenBSD moeten kunnen selecteren vanuit het NT
loader menu. Er is veel meer informatie beschikbaar over NTLDR in de
<a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">NTLDR
Hacking Guide</a>.

<p>
Op Windows XP kunt u de bootinformatie ook bewerken met de GUI; zie de
<a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;289022">XP
Boot.ini HOWTO</a>.

<p>
Er zijn programma's beschikbaar die veel hiervan voor u doen, bijvoorbeeld
<a href="http://www.winimage.com/bootpart.htm">BootPart</a>.
Dit programma kan gedraaid worden vanop Windows NT/2000/XP, zal de OpenBSD
PBR halen, deze op uw NT/2000/XP partitie plaatsen, en zal deze toevoegen
aan <tt>C:\BOOT.INI</tt>.

<p>
Opmerking: De Windows NT/2000/XP boot loader kan alleen besturingssystemen
booten vanaf de eerste harde schijf.
U kunt hem niet gebruiken om OpenBSD te laden vanaf de tweede schijf in een
systeem.

<h3>Windows Vista</h3>

<p>
Met de komst van Vista heeft Microsoft de ondersteuning van NTLDR laten
vallen en vervangen door de opslag van het nieuwere Boot Configuration
Data (BCD), dat wordt gebruikt om de bootomgeving te beheren.
Aangezien <tt>BOOT.INI</tt> er niet meer is om aan te passen, is er nu
een programma voor op de command line, <tt>bcdedit</tt>.

<p>
Nadat OpenBSD's PBR naar de Vista systeempartitie is gekopieerd zijn de
volgende drie commando's nodig om OpenBSD te kunnen selecteren en booten
nadat het systeem is herstart:

<p>
<blockquote><pre>
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.6" /application bootsector
The entry {05a763ce-d81b-11db-b3ec-000000000000} was successfully created.

C:\Windows\System32>
</pre></blockquote>

<p>
Het GUID dat hier wordt getoond, <tt>05a763ce-d81b-11db-b3ec-000000000000</tt>,
dient ter illustratie.  Noteer het GUID dat wordt getoond bij het uitvoeren
van dit command, aangezien deze waarde naar de onderstaande commando's
gekopieerd moet worden.  Simpelweg bovenstaande GUID kopiëren zal niet
werken.

<p>
De twee volgende commando's zijn ook noodzakelijk:

<p>
<blockquote><pre>
C:\Windows\system32> bcdedit /set {05a763ce-d81b-11db-b3ec-000000000000} device boot
The operation completed successfully.

C:\Windows\system32> bcdedit /set {05a763ce-d81b-11db-b3ec-000000000000} path \openbsd.pbr
The operation completed successfully.

C:\Windows\system32>
</pre></blockquote>

<p>
Let op het absolute pad naar het geïmporteerde PBR bestand.  Voeg geen
drive-letter aangezien wordt aangenomen dat het bestand op de systeempartitie
staat.
<tt>bcdedit</tt> zal niet klagen over een expliciete drive-letter, maar
de boot-manager zal later stoppen en beweren dat het opgegeven pad niet
gevonden kan worden.

<p>
Bij het herstarten zal Vista als eerste worden getoond in de bootmanager,
uiteindelijk gevolgd door OpenBSD.  Kies één van beide om het bijbehorende
besturingssysteem te starten.

<p>
Raadpleeg de helpfunctie van <tt>bcdedit</tt> door het volgende te typen:

<p>
<blockquote><pre>
C:\Windows\system32> bcdedit /?
</pre></blockquote>

<p>
of doorzoek de documentatie en de website van Microsoft.  Dit TechNet-artikel
bevat een goede introductie:
<a href="http://technet.microsoft.com/en-us/library/cc721886%28WS.10%29.aspx">
Frequently Asked Questions</a>.
 
<p>
Voor degenen die handmatige configuratie te uitdagend vinden, biedt
<a href="http://neosmart.net/dl.php?id=1">EasyBCD</a> een grafisch
alternatief.

<h3>Windows 7</h3>

<p>
Het volgende is geverifieerd met Windows 7 Release Candidate Build 7100.

<p>
Sinds het uitbrengen van Vista heeft Microsoft BCD uitgebreid met de
mogelijkheid om meerdere versies van Windows te booten via <tt>bcdedit</tt>.
Vanwege deze uitgebreidere mogelijkheden zijn er vijf commando's nodig om
een multiboot-omgeving met OpenBSD te configureren.

<p>
Na het kopiëren van  OpenBSD's PBR naar de systeempartitie van Windows 7,
geeft u het volgende commando om de vereiste register-aanpassingen te doen:

<p>
<blockquote><pre>
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.6" /application bootsector
The entry {0154a872-3d41-11de-bd67-a7060316bbb1} was successfully created.

C:\Windows\system32>
</pre></blockquote>

<p>
Zoals hierboven vermeld is het GUID
<tt>{0154a872-3d41-11de-bd67-a7060316bbb1}</tt> systeemafhankelijk.  Noteer
de waarde die u krijgt bij het uitvoeren en kopieer deze naar de volgende
commando's:

<p>
<blockquote><pre>
C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device boot
The operation completed successfully.

C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} path \openbsd.pbr
The operation completed successfully.

C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device partition=c:
The operation completed successfully.

C:\Windows\system32> bcdedit /displayorder {0154a872-3d41-11de-bd67-7060316bbb1} /addlast
The operation completed successfully.

C:\Windows\system32>
</pre></blockquote>

<p>
Ten tijde van dit schrijven is Windows 7 nog niet officieel uitgebracht.
Het is raadzaam voor gebruikers om de documentatie en de website van
Microsoft te consulteren voor recente informatie.  Details kunnen zijn
veranderd.

<h3>Andere boot loaders</h3>

<p>
Enkele andere bootloaders die OpenBSD gebruikers met success gebruikt hebben,
zijn <a href="http://gag.sourceforge.net/">GAG</a>,
<a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>,
<a href="http://refit.sourceforge.net/">rEFIt</a>
en <a href="http://www.gnu.org/software/grub/">GRUB</a>. 

<p>
<h3>OpenBSD en Linux (i386)</h3>
<!-- XXXversion -->

<p>
Raadpleeg alstublieft
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.6/i386/INSTALL.linux">INSTALL.linux</a>,
dat diepgaande instructies geeft om OpenBSD samen met Linux te laten werken.

<h3>Problemen met tijdszone</h3>
OpenBSD verwacht dat de klok van de computer ingesteld is op UTC
(Universal Coordinated Time).
Sommige andere besturingssystemen verwachten dat de klok ingesteld is op
de lokale tijd.
Natuurlijk kan dit voor problemen zorgen als u beide besturingsysstemen
gebruikt op dezelfde computer.
Eén ervan zal waarschijnlijk moeten aangepast worden.
Meer informatie over hoe dit gedaan wordt vindt u in
<a href="faq8.html#TimeZone">FAQ 8 - Waarom staat mijn klok verschillende
uren verkeerd?</a>

<a name= "SendDmesg"></a>
<h2>4.10 - Uw dmesg naar dmesg@openbsd.org sturen na de installatie</h2>

<p>
Gewoon om mensen eraan te herinneren, het is belangrijk voor de OpenBSD
ontwikkelaars om bij te houden welke hardware werkt, en welke hardware
niet volkomen werkt, inclusief de hardware sensors die in machines
worden gevonden.

<p>
Een citaat uit /usr/src/etc/root/root.mail
<blockquote><pre>
If you wish to ensure that OpenBSD runs better on your machines, please do us
a favor (after you have your mail system configured!) and type something like:
 # (dmesg; sysctl hw.sensors) | \
        mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@openbsd.org
so that we can see what kinds of configurations people are running.  As shown,
including a bit of information about your machine in the subject or the body
can help us even further.  We will use this information to improve device driver
support in future releases.  (Please do this using the supplied GENERIC kernel,
not for a custom compiled kernel, unless you're unable to boot the GENERIC
kernel.  If you have a multi-processor machine, dmesg results of both GENERIC.MP
and GENERIC kernels are appreciated.)  The device driver information we get from
this helps us fix existing drivers. Thank you!
</pre></blockquote>

<p>
Zorg ervoor dat u e-mail stuurt vanaf een account die ook e-mail kan
ontvangen, zodat ontwikkelaars u kunnen contacteren als ze iets hebben dat
ze u graag willen laten uitproberen of veranderen om uw installatie te
laten werken. Het is helemaal niet belangrijk om de e-mail te versturen
vanop dezelfde machine die OpenBSD draait, dus als die machine geen e-mail
kan ontvangen doe dan gewoon

<pre>
$ (dmesg; sysctl hw.sensors) | mail your-account@yourmail.dom
</pre>
en forward dat bericht dan naar
<pre>
 dmesg@openbsd.org
</pre>
waarbij <tt>your-account@yourmail.dom</tt> uw vaste e-mail account is.

<p>
<b>OPMERKINGEN</b>

<ul>
<li>Stuur alstublieft alleen GENERIC kernel dmesg's.
Aangepaste kernels waarbij device drivers verwijderd zijn, zijn niet nuttig.
<li>Indien u een ondersteund multiprocessor systeem hebt en gewoonlijk de
GENERIC.MP kernel gebruikt, is het voor de ontwikkelaars nuttig om de dmesg
uitvoer van zowel de GENERIC als de GENERIC.MP kernel te zien, dus stuur
ze alstublieft allebei in afzonderlijke emails.
<li>De dmesg's worden ontvangen op een computer met het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd</a>
spam verwerpingssysteem.
Dit kan ervoor zorgen dat uw dmesg een tijd lang niet aanvaard wordt door de
mail servers.
Wees geduldig, na een halfuur tot een uur ofzo, zal hij er door komen.
</ul>

<p>
De bovenstaande methode is heel gemakkelijk, maar als u ervoor gekozen hebt
om mail op uw OpenBSD systeem niet te configureren, dan kunt u nog steeds
uw dmesg naar de ontwikkelaars sturen.
Bewaar uw dmesg uitvoer in een tekstbestand.

<pre>
$ (dmesg; sysctl hw.sensors) > ~/dmesg.txt
</pre>

Zet dit bestand dan over naar het systeem dat u normaal gebruikt voor email
(met FTP/scp/diskette/postduif/...).
Aangezien de dmesg uitvoer die u instuurt, automatisch verwerkt wordt,
controleert u best het volgende bij gebruik van alternatieve email
clients/systemen:
<ul>
<li>Configureer uw email client om berichten als vlakke tekst te versturen;
    gebruik geen HTML-geformatteerde email.
<li>Schakel gedwongen regelafbreking ("line break") uit.
    Veel email clients worden geconfigureerd om line breaks in te voegen na
    72 tekens (de norm voor mailinglijsten).
<li>Zorg ervoor dat uw email client berichten niet in "text-flow" nonsens
    formatteert.
<li>Stuur de dmesg uitvoer niet als bestand-bijvoegsel (attachment).
    Zet de dmesg uitvoer in het bericht zelf.
</ul>


<a name="AddFileSet"></a>
<h2>4.11 - Een bestandenset toevoegen na de installatie</h2>
<!-- XXXversion -->
"O nee!  Ik ben een bestandenset vergeten toe te voegen toen ik de installatie
deed!"
<p>
Soms realiseert u zich dat u tenslotte ECHT <tt>comp46.tgz</tt> (of gelijk
welke andere systeemcomponent) nodig had, maar u besefte dit niet op het
moment dat u uw systeem installeerde. Goed nieuws: Er zijn twee manieren om
bestandensets toe te voegen na de initiële installatie:

<h3>Met het upgrade proces</h3>
Boot eenvoudigweg uw installatiemedium (CD-ROM of Diskette), en kies Upgrade
(veeleer dan Install).  Wanneer u bij de lijst van bestandensets komt om te
installeren, kies dan de sets die u de eerste maal vergat te installeren,
kies uw bron, en laat het ze voor u installeren.

<h3>Met tar(1)</h3>
De installatiebestandensets zijn gewoon gecomprimeerde tar bestanden, en u
kunt ze handmatig uitpakken vanop de root van het bestandssysteem:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # cd /
  # tar xzvphf comp46.tgz
</pre></td></tr></table>

<p>
Vergeet NIET de <tt>'p'</tt> optie in het bovenstaande commando om de
bestandspermissies te herstellen zoals het moet!
<p>
Een vaak voorkomende fout is te denken dat men
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
kan gebruiken om ontbrekende bestandensets toe te voegen.  Dit werkt niet.
pkg_add(1) is de <a href="faq15.html#PkgMgmt">package beheer tool</a>
om third party software te installeren.
Het behandelt package bestanden, niet algemene tar bestanden zoals de
installatiesets.

<p>
Indien u voor het eerst de <tt>xbase</tt> bestandenset op uw systeem
installeert met tar(1) en zonder te herstarten, dan moet na de installatie
de shared library cache geüpdated worden met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldconfig&amp;sektion=8"
>ldconfig(8)</a>.
Om alle X libraries aan de cache toe te voegen:

<blockquote><pre>
# <b>ldconfig -m /usr/X11R6/lib</b>
</pre></blockquote>

Als alternatief kunt u gewoon uw systeem herstarten, en dan wordt dit
automatisch gedaan door het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8"
>rc(8)</a> opstartscript.


<a name="bsd.rd"></a>
<h2>4.12 - Wat is 'bsd.rd'?</h2>

<b><tt>bsd.rd</tt></b> is een "RAM Disk" kernel.  Dit bestand kan heel
nuttig zijn; veel ontwikkelaars letten er op om het in de root van hun
systeem te houden.

<p>
Het een "RAM Disk kernel" noemen, beschrijft het root bestandssysteem van
de kernel -- veeleer dan een fysische schijf te zijn, worden de utilities
beschikbaar na het starten van <tt>bsd.rd</tt> in de kernel opgeslagen, en
worden ze uitgevoerd vanaf een RAM-gebaseerd bestandssysteem.
<tt>bsd.rd</tt> bevat ook een gezonde reeks utilities om u toe te laten
systeemonderhoud en installatie te doen.

<p>
Op sommige platformen is <tt>bsd.rd</tt> is zowaar de
voorkeursinstallatietechniek -- u plaatst deze kernel op een bestaand
bestandssysteem, boot hem, en draait de installatie ervan. Op de meeste
platformen, als u een draaiende oudere versie van OpenBSD hebt, kunt u een
nieuwe versie van <tt>bsd.rd</tt> FTP'en, ervan herstarten, en een nieuwe
versie van OpenBSD installeren zonder ook maar enig verwijderbaar medium te
gebruiken.

<p>
Hier is een voorbeeld van het booten van <tt>bsd.rd</tt> op een i386 systeem:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Using Drive: 0 Partition: 3
  reading boot.....
  probing: pc0 com0 com1 apm mem[639k 255M a20=on]
  disk: fd0 hd0+
  &gt;&gt; OpenBSD/i386 BOOT 3.02
  boot&gt; <b>boot hd0a:/bsd.rd</b>
<i>. . . normal boot to install . . .</i>
</pre></td></tr></table>

Zoals aangegeven, zal u naar het installatieprogramma gebracht worden, maar u
kunt ook naar de shell gaan om onderhoud aan uw systeem uit te voeren.
<p>
De algemene regel over <tt>bsd.rd</tt> booten, is om uw boot kernel van
<tt>/bsd</tt> in <tt>bsd.rd</tt> te veranderen met gelijk welk middel
gebruikt op uw platform.


<a name="InstProb"></a>
<h2>4.13 - Vaak voorkomende installatieproblemen</h2>

<a name="cpq16m"></a>
<h3>4.13.1 - Mijn Compaq herkent slechts 16M RAM</h3>
<i>Sommige</i> Compaq systemen hebben een probleem waarbij de volledige
systeem-RAM niet juist gedetecteerd wordt door de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">OpenBSD
second stage boot loader</a>, en het kan zijn dat slechts 16M gedetecteerd
en gebruikt wordt door OpenBSD. Dit kan gecorrigeerd worden ofwel door een
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386"><tt>/etc/boot.conf</tt></a>
bestand aan te maken of aan te passen, ofwel door commando's op de
"<tt>boot></tt>" prompt in te geven voordat OpenBSD laadt.
Als u een machine had met 64M RAM, maar OpenBSD detecteerde alleen de
eerste 16M, dan zou het commando dat u zou gebruiken het volgende zijn:

<pre>
     machine mem +0x3000000@0x1000000
</pre>
om 48M (<tt>0x3000000</tt>) toe te voegen na de eerste 16M
(<tt>0x1000000</tt>).  Typisch zou u, als u een machine met dit probeem had,
het bovenstaande commando eerst op de
<tt>boot></tt> prompt van de installatie-diskette/CD-ROM ingeven,
het systeem laden, herstarten, en een <tt>/etc/boot.conf</tt> bestand maken
met de bovenstaande lijn er in, zodat alle toekomstige boots al het
beschikbare RAM herkennen.

<p>
Het werd ook gemeld dat een ROM update dit zal herstellen op <i>sommige</i>
systemen.

<a name="noboot"></a>
<h3>4.13.2 - Mijn i386 wil niet starten na de installatie</h3>
Uw installatie leek vlot te verlopen, maar bij de eerste start ziet u
geen teken van OpenBSD dat probeert te booten. Er zijn enkele veel
voorkomende redenen voor dit probleem:

<ul>
<li><b>Er werd geen partitie als actief gemarkeerd in fdisk(8).</b> Om dit
op te lossen, herstart u de machine met de bootdiskette of medium, en "flag"
de partitie als "active" (bootable).  Kijk
<a href="faq14.html#fdisk">hier</a> en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">hier</a>.

<li><b>Er werd nooit een geldige boot loader op de schijf gezet.</b>
Als u tijdens de installatie op "Enter" drukt of "w" antwoordt op de vraag
"Use (W)hole disk or (E)dit the MBR?", of de "<tt>reinit</tt>" optie van
fdisk(8) gebruikt , wordt de
OpenBSD boot record geïnstalleerd op de Master Boot Record van de schijf;
in het andere geval blijft de bestaande master boot code onaangeroerd. Dit
zal een probleem zijn als er geen andere boot record bestond.
Een oplossing is om het installatiemedium nog eens te booten, naar de shell
te gaan en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
te starten om de MBR code te updaten vanop de commandoregel:
<pre>
    # fdisk -u wd0
</pre>
Opmerking: de "update" optie in de interactieve ("-e") modus van fdisk
zal niet de signature bytes schrijven die vereist zijn om de schijf
bootable te maken.

<li><b>In enkele zeldzame gevallen kan er iets verkeerd gaan met de second
stage boot loader installatie.</b>  Het herinstalleren van de second stage
boot loader wordt <a href="faq14.html#InstBoot">hier</a> besproken.

</ul>

<a name="sshhang"></a>
<h3>4.13.3 - Mijn (oudere, tragere) machine startte, maar bleef hangen bij
de ssh-keygen stappen</h3>
Het is heel waarschijnlijk dat uw machine goed draait, maar gewoon wat tijd
nodig heeft om het ssh sleutelgeneratieproces te voltooien.
Een SPARCStation2 of een Macintosh Quadra kan <i>verscheidene uren</i>
nodig hebben om de drie
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
stappen te voltooien.
Laat het gewoon deze taak afwerken; dit wordt slechts éénmaal per
installatie gedaan.

<p>
Merk op dat de standaard sleutelgrootte verhoogd werd voor OpenBSD 3.8, dus de
generatietijden zijn langer dan vroeger.
Gebruikers van heel trage machines willen mogelijk hun sleutels genereren
op een andere computer, ze in een <a href="#site">site45.tgz</a> bestand
plaatsen, en ze installeren samen met de rest van de bestandensets.


<a name="noftplist"></a>
<h3>4.13.4 - Ik kreeg de boodschap "Failed to change directory" toen ik een
installatie deed</h3>

Wanneer u een FTP installatie van een
<a href="faq5.html#Flavors">snapshot</a> uitvoert tijdens de
<i>-beta</i> fase van de OpenBSD ontwikkelingscyclus,
zou u het volgende kunnen zien:

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>

  Display the list of known ftp servers? [no] <b>yes</b>
  Getting the list from 192.128.5.191 (ftp.openbsd.org)... FAILED
  Failed to change directory.
  Server IP address or hostname? 
</pre></td></tr></table>

Dit is normaal en te verwachten gedrag tijdens dit pre-release gedeelte van
de cyclus. Het installatieprogramma zoekt naar de FTP lijst op de primaire
FTP server in een directory die niet beschikbaar zal zijn tot op de
<a href="faq1.html#Next">release datum</a>, en daardoor krijgt u de
bovenstaande boodschap.

<p>
Gebruik gewoon de <a href="../../nl/ftp.html">FTP mirror lijst</a> en zoek uw
favoriete FTP mirror, en geef handmatig zijn naam in wanneer u er om
gevraagd wordt.

<p>
<b>Opemrking: U zou dit niet mogen zien als u <i>-release</i> installeert
of vanaf CD-ROM.</b>

<a name="blankfdisk"></a>
<h3>4.13.5 - Mijn fdisk partitietabel is vernield of blanco!</h3>
Af en toe zal een gebruiker zien dat een systeem werkt, maar bij het
uitvoeren van <tt>fdisk wd0</tt> zullen ze een volledig lege (of soms,
rommelige) partitietabel zien.
Dit wordt gewoonlijk veroorzaakt door in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
een partitie aan te maken die een offset van nul sectoren had, veeleer dan de
<a href="#trackoffset">one track offset</a> die ze zou moeten hebben
(opmerking: dit veronderstelt het <a href="../../i386.html">i386</a> of
<a href="../../amd64.html">amd64</a> platform.
Andere platformen hebben andere offset vereisten, sommige hebben GEEN offset
nodig).
Het systeem <a href="faq14.html#Boot386">boot</a> dan via de PBR, niet via
de MBR.

<p>
Hoewel deze configuratie kan werken, kan het een onderhoudsprobleem geven
en wordt het beter rechtgezet.
Om dit op te lossen, moeten de bestandssystemen van de schijf vanaf nul
hermaakt worden (hoewel u als u ECHT weet wat u doet, misschien enkel uw
disklabel en MBR kan hermaken, en enkel de eerste OpenBSD partitie op de
schijf moet herbouwen).

<a name="noflopcd"></a>
<h3>4.13.6 - Ik heb geen floppy of CD-ROM op mijn machine</h3>
Op sommige computers waar men OpenBSD op wil draaien ontbreekt iedere voor
de hand liggende manier om OpenBSD te installeren, omdat de floppy en CD-ROM
speler ontbreken.
De machine kan zijn ontworpen zonder ze (bijvoorbeeld veel laptops en "flash"
gebaseerde machines zoals Soekris en Alix systemen) of de bootapparaten zijn
defect geraakt of verwijderd en zijn moeilijk te vervangen.
Hier zijn wat tips en technieken die u kunt gebruiken om OpenBSD op
dergelijke machines geïnstalleerd te krijgen.
<ul>
<li>Netwerk boot, gebruikmakend van <a href="faq6.html#PXE">PXE</a> (i386 of
amd64) of
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless&amp;sektion=8">diskless(8)</a>
(overige platformen).

<li>Externe USB CD-ROM of USB floppy, als uw machine er van kan booten.

<li>USB Flash disk of harde schijf, wederom als uw machine kan booten van
een USB apparaat.
Prepareer het apparaat op een andere computer zoals beschreven in
<a href="faq14.html#flashmemLive">FAQ 14</a>.
Boot ervan, maar kies de bsd.rd kernel, installeer vervolgens zoals
gebruikelijk.
U kunt de file sets zelfs al vooraf op het flash medium zetten.

<li>In het ergste geval, als geen van bovenstaande punten werkt, kunt
u over het algemeen de schijf uit het doel-systeem halen, het met geschikte
adapters in een "normale" computer installeren, OpenBSD installeren en dan
de schijf terugplaatsen in het doel-systeem.
OpenBSD zal dan netjes booten in het doel-systeem, al is het zeer wel
mogelijk dat u de netwerkconfiguratie moet aanpassen.
U moet misschien ook <tt>/etc/fstab</tt>  aanpassen als u (bijvoorbeeld)
de installatie heeft gedaan met een USB->IDE/SATA adapter of uw doel- of
installatiemachine gebruikt
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&amp;sektion=4">ahci(4)</a>
en de ander niet.
DE en sommige SATA schijven worden normaal gesproken herkend als
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wd&amp;sektion=4">wd(4)</a>
apparaten, maar verschijnen als
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&amp;sektion=4">sd(4)</a>
als ze zijn aangesloten op een USB adapter.
Een SATA schijf die is aangesloten op een
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&amp;sektion=4">pciide(4)</a>
interface verschijnt als wd(4), maar aangesloten op een
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&amp;sektion=4">ahci(4)</a>
interface verschijnt deze als een sd(4) apparaat.
Als u het <tt>/etc/fstab</tt> bestand echter heeft gecorrigeerd, dan boot
het systeem meestal zonder problemen.

</ul>

Bedenk in alle gevallen dat de machine van te voren een OS geïnstalleerd had
en dat het in het algemeen de bedoeling was dat het OS opnieuw geïnstalleerd
kon worden in het veld.
Als u zich bedenkt hoe dat oorspronkelijk bedoeld was, dan geeft dat vaak
een goed idee hoe OpenBSD geïnstalleerd kan worden.


<a name="site"></a>
<h2>4.14 - Het installatieproces aanpassen</h2>
<!-- XXXversion -->

<h3><tt>siteXX.tgz</tt> bestand</h3>
De OpenBSD install/upgrade scripts laten de selectie toe van een door de
gebruiker gecreëerde set genaamd "<tt>siteXX.tgz</tt>", waarbij XX de
werkelijke release versie is (bv. 46).  De <tt>siteXX.tgz</tt> bestandenset
is, zoals de andere
<a href="#FilesNeeded">bestandensets</a>, een met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a>
gecomprimeerd
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
archief geroot in '/' en wordt geüntarred zoals de andere sets met de
opties <tt>xzphf</tt>.  Deze set zal als laatste geïnstalleerd worden,
na alle andere bestandensets.

<p>
Deze bestandenset laat de gebruiker toe om bestanden toe te voegen en/of
bestanden geïnstalleerd in de 'normale' sets te overschrijven en dus
de installatie of upgrade aan te passen.

<p>
U kunt ook hostname-specifieke installatiesets aanmaken en gebruiken
met de naam <tt>siteXX-<i>&&lt;hostname&gt;.tgz</i></tt>, bijvoorbeeld
"<tt>site46-puffy.tgz</tt>".
Dit laat gemakkelijke per-host aangepaste installaties, upgrades of
rampherstelling toe.

<p>
Enkele voorbeeldgebruiken van een <tt>siteXX.tgz</tt> bestand:
<ul>
<li>Maak een siteXX.tgz bestand aan dat alle bestandswijzigingen bevat die u
gemaakt hebt sinds u OpenBSD installeerde. Vervolgens, als u het systeem
opnieuw moet maken, selecteert u eenvoudigweg siteXX.tgz tijdens de
herinstallatie, en al uw wijziginen worden exact gekopieerd op het nieuwe
systeem.

<li>Maak een reeks machine-specifieke directories die elk een siteXX.tgz
bestand bevatten, dat wijzigingen specifiek voor die machinetypes bevat.
Installatie van machines (bv. computers met verschillende grafische kaarten)
uit een bepaalde categorie kunnen voltooid worden door het gepaste
siteXX.tgz bestand te selecteren.

<li>Zet de bestanden die u routinematig aanpast op dezelfde of op
gelijkaardige manier in een siteXX.tgz bestand --
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8"
><tt>/etc/skel</tt></a> bestanden,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5"
><tt>/etc/pf.conf</tt></a>, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8"
><tt>/var/www/conf/httpd.conf</tt></a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&amp;sektion=8"
><tt>/etc/rc.conf.local</tt></a>,
enz. 
</ul>

<h3><tt>install.site</tt>/<tt>upgrade.site</tt> scripts</h3>
Als laatste stap in het install/upgrade proces, zoeken de scripts in de root
directory van het zopas geïnstalleerde/geüpgraded systeem naar
<tt>install.site</tt> of <tt>upgrade.site</tt>, zoals gepast voor het huidige
proces, en voeren dit script uit in een omgeving
ge<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot</a>ed
naar de root van het geïnstalleerde/geüpgraded systeem. Onthou dat de
upgrade gebeurt vanaf een geboot bestandssysteem, dus uw doel-bestandssysteem
is eigenlijk gemount op <tt>/mnt</tt>.
Omwille van de chroot kan uw script echter geschreven
worden alsof het draait in de "normale" root van uw bestandssysteem.
Aangezien dit script uitgevoerd wordt nadat alle bestanden geïnstalleerd
zijn, hebt u veel van de functionaliteit van uw volledige systeem wanneer
uw script draait.
Denk er aan dat u een minimale kernel draait, dat niet alle mogelijkheden
beschikbaar zijn en vanwege ruimtebeperkingen kunnen dingen die vandaag werken
niet meer werken in een volgende release.

<p>
Merk op dat het <tt>install.site</tt> script in een
<tt>siteXX.tgz file</tt> zou moeten zitten, terwijl het <tt>upgrade.site</tt>
script ofwel in de root directory gezet kan worden vóór de
upgrade, ofwel in een <tt>siteXX.tgz</tt> bestand gezet kan worden.

<p>
De scripts kunnen gebruikt worden om vele dingen te doen:
<ul>
<li>Verwijderen van bestanden die geïnstalleerd/geüpgraded werden maar die
u niet aanwezig wenst op het systeem.
<li>Verwijderen/upgraden/installeren van
<a href="faq15.html#PkgMgmt">packages</a> die u op het geïnstalleerde
systeem wenst (werkt wellicht niet voor alle packages!).
<li> Maak een <a href="faq14.html#Backup">onmiddellijke backup/archief</a> van
het nieuwe systeem alvorens u het blootstelt aan de rest van de wereld.
<li>Gebruik
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate(8)</a>
om de systeemtijd in te stellen.
</ul>

<p>
De combinatie van <tt>siteXX.tgz</tt> en
<tt>install.site/upgrade.site</tt> bestanden is bedoeld om gebruikers brede
aanpasbaarheidsmogelijkheden te geven zonder hun eigen aangepaste
installatiesets te moeten bouwen.

<p>
Opmerking: als u uw installatie vanaf een http server uitvoert, zal u uw
<tt>site*.tgz</tt> bestand(en) aan het bestand <tt>index.txt</tt> in de
brondirectory moeten toevoegen, zodat ze als optie getoond worden op het
moment van installatie.
Dit is niet nodig voor FTP of andere installaties.


<a name="Multiple"></a>
<h2>4.15 - Hoe kan ik een aantal gelijkaardige systemen installeren?</h2>
Hier zijn enkele tools die u kunt gebruiken wanneer u een aantal
gelijkaardige OpenBSD systemen moet inzetten.

<h3><tt>siteXX.tgz</tt> en <tt>install/upgrade.site</tt> bestanden</h3>
Kijk naar het <a href="#site">bovenstaande</a> fragment.

<h3>Restore van dump(8)</h3>
Op de meeste platformen bevat het bootmedium het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>
programma, dat kan gebruikt worden om een backup te herstellen gemaakt door
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a>.
Dus, u zou kunnen booten vanaf een
<a href="#MkFlop">diskette</a>, 
<a href="../../nl/orders.html">CD</a>, of
<a href="#bsd.rd">bsd.rd</a> bestand, vervolgens
<a href="faq14.html#fdisk">fdisk</a>,
<a href="faq14.html#disklabel">disklabel</a>, en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore</a>
de gewenste configuratie vanaf tape of andere media, en de
<a href="faq14.html#InstBoot">boot blocks</a> installeren. Meer details 
<a href="faq14.html#Backup">hier</a>.

<h3>Disk imaging</h3>
Jammer genoeg zijn er geen gekende disk imaging pakketten die FFS
ondersteunen en een image kunnen maken die alleen de actieve bestandenruimte
bevat.
De meeste grote disk imaging oplossingen zullen een OpenBSD partitie als een
"generic" partitie behandelen, en kunnen een image van de hele schijf maken.
Dit vervult vaak uw doel, maar gewoonlijk met enorme hoeveelheden verspilde
ruimte -- een lege 10G <tt>/home</tt> partitie zal 10G ruimte verspillen in
de image, ook al zit er geen enkel bestand in. Hoewel u typisch een
schijf-image naar een grotere schijf kan installeren, zal u de extra ruimte
niet meteen kunnen gebruiken, en zal u een image niet kunnen installeren
naar een kleinere schijf.

<p>
Als dit een aanvaardbare situatie is, vindt u misschien dat het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd</a>
commando zal doen wat u nodig hebt, het zal u toelaten de ene schijf
sector-voor-sector naar de andere te kopiëren.
Dit zou dezelfde functionaliteit bieden als commerciële programma's
maar dan zonder de kosten.

<a name="getdmesg"></a>
<h2>4.16 - Hoe kan ik een dmesg(8) bekomen om een installatieprobleem te melden?</h2>
Wanneer u een <a href="../../nl/report.html">probleem meldt</a>, is het van belang
de volledige
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>
van het systeem bij te voegen.
Wanneer u dit moet doen, is het echter vaak omdat het systeem niet naar
behoren werkt of niet wil installeren, dus u hebt misschien geen schijf,
netwerk of andere middelen die u nodig hebt om de dmesg naar de gepaste
<a href="../../nl/mail.html">mailinglijst</a> te krijgen. Er zijn echter andere
manieren:

<ul>
<li><b>Diskette:</b>  De bootdiskettes en CD-ROM hebben voldoende tools
om u uw dmesg te laten optekenen op een MSDOS diskette om op een
andere machine uit te lezen. Plaats een MSDOS geformatteerde diskette in uw
diskettestation en voer de volgende commando's uit:

<pre>
     mount -t msdos /dev/fd0a /mnt
     dmesg >/mnt/dmesg.txt
     umount /mnt
</pre>
Als u een ander OpenBSD systeem hebt, kunt u het ook naar een
OpenBSD-compatibele diskette schrijven -- vaak heeft de bootdiskette genoeg
ruimte om de dmesg op te zetten. In dat geval laat u de
"<tt>-t msdos</tt>" van hierboven achterwege.

<p>
<li><b>Seriële Console:</b>
Een seriële console gebruiken en de uitvoer op een andere computer vangen
is vaak de beste manier om diagnose-informatie te vangen - vooral als de
computer meteen na de start een panic geeft.
U zal zowel een tweede computer als een geschikte seriële kabel
(vaak een null-modem kabel) nodig hebben, en een terminal emulatieprogramma
dat schermuitvoer naar een bestand kan vangen.

<p>
Algemene informatie over het opzetten van een seriële console vindt u
<a href="faq7.html#SerCon">elders in de FAQ</a>;
om een log van de installatie te vangen, volstaan gewoonlijk de volgende
commando's.

<p><b>i386</b>

<p>
Geef op de boot loader prompt in:

<p>
<blockquote>
<pre>
boot> <b>set tty com0</b>
</pre>
</blockquote>

<p>
Dit zal OpenBSD zeggen de eerste seriële poort (vaak COM1 of COMA
genoemd in PC documentatie) te gebruiken als seriële console.
De standaard baudsnelheid is 9600.

<p><b>Sparc/Sparc64</b>

<p>
Deze machines zullen automatisch een seriële console gebruiken als ze
gestart worden zonder dat er een toetsenbord aanwezig is.
Als er een toetsenbord en monitor aan hangen, kunt u het systeem nog steeds
dwingen om een seriële console te gebruiken met de volgende aanroep op
de <tt>ok</tt> prompt.

<p>
<blockquote>
<pre>
ok <b>setenv input-device ttya</b>
ok <b>setenv output-device ttya</b>
ok <b>reset</b>
</pre>
</blockquote>

</ul>
<p>

<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq3.html">[Naar Sectie 3 - Beginnen met OpenBSD]</a>
<a href= "faq5.html">[Naar Sectie 5 - Het Systeem vanaf Broncode Bouwen]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[terug]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq4.html,v 1.295 ]<br>
$Translation: faq4.html,v 1.83 2010/03/08 18:21:29 maurice Exp $<br>
-->
$OpenBSD: faq4.html,v 1.72 2010/03/09 08:43:35 ajacoutot Exp $
</small>
</body>
</html>
