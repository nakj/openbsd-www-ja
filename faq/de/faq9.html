<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>9 - Zu OpenBSD migrieren</title>
<link rev="made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2007 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../de/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq8.html">[Zum Kapitel 8 - Allgemeine Fragen]</a>
<a href= "faq10.html">[Zum Kapitel 10 - Systemverwaltung]</a>
</font>

<h1><font color="#e00000">9 - Zu OpenBSD migrieren</font></h1>
<hr>

<p>
<h3>Inhaltsverzeichnis</h3>
<ul>
<li><a href= "#Introduction">9.1 - Tipps für Benutzer von anderen
    Unix-ähnlichen Betriebssystemen</a>
<li><a href= "#DualBoot">9.2 - Dualboot von Linux und OpenBSD</a>
<li><a href= "#passwd">9.3 - Deine Linux- (oder andere
    Sixth-Edition-artige) Passwortdatei nach BSD konvertieren.</a>
<li><a href= "#Interact">9.4 - Linux-Binarys unter OpenBSD ausführen</a>
<li><a href= "#Ext2FS">9.5 - Von OpenBSD aus auf deine Linuxdateien
    zugreifen</a>
</ul>

Weitere Informationen für Linux-Benutzer gibt es auf <a
href="http://sites.inka.de/mips/unix/bsdlinux.html"
>http://sites.inka.de/mips/unix/bsdlinux.html</a>.
<hr>
<br>


<p>
<a name= "Linux"></a>
<a name="Introduction"></a>
<h2>9.1 - Tipps für Benutzer von anderen Unix-ähnlichen
Betriebssystemen</h2>

<p>
Während OpenBSD ein sehr traditionelles Unix-ähnliches Betriebssystem
ist und daher sehr vertraut für diejenigen ist, die bisher schon andere
Unix-ähnliche Betriebssysteme verwendet haben, gibt es einige wichtige
Unterschiede.
Neue Benutzer von OpenBSD müssen ihre eigene Erfahrung einschätzen:
Wenn deine Erfahrung mit Unix aus dem Experimentieren mit einigen
Varianten von Linux besteht, wirst du OpenBSD als »merkwürdig« empfinden.
Im Übrigen wirkt Linux recht merkwürdig auf jene, die mit OpenBSD
angefangen haben.
Du musst den Unterschied zwischen »Standard« und deiner Erfahrung
erkennen.

<p>
Wenn du Unix durch einige der <a href="../../de/books.html">guten
Bücher</a> gelernt hast, die generell über Unix handeln, die
»Unix-Philosophie« verstanden hast und dann dein Wissen auf eine
bestimmte Plattform erweitert hast, wirst du OpenBSD als ein sehr
»wahres« und vertrautes Unix wahrnehmen. Wenn du Unix durch einen
»Tippe dies ein um das zu machen«-Prozess oder durch
ein Buch wie zum Beispiel »Lerne PinkBeenie v8.3 in 31,4 Stunden« und
dir selbst dann eingeredet hast, dass du »Unix kennst«, wirst du sehr
wahrscheinlich OpenBSD als völlig anders ansehen.

<p>
Ein sehr wichtiger Unterschied zwischen OpenBSD und vielen anderen
Betriebssystemen ist die Dokumentation. OpenBSD-Entwickler sind sehr
stolz auf die System-<a href="http://www.openbsd.org/cgi-bin/man.cgi"
>Manualseiten</a>. Die Manualseiten sind <i>die</i> maßgebliche Quelle
der OpenBSD-Dokumentation - nicht diese FAQ, nicht von unabhängigen
weiteren Personen verwaltete Seiten, nicht »HOWTOs« etc.
Wenn Entwickler eine Änderung am System durchführen, wird von
ihnen erwartet, dass sie die Manualseiten neben ihren Änderungen
aktualisieren: nicht erst später, nicht erst wenn sie dafür Zeit finden
oder wenn sich jemand beschwert. Eine Manualseite existiert für so
gut wie jedes Programm, Treiber, Konfigurationsdatei und so weiter aus
dem Basissystem.
Es wird erwartet, dass der Benutzer die Manualseiten durchsucht, bevor er
in den <a href="../../de/mail.html">Mailinglisten</a> nach Hilfe fragt.

<p>
Hier sind einige häufig aufgefallene Unterschiede zwischen OpenBSD und
anderen Unix-Varianten.

<ul>
<li>OpenBSD ist ein recht pures BSD-artiges Unix, das dem 4.4BSD-Design
sehr genau folgt. Linux und SCO Unix sind System-V-artige Systeme.
Einige Unix-ähnliche Systeme (dazu zählen auch einige
Linux-Distributionen) mixen einige SysV- und BSD-Charakteristiken.
Ein typischer Platz, wo dies Verwirrung hervorruft, ist bei den
<a href="faq10.html#rc">Startskripten</a> - OpenBSD verwendet den
traditionellen BSD4.4-artigen <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8"
>rc(8)</a>-Stil.

<li>OpenBSD ist ein vollständiges <i>System</i>, dessen Absicht es ist,
synchron gehalten zu werden. Es ist nicht ein »Kernel mit Anwendungen«,
die separat voneinander aktualisiert werden können.
Fehlschläge, dein System (Kernel, Benutzeranwendungen und Programme)
synchron zu halten, resultieren in schlimmen Dingen, die passieren werden.

<li>Da viele Applikationen nicht dafür entwickelt worden sind, direkt
in einer OpenBSD-Umgebung zu kompilieren und ausgeführt zu werden,
hat OpenBSD einen <a href="faq15.html#Ports">Ports-Tree</a>, ein System
in dem Benutzer auf einfachem Wege Code beziehen, diesen für
OpenBSD patchen, Abhängigkeiten installieren, ihn kompilieren,
installieren und auf einem standardisierten und verwaltbaren Weg
deinstallieren können. Vorkompilierte
<a href="faq15.html#PkgMgmt">Packages</a> werden vom OpenBSD-Portsteam
erstellt und zur Verfügung gestellt.
Benutzer werden <a href="faq15.html#PkgVsPorts">gebeten</a>, diese
Packages zu benutzen, statt ihre eigenen zu kompilieren.

<li>OpenBSD verwendet CVS, um die Änderungen am Quelltext zu verwalten.
OpenBSD leistete Pionierarbeit für <a href="../../de/anoncvs.html">Anonymous
CVS</a>, welches es jedermann ermöglicht, den kompletten Source-Tree
für jegliche Version von OpenBSD (von 2.0 bis Current und alle
Revisionen von allen Dateien zwischen ihnen) jederzeit zu extrahieren und
du kannst auf die aktuellsten Änderungen zugreifen - innerhalb von Stunden
nach deren Einbindung.
Es gibt auch ein sehr bequemes und einfach zu benutzendes
<a href="http://www.openbsd.org/cgi-bin/cvsweb/">Webinterface zum CVS</a>.

<li>OpenBSD produziert alle sechs Monate ein offizielles Release,
das auf <a href="../../de/orders.html">CD</a> und über
<a href="../../de/ftp.html">FTP</a> verfügbar ist - so wie es unser
<a href="faq1.html#Next">vordefinierter Zeitplan</a> vorsieht.
Snapshots für alle unterstützten Plattformen werden semiregulär
mit dem aktuellen Entwicklungscode erstellt.
Es ist das Ziel, dass der Source-Tree jederzeit vollständig erzeugbar und
das resultierende System nutzbar ist.
Der Tree ist gelegentlich kaputt, aber dies ist ein ungewöhnlicher
Vorfall, der schnell behoben wird und nicht etwas ist, dessen Fortsetzung
geduldet wird.

<li>OpenBSD beinhaltet <a href="../../de/crypto.html">starke
Kryptographie</a>, die nicht in Betriebssysteme eingefügt werden können,
die in einigen Ländern entwickelt werden.

<li>OpenBSD wurde schweren und kontinuierlichen Sicherheitsüberprüfungen
unterzogen, um die Qualität (und daher Sicherheit) des Codes zu
gewährleisten.

<li>OpenBSDs Kernel ist <tt>/bsd</tt>.

<li>Der Name der Festplatten ist gewöhnlicherweise <tt>/dev/wd</tt>
(IDE) und <tt>/dev/sd</tt> (SCSI oder Geräte, die SCSI-Platten
emulieren).

<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8"
>/sbin/route</a> mit keinen Argumenten gibt unter Linux den Status von
allen aktiven Routen aus. Unter OpenBSD (und vielen anderen
Betriebssystemen) benötigst du den Parameter <i>show</i>. Du kannst
alternativ dazu auch »<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1"
><tt>netstat -r</tt></a>«
ausführen.

<li>OpenBSD unterstützt KEINE Journaling-Dateisysteme wie ReiserFS, IBMs
JFS oder SGIs XFS.  Stattdessen verwenden wir die
<a href="faq14.html#SoftUpdates">Softupdates</a>-Funktion
des bereits sehr robusten Unix Fast File Systems (FFS), um die
Ziele der Geschwindigkeit und Stabilität zu erreichen.

<li>OpenBSD wird mit <a href="../pf/de/index.html">Packet Filter
(PF)</a> (nicht mit ipfw, ipchains, netfilter, iptables oder ipf)
ausgeliefert. Das bedeutet, dass Network Address Translation
(als IP-Masquerading unter Linux bekannt), Queuing und die Filterung
durch <a
href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8"
>pfctl(8)</a>, <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4"
>pf(4)</a> und <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5"
>pf.conf(5)</a> ausgeführt werden.
Lies das <a href="../pf/de/index.html">PF-Benutzerhandbuch</a> für
detaillierte Konfigurationsinformationen.

<li>Die Interfaceadresse ist in <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&amp;sektion=5"
>/etc/hostname.&lt;interfacename&gt;</a>
gespeichert (z.&nbsp;B. <tt>/etc/hostname.dc0</tt> für eine Netzwerkkarte,
die die <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=4"
>dc(4)</a>-Treiber verwendet).
In ihr können Hostnamen (aufgelöst in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5">/etc/hosts</a>)
statt einer IP-Adresse stehen.

<li>Der Maschinenname steht in <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=myname&amp;sektion=5"
>/etc/myname</a>.

<li>Das standardmäßige Gateway wird in <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mygate&amp;sektion=5"
>/etc/mygate</a> vermerkt.

<li>OpenBSDs standardmäßige Shell ist <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1"
>/bin/ksh</a> (dabei handelt es sich um <a
href="http://web.cs.mun.ca/~michael/pdksh/">pdksh</a>, die
»Public Domain Korn Shell«). Andere eingefügte Shells sind <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh</a>
und <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh</a>.
Shells wie zum Beispiel <i>bash</i> oder <i>tcsh</i> können als
<a href="faq15.html#PkgMgmt">Package</a> oder aus den
<a href="faq15.html#Ports">Ports</a> installiert werden.
Benutzern, die <i>bash</i> gewohnt sind, wird geraten,
<a href="faq10.html#ksh">ksh(1) auszuprobieren</a>, bevor sie sich
<i>bash</i> auf ihre System laden - es macht das, was die meisten Leute
von der <i>bash</i> erwarten.

<li>Passwortverwaltung unter OpenBSD ist anders als die Passwortverwaltung
unter einigen anderen Unix-ähnlichen Betriebssystemen.
Das tatsächliche Passwort wird in der Datei <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=master.passwd&amp;sektion=5"
>master.passwd(5)</a> gespeichert, welche nur von <i>root</i> gelesen
werden kann. Diese Datei sollte nur mit dem Programm <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8"
>vipw</a> geändert werden.

<li>Devices werden nach dem Treiber benannt - nicht nach dem Typ. Zum
Beispiel gibt es keine eth*-Devices. Es wäre ne0 für eine
NE2000-Netzwerkkarte oder xl0 für eine 3Com Etherlink XL oder einer
Fast-Etherlink-XL-Netzwerkkarte etc. Alle diese Treiber haben
Manualseiten in der Sektion 4. Um also mehr Informationen über die
Nachrichten zu erfahren, die dein 3c905-Treiber ausspuckt, kannst du
»<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xl&amp;sektion=4"
>man 4 xl</a></tt>« ausführen.

<li>OpenBSD/i386, amd64 und einige andere Plattformen verwenden ein
zweischichtiges Plattenpartitionierungssystem, bei dem die erste
Schicht die <a href="faq14.html#fdisk">fdisk</a>-Partition ist (BIOS-sichtbar),
die den meisten IBM-kompatiblen Computerbenutzern bekannt
ist, die zweite Schicht das <a href="faq14.html#disklabel">Disklabel</a>,
ein traditionelles BSD-Partitionierungssystem.
OpenBSD unterstützt bis zu 15 Disklabel-Partitionen auf einer Platte,
die alle in einer fdisk-Partition liegen.
Dies erlaubt OpenBSD neben anderen Betriebssystemen zu existieren, zu
denen auch andere Unix-ähnliche Betriebssysteme zählen.
OpenBSD muss auf einer der vier primären Partitionen installiert werden.

<li>Einige andere Betriebssysteme erwarten, dass du deinen Kernel für
deine Maschine anpasst.
Von OpenBSD-Benutzern wird <a href="faq5.html#Why">erwartet</a>, dass sie
einfach den standardmäßigen GENERIC-Kernel verwenden, der von
den Entwicklern bereitgestellt und getestet wurde. Benutzer, die
versuchen, ihren Kernel anzupassen oder zu optimieren, verursachen
normalerweise mehr Probleme als sie lösen und werden von den Entwicklern
nicht unterstützt.

<li>OpenBSD arbeitet hart daran, die <a href="../../de/policy.html"
>Lizenzbestimmungen</a> und <a href="../../de/security.html"
>Sicherheit</a> des Projektes aufrecht zu erhalten. Aus diesem Grund
werden einige neue Versionen von bestimmten Softwareprodukten, die
entweder der Lizenz oder den Sicherheitszielen des Projektes nicht
entsprechen, noch nicht oder niemals in OpenBSD integriert.
Sicherheit und freie Lizenzen werden niemals nach hinten gestellt, um die
größte Versionsnummer zu haben.

</ul>

<p>
<a name= "DualBoot"></a>
<h2>9.2 - Dualboot von Linux und OpenBSD</h2>

<p>
Ja! Es ist möglich!

<p>
Lies <a href= "ftp://ftp.openbsd.org/pub/OpenBSD/4.4/i386/INSTALL.linux"
>INSTALL.linux</a>.

<p>
<a name= "passwd"></a>
<h2>9.3 - Deine Linux- (oder andere Sixth-Edition-artige) Passwortdatei
nach BSD konvertieren.</h2>

<p>
Finde zuerst heraus, ob deine Linux-Passwortdatei mit Shadow arbeitet
oder nicht. Wenn ja, installiere
<a href="http://www.openwall.com/john/">John the Ripper</a>
aus den <a href="faq15.html">Packages oder Ports</a>
(<tt>security/john</tt>) und benutze das Werkzeug unshadow, das darin
enthalten ist, um deine <tt>passwd</tt>- und <tt>shadow</tt>-Datei in
eine Sixth-Edition-artige Datei umzuwandeln.

<p>
In deiner Linux-Passwortdatei (wir nennen sie <tt>linux_passwd</tt>)
musst du nun ::0:0 zwischen den Feldern 4 und 7 einfügen.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a>
kann das für dich erledigen.

<blockquote>
<pre>
# <b>cat linux_passwd | awk -F : '{printf("%s:%s:%s:%s::0:0:%s:%s:%s\n", \</b>
&gt; <b>$1,$2,$3,$4,$5,$6,$7); }' &gt; new_passwd</b>
</pre>
</blockquote>

An diesem Punkt angelangt, solltest du jetzt die <tt>new_passwd</tt>-Datei
ändern und root und andere Systemeinträge löschen, die bereits in deiner
OpenBSD-Passwortdatei enthalten sind, oder die es in OpenBSD gar nicht
gibt (und zwar alle davon). Stelle auch sicher, dass es keine doppelten
Usernamen oder User-IDs zwischen <tt>new_passwd</tt> und dem
<tt>/etc/passwd</tt> auf deiner OpenBSD-Rechner gibt. Der einfachste
Weg ist, einfach mit einer frischen <tt>/etc/passwd</tt> anzufangen.

<blockquote>
<pre>
# <b>cat new_passwd &gt;&gt; /etc/master.passwd</b>
# <b>pwd_mkdb -p /etc/master.passwd</b>
</pre>
</blockquote>

Der letzte Schritt (<tt>pwd_mkdb</tt>) ist notwendig, um die /etc/spwd.db-
und /etc/pwd.db-Dateien neu zu erzeugen. Es erzeugt auch eine
Sixth-Edition-artige Passwortdatei (ohne verschlüsselte Passwörter)
unter /etc/passwd für die Programme, die darauf zugreifen.
OpenBSD benutzt eine stärkere Verschlüsselung für Passwörter (nämlich
Blowfish), die man wohl kaum auf Systemen mit vollständig
Sixth-Edition-artigen Passwortdateien finden wird. Um zu dieser
stärkeren Verschlüsselung zu wechseln, müssen die Benutzer einfach passwd
aufrufen (bzw. tippen) und ihr Passwort ändern. Das neu eingegebene
Passwort wird mit deiner Standardeinstellung verschlüsselt (normalerweise
Blowfish - es sei denn, du hast /etc/login.conf verändert). Oder du
machst es als <i>root</i> mit <tt>passwd <i>Benutzername</i></tt>.


<p>
<a name= "Interact"></a>
<h2>9.4 - Linux-Binarys unter OpenBSD ausführen</h2>

<p>
OpenBSD/i386 ist in der Lage, Linux-Binarys auszuführen, wenn der Kernel
mit der COMPAT_LINUX-Option kompiliert und die Sysctl
kern.emul.linux zur Laufzeit gesetzt ist. Wenn du den GENERIC-Kernel
verwendest (den du verwenden solltest), ist COMPAT_LINUX bereits
aktiviert und du musst nur noch Folgendes tun:

<blockquote>
<pre>
# <b>sysctl kern.emul.linux=1</b>
</pre>
</blockquote>

Damit dies automatisch jedes Mal ausgeführt wird, wenn der Computer
bootet, entferne das #-Zeichen (Kommentar) am Anfang der Zeile

<blockquote>
<pre>
#kern.emul.linux=1      # enable running Linux binaries
</pre>
</blockquote>

in /etc/sysctl.conf, sodass die Zeile wie folgt aussieht:

<blockquote>
<pre>
kern.emul.linux=1       # enable running Linux binaries
</pre>
</blockquote>

Starte dein System neu, damit die Änderung wirksam wird.

<p>
Um Linux-Binarys zum Laufen zu bringen, die nicht statisch gelinkt sind
(und die meisten sind es nicht), solltest du den Anweisungen auf der
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a>-Manualseite
folgen.

<p>
Ein einfacher Weg, die meisten nützlichen Linux-Bibliotheken zu beziehen,
ist <tt>fedora/base</tt> als Package vom nächstliegenden
FTP-Server zu installieren. Um mehr über das Package- und das
Ports-System zu erfahren, lies einfach <a href="faq15.html">FAQ 15 - Das
Packages- und Portssystem von OpenBSD</a>.
Um das oben erwähnte Package zu installieren, würdest du Folgendes
aufrufen:

<blockquote><pre>
# export PKG_PATH=ftp://your.ftp.mirror/pub/OpenBSD/4.4/packages/i386/
# pkg_add fedora_base
</pre></blockquote>

Beachte, dass <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1"
>pkg_add(1)</a> automatisch sysctl ausführt, um kern.emul.linux auf den
korrekten Wert zu setzen, wenn dieses Package hinzugefügt wird. Es
ändert jedoch nicht <tt>/etc/sysct.conf</tt>, so dass du kern.emul.linux
dort manuell ändern musst, damit die Linuxemulation bei jedem
Systemstart aktiviert wird.


<p>
<a name= "Ext2FS"></a>
<h2>9.5 - Von OpenBSD aus auf deine Linuxdateien zugreifen</h2>

<p>
OpenBSD unterstützt das EXT2FS-Dateisystem.
Lies <a href="faq14.html#foreignfs">FAQ 14</a> für weitere
Informationen.


<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ-Index]</a>
<a href= "faq8.html">[Zum Kapitel 8 - Allgemeine Fragen]</a>
<a href= "faq10.html">[Zum Kapitel 10 - Systemverwaltung]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>
<!--
Originally [OpenBSD: faq9.html,v 1.91 ]<br>
$Translation: faq9.html,v 1.71 2008/10/31 19:20:42 simon Exp $<br>
-->
$OpenBSD: faq9.html,v 1.71 2008/11/01 11:02:21 tobias Exp $
</small>
</body>
</html>
