<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>2 - Apprendre à connaître OpenBSD</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 1998-2009 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color="#0000e0">
<a href="index.html">[Index de la FAQ]</a>
<a href="faq1.html">[Section 1 - Introduction à OpenBSD]</a>
<a href="faq3.html">[Section 3 - Démarrer avec OpenBSD]</a>
</font>

<h1><font color="#e00000">2 - Apprendre à connaître OpenBSD</font></h1>
<!-- UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC

<hr>
<p>
<b><font color="#e00000">Remarque Importante :</font></b> Le contenu de
   ce fichier est obsolète. Consultez la version anglaise 
   <a href="../faq2.html">ici</a> pour des informations à jour.

<p>
Si vous souhaitez contribuez à l'effort de traduction,
prière de consulter
<a href="../../fr/translation.html">la page de traduction</a>.

-->
<hr>

<p>
<h3>Table des matières</h3>
<ul>
<li><a href="#WebSites" >2.1 - Pages Web intéressantes</a>
<li><a href="#MailLists">2.2 - Listes de discussion</a>
<li><a href="#ManPages" >2.3 - Pages de manuel</a>
<li><a href="#Bugs"     >2.4 - Rapporter les bugs</a>
</ul>
<hr>


<p>
<a name="WebSites"></a>
<h2>2.1 - Pages Web intéressantes</h2>

<p>
Le site officiel pour le projet OpenBSD se trouve à l'adresse :
<a href= "http://www.openbsd.org">http://www.OpenBSD.org</a>.


<p>
Beaucoup d'informations utiles s'y trouvent en ce qui concerne tous les
aspects du projet OpenBSD.


<p>
L'<a href="http://www.undeadly.org">OpenBSD Journal</a> est un site de
nouvelles et d'opinions autour d'OpenBSD.

<p>
<a href="http://www.openbsdsupport.org/">OpenBSDsupport.org</a> regroupe
de la documentation maintenue par des utilisateurs et de qualité
variable, mais qui a le mérite de couvrir des sujets ne faisant pas
partie de la présente FAQ ou de toute autre documentation officielle.

<p>
Plusieurs utilisateurs ont mis en place des sites et des pages avec des
informations spécifiques à OpenBSD. Un bon moteur de recherche vous
facilitera la vie, comme le fera aussi une dose raisonnable de
scepticisme. Comme d'habitude, n'utilisez pas aveuglément des commandes
que vous ne comprenez pas.

<p>
<a name="MailLists"></a>
<h2>2.2 - Listes de discussion</h2>

<p>
Le projet OpenBSD maintient plusieurs listes de discussion auxquelles
les utilisateurs peuvent s'inscrire. Pour s'inscrire à une liste, il
suffit d'envoyer un message à
<a href="mailto:majordomo@openbsd.org">majordomo@openbsd.org</a>. Cette
adresse correspond à un service d'inscription automatique. Dans le corps
du message, sur une seule ligne, vous devez inclure une commande
d'inscription pour la liste désirée. Par exemple :

<blockquote>
<pre>
<strong>subscribe announce</strong>
</pre>
</blockquote>

<p>
Le gestionnaire automatique de la liste vous répondra, pour obtenir une
confirmation de votre part afin que d'autres personnes ne vous
inscrivent pas à une avalanche de courriel non sollicité. Le message
contiendra des instructions sur différentes méthodes de confirmation, y
compris un lien vers la page web du
<a href="http://lists.openbsd.org">serveur de listes</a>, la
réponse au message de confirmation ou la réponse à
<tt>majordomo@openbsd.org</tt>. Utilisez la méthode qui vous convient.
Il est à noter que les trois techniques précitées impliquent un
identifiant unique et limité dans le temps, tel que <tt>A56D-70D4-52C3</tt>,
encore une fois pour s'assurer que <i>vous</i> êtes réellement
la personne qui a demandé l'inscription à la liste de diffusion (c'est
le <i>vrai</i> "opt-in").

<p>
Une fois que vous avez confirmé votre intention de vous joindre à la
liste, vous serez immédiatement ajouté à celle-ci, et le service vous
l'indiquera.

<p>
Pour se désabonner d'une liste, il vous faut encore envoyer un message à
<a href= "mailto:majordomo@openbsd.org">majordomo@openbsd.org</a>. 
Cela ressemblera à :

<blockquote>
<pre>
<strong>unsubscribe announce</strong>
</pre>
</blockquote>

<p>
Si vous avez des difficultés avec le système des listes de discussion,
veuillez d'abord lire le fichier d'aide qui peut être obtenu en envoyant
un message à
<a href= "mailto:majordomo@openbsd.org">majordomo@openbsd.org</a> avec
dans le corps de celui-ci : "help".

<p>
Votre inscription aux listes de diffusion OpenBSD peut aussi être
maintenue à travers l'interface Web disponible à l'adresse
<a href="http://lists.openbsd.org">http://lists.openbsd.org</a>

<p>

Parmi les listes de discussions les plus populaires, on peut citer :

<p>
<ul>
  <li><b>announce</b> - Annonces importantes. Il s'agit d'une liste à
         faible débit.
  <li><b>security-announce</b> - Annonces des problèmes de sécurité.
         Il s'agit d'une liste à faible débit.
  <li><b>misc</b> - Questions et réponses générales d'utilisateurs.
         C'est la liste la plus active et elle devrait être la liste par
         "défaut" pour la plupart des questions.
  <li><b>bugs</b> - Bugs reçus par l'intermédiaire de sendbug(1) et
         discussions à leur sujet.
  <li><b>source-changes</b> - Liste recevant automatiquement les modifications
         apportées à l'arbre des sources CVS.  Dès qu'un développeur modifie
         ("commit") l'arbre des sources d'OpenBSD,
         <a href="../../fr/why-cvs.html">CVS</a> envoie une copie
         (généralement brève) de son message "commit" à cette liste.
  <li><b>ports</b> - Discussions à propos de l'arbre des ports OpenBSD.
  <li><b>ports-changes</b> - Liste recevant automatiquement les modifications
         apportées à l'arbre des sources CVS qui concernent les ports.
  <li><b>advocacy</b> - Discussions sur la promotion d'OpenBSD et les messages
         hors-sujet dans <b>misc</b>...
</ul> 

<p>
Avant d'envoyer une question à <b>misc</b> ou toute autre liste de
diffusion, parcourez les archives, pour y voir les questions fréquemment
posées. Bien que cela puisse être la première fois que
vous rencontrez un problème ou que vous avez une question, les autres
participants de la liste peuvent avoir vu la même question plusieurs
fois en plusieurs semaines et peuvent ne pas apprécier de la voir, une
fois encore. Si votre question concerne du matériel, <i>envoyez toujours
un
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8"
>dmesg(8)</a> !</i>

<p>
Vous pouvez consulter plusieurs archives, d'autres lignes de conduite
relatives aux listes de diffusion ainsi que d'autres informations dans
la <a href="../../fr/mail.html">page des listes de diffusion</a>.

<p>
Une liste de diffusion non officielle qui pourrait intéresser les
nouveaux utilisateurs d'OpenBSD et d'Unix est la liste appelée
<a href="http://mailman.theapt.org/listinfo/openbsd-newbies">OpenBSD Newbies</a>. 

<p> 
<a name="ManPages"></a>
<h2>2.3 - Pages de manuel</h2>

<p>
OpenBSD est fourni avec une abondante documentation sous la forme de
pages de manuel, ainsi que d'autres documents relatifs à des
applications spécifiques. Un effort considérable est fourni pour
s'assurer que les pages de manuel sont à jour et correctes. Dans tous
les cas, celles-ci sont à considérer comme la source faisant
autorité concernant les informations sur OpenBSD.

<p>
<!-- XXXrelease -->
Pour accéder aux pages du man ainsi qu'au reste de la documentation,
assurez-vous d'avoir installé les tarballs <tt>man46.tgz</tt> et
<tt>misc46.tgz</tt> de
l'<a href="faq4.html#FilesNeeded">ensembles des fichiers</a>.

<p>
Voici une liste des pages de manuel les plus utiles pour les nouveaux
utilisateurs :

<p>

<b>Débutants</b>
<ul>
<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a></b> 
- les choses à vérifier après le premier redémarrage complet.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=help&amp;sektion=1">help(1)</a></b> 
- aide pour les nouveaux utilisateurs et administrateurs. 

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hier&amp;sektion=7">hier(7)</a></b>
- agencement des systèmes de fichiers.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=man&amp;sektion=1">man(1)</a></b>
- affiche les pages de manuel.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=1">intro(1)</a></b>
- introduction aux commandes générales, voir aussi les introductions aux
  autres sections de manuel :
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=2">intro(2)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=3">intro(3)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=4&amp;arch=i386">intro(4)</a>
(remarque : intro(4) est spécifique à chaque
<a href="../../fr/plat.html">plate-forme</a>),
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=5">intro(5)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=6">intro(6)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=7">intro(7)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=8">intro(8)</a>
et
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=intro&amp;sektion=9">intro(9)</a>.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8"
  >adduser(8)</a></b> - commande pour ajouter de nouveaux utilisateurs.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8"
  >vipw(8)</a></b> - édite le fichier de mots de passe principal.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8"
  >disklabel(8)</a></b> - lecture et écriture du disklabel.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=reboot&amp;sektion=8"
  >reboot, halt(8)</a></b> - arrêt et redémarrage du système.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=shutdown&amp;sektion=8"
  >shutdown(8)</a></b> - arrêt du système à un temps donné.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8"
  >dmesg(8)</a></b> - réaffichage des messages de démarrage du noyau.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8"
  >sudo(8)</a></b> - exécuter des commandes en root mais sans se loguer en root.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1"
                >mg(1)</a></b> - éditeur de texte fonctionnant comme emacs.

</ul>

<b>Pour des utilisateurs plus avancés</b>
<ul>
<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386"
  >boot(8)</a></b> - procédures de bootstrapping système.

<li><b>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot_config&amp;sektion=8"
>boot_config(8)</a></b> - comment changer la configuration du noyau au
boot.

<li><b>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1"
>gcc-local(1)</a></b> - modifications spécifiques à OpenBSD pour
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8"
>ifconfig(8)</a></b> - configure les paramètres de l'interface réseau.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5"
>login.conf(5)</a></b> - format du fichier de configuration des classes de connexion.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion1"
>netstat(1)</a></b> - affiche le statut du réseau.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8"
>release(8)</a></b> - compile et prépare une distribution OpenBSD.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&amp;sektion=1"
>sendbug(1)</a></b> - envoi d'un rapport de bogues (PR) sur OpenBSD à
un site central.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=style&amp;sektion=9"
>style(9)</a></b> - guide de style pour le code source du noyau OpenBSD.

<li><b><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8"
>sysctl(8)</a></b> - obtenir ou paramétrer des états noyau.
</ul>

<p>
 <!-- XXXrelease -->
Vous pouvez trouver toutes les pages de manuel OpenBSD sur le web à l'adresse
<a href="http://www.openbsd.org/cgi-bin/man.cgi">http://www.openbsd.org/cgi-bin/man.cgi</a>
ainsi que sur votre ordinateur si vous installez l'archive de fichiers
<tt>man46.tgz</tt>.


<p>
En général, si vous connaissez le nom d'une commande ou d'une page de
manuel, vous pouvez la lire en tapant <kbd>"man commande"</kbd>. Par
exemple : <kbd>"man vi"</kbd> pour obtenir la page de manuel de
l'éditeur vi. Si vous ne connaissez pas le nom d'une commande ou si
<kbd>"man commande"</kbd> ne trouve pas la page de manuel vous pouvez
chercher dans la base de données des pages de manuel en tapant
<kbd>`apropos quelque_chose'</kbd> ou <kbd>"man -k quelque_chose"</kbd>,
où "quelque_chose" est une expression qui a des chances d'apparaître
dans le titre de la page de manuel que vous recherchez. Par exemple :

<blockquote>
<pre>
# <strong>apropos "time zone"</strong>
tzfile (5) - time zone information
zdump (8) - time zone dumper
zic (8) - time zone compiler
</pre>
</blockquote>

<p>
Le numéro entre parenthèses indique la section de manuel dans laquelle
cette page a été trouvée. Dans certains cas, vous pourrez trouver des
pages de manuel avec des noms identiques dans différentes sections du
manuel. Par exemple, supposons que vous souhaitiez connaître le format
des fichiers de configuration du service cron. Une fois que vous
connaissez la section de manuel pour la page que vous recherchez, tapez
<kbd>"man n commande"</kbd>, où n est le numéro de la section
correspondante.

<blockquote>
<pre>
# <strong>man -k cron</strong>
cron (8) - clock daemon 
crontab (1) - maintain crontab files for individual users
crontab (5) - tables for driving cron
# <strong>man 5 crontab</strong>
</pre>
</blockquote>

<p>
<!-- XXXrelease -->
En plus des pages de manuel UNIX, il existe une documentation imprimable
(inclue dans le jeu de fichiers <tt>misc46.tgz</tt>). Celle-ci se trouve
dans le répertoire <tt>/usr/share/doc</tt>. Vous pouvez formater chacune
des parties de la documentation avec un "make" dans le répertoire
correspondant. Le répertoire <tt>psd</tt> contient le document
"Programmer's Supplementary Documents". Le répertoire
<tt>smm</tt> contient le document "System Manager's Manual". Le
répertoire <tt>usd</tt> contient le document "UNIX User's
Supplementary Documents". Vous pouvez effectuer votre "<tt>make</tt>" dans les
trois sous répertoires ou vous pouvez sélectionner une section spécifique d'un
document et faire le `make' dans le répertoire correspondant.

<p>
Certaines parties sont vides. Par défaut, les documents seront formatés
au format PostScript, utilisable pour l'impression. La taille de la
sortie PostScript peut-être importante (attendez-vous à une augmentation
de volume de l'ordre de 250-300%). Si vous n'avez pas accès à une
imprimante PostScript (ou à un visualiseur PostScript), vous pouvez
toujours formater les documents de façon à les lire sur un terminal.
Chaque sous-répertoire à documents possède une cible de compilation
pour compiler des copies ASCII de ces documents (appelés `paper.txt')
qui peuvent être générés avec
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>.
Par exemple :

<blockquote>
<pre>
# <strong>cd /usr/share/doc/usd/04.csh</strong>
# <strong>make paper.txt</strong>
# <strong>more paper.txt</strong>
</pre>
</blockquote>

<p>
Les privilèges super-utilisateur peuvent être nécessaires pour compiler
les documents dans ces répertoires. Un <strong>make clean</strong> aura
pour effet de supprimer tous les documents générés par un make
précédent. Veuillez consulter /usr/share/doc/README pour plus de détails
concernant les documents présents dans /usr/share/doc/.

<p>
Les pages de manuel UNIX sont généralement plus à jour que les documents
imprimables. Mais ceux-ci peuvent expliquer des applications complexes
avec plus de détails que ne le font les pages de manuel.

<p>
Il est utile pour bon nombre de personnes de disposer d'une version papier
d'une page de manuel. Voici les indications pour obtenir une version
imprimable d'une page de manuel.

<h3>Comment est-ce que j'affiche le code source d'une page de manuel
    (par exemple, un de ces fichiers finissant par un numéro,
    comme tcpdump.8) ?</h3>

<p>
On les trouve dans les sources. Les pages de manuel non formatées se
trouvent dans les sources et elles seront souvent mises à jour par
l'utilisation de <a href="../../fr/anoncvs.html">CVS</a>. Pour les
visualiser, il faut juste taper :


<blockquote>
<pre>
# <b>nroff -Tascii -mandoc &lt;file&gt; | more</b>
</pre>
</blockquote>

<h3>Comment est-ce que j'obtiens une page de manuel sans
    caractères de contrôle ou de formatage ?</h3>

<p>
Il est utile d'obtenir une page de manuel sans caractères non
imprimables.<br>
Exemple :

<blockquote>
<pre>
# <b>man &lt;command&gt; | col -b</b>
</pre>
</blockquote>

<h3>Comment puis-je obtenir une copie PostScript d'une page de manuel
    ?</h3>

<p>
Remarquez que <tt>&lt;file&gt;</tt> doit être le fichier source de la
page de manuel (certainement un fichier finissant par un numéro comme
<tt>tcpdump.8</tt>). Les versions PostScript des pages de manuel ont une
belle apparence. Elles peuvent être imprimées ou visualisées à l'aide
d'un programme comme gv (GhostView). GhostView est disponible dans notre
<a href="../fr/faq15.html">collection de Paquetages</a>. Utilisez les
options suivantes de la commande
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nroff&amp;sektion=1">nroff(1)</a>
pour obtenir une version PostScript à partir d'une page de manuel
système d'OpenBSD :

<blockquote>
<pre>
# <b>nroff -Tps -mandoc &lt;file&gt; &gt; outfile.ps</b>
</pre>
</blockquote>

<h3>Comment générer des copies compressées des pages de manuel ?</h3>

<p>
Pour les personnes qui compilent leur système à partir des sources, il
existe un certain nombre d'options permettant de contrôler la manière
dont les pages de manuel sont construites. Ces options figurent dans
/etc/mk.conf (il peut être nécessaire de créer ce fichier) et sont
incluses durant les compilations système. Une option particulièrement
utile permet de générer des pages de manuel compressées pour économiser
de l'espace disque. Celles-ci peuvent être consultées de la manière
habituelle avec la commande man. Pour cela, ajoutez la ligne suivante à
<tt>/etc/mk.conf</tt> :

<blockquote>
<pre>
MANZ=yes
</pre>
</blockquote>

Une autre option utile permet de générer les pages de manuel aux formats
PostScript et ASCII. Cette option, <tt>MANPS=yes</tt>, est à ajouter dans
/etc/mk.conf. Voir
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mk.conf&amp;sektion=5">mk.conf(5)</a>
pour plus de détails.

<h3>Que sont les fichiers info ?</h3>

<p>
Une partie de la documentation d'OpenBSD est sous la forme de fichiers
info. Ces fichiers se trouvent typiquement sous
<tt>/usr/share/info</tt>. C'est une forme de documentation alternative
fournie par GNU. Plusieurs fichiers info sont plus à jour que les pages
de manuel fournis par GNU et peuvent être visualisés à l'aide de la
commande
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=info&amp;sektion=1">info(1)</a>.
Par exemple, pour voir les informations sur le compilateur GNU,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a>,
tapez :

<blockquote>
<pre>
# <b>info gcc</b>
</pre>
</blockquote>

Après avoir utilisé info, vous allez vraiment apprécier nos pages de
manuel !

<h3>Comment afficher les pages de manuel en couleur dans un XTerm ?</h3>

<p>
Le fichier de configuration par défaut de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a>
n'affiche pas les pages de manuel en couleur. Afin d'avoir un affichage
couleur, copiez le fichier <tt>/etc/X11/app-defaults/XTerm-color</tt>
dans votre répertoire personnel et renommez-le en "<tt>.Xdefaults</tt>".
Veillez à ne pas écraser un paramétrage particulier dans
"<tt>.Xdefaults</tt>". Ce fichier contient tous les paramètres dont vous
aurez besoin pour activer les couleurs sous XTerm. Cependant, trois
lignes doivent être décommentées auparavant :

<blockquote>
<pre>
!*VT100*colorULMode: on
!*VT100*underLine: off
!*VT100*colorBDMode: on
</pre>
</blockquote>

Le reste du fichier permet de choisir les couleurs pour plusieurs
paramètres. Les lignes applicables aux pages de manuel sont :

<blockquote>
<pre>
*VT100*colorUL: yellow
*VT100*colorBD: white
</pre>
</blockquote>

Ce qui produit des pages de manuel avec une couleur infernale, adaptez-la
à votre convenance : pouvons nous nous permettre de suggérer rouge pour
"colorUL" et magenta pour "colorBD" ?

Il existe aussi un afficheur de pages de manuel sous X11,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xman&amp;sektion=1">xman(1)</a>,
qui fournit une interface alternative (graphique) aux pages de manuel.
Consultez les pages de manuel de xterm et xman pour plus d'informations.

<h3>Comment écrire ma propre page de manuel ?</h3>

<p>
Si vous souhaitez écrire votre propre page de manuel pour une
application que vous avez écrite, un tutorial est fourni dans
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc.samples&amp;sektion=7">mdoc.samples(7)</a>.
Il existe aussi un guide de référence bien pratique dans
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mdoc&amp;sektion=7">mdoc(7)</a>.

<p>
<a name="Bugs"></a>
<h2>2.4 - Rapporter les bugs</h2>

Avant de crier "Au bug!", merci de bien vouloir vous assurer que c'est
réellement le cas.
Par contre, si vous ne comprenez pas comment telle ou telle chose est
implémentée par OpenBSD ou comment elle fonctionne, et vous ne trouvez
pas comment résoudre le problème à l'aide des <a href="#ManPages">pages
de manuel</a> ou du site OpenBSD, utilisez les
<a href="#MailLists">listes de discussion</a> (généralement
misc@openbsd.org) pour demander de l'aide. Si c'est votre première
expérience avec OpenBSD, soyez réaliste : vous n'avez probablement pas
découvert un bug inconnu. Notez aussi que du matériel défectueux peut
mimer un bug logiciel. Alors prenez le temps de vérifier l'état de votre
matériel avant de décider que vous avez trouvé un "bug".

<p>
Finalement, avant de soumettre un rapport de bug, merci de lire
<a href= "../../fr/report.html">http://www.openbsd.org/fr/report.html
</a>.


<p>
Faire un rapport de bug correct est l'une des plus grandes
responsabilités conférée aux utilisateurs. Des
informations très détaillées sont
nécessaires pour diagnostiquer les bugs les plus sérieux.
Les développeurs reçoivent fréquemment des rapports de
bugs par mail du style :

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre> 
From: joeuser@example.com
To: bugs@openbsd.org
Subject: HELP!!!

I have a PC and it won't boot!!!!! It's a 486!!!!!
</pre>
</td>
</tr>
</table>


<p>
Heureusement la plupart des gens savent que de tels rapports sont
rapidement effacés. Tous les rapports de bugs doivent contenir
des informations détaillées. Si Joe User souhaite que son
bug soit corrigé, il faudrait que son rapport ressemble à
ça :

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
From: smartuser@example.com
To: bugs@openbsd.org
Subject: 3.3-beta panics on a SPARCStation2 

OpenBSD 3.2 installed from an official CD-ROM installed and ran fine
on this machine.

After doing a clean install of 3.3-beta from an FTP mirror, I find the
system randomly panics after a period of use, and predictably and
quickly when starting X.

This is the dmesg output:
 
OpenBSD 3.3-beta (GENERIC) #9: Mon Mar 17 12:37:18 MST 2003
    deraadt@sparc.openbsd.org:/usr/src/sys/arch/sparc/compile/GENERIC
real mem = 67002368
avail mem = 59125760
using 200 buffers containing 3346432 bytes of memory
bootpath: /sbus@1,f8000000/esp@0,800000/sd@1,0
mainbus0 (root): SUNW,Sun 4/75
cpu0 at mainbus0: CY7C601 @ 40 MHz, TMS390C602A FPU; cache chip bug
- trap page uncached
cpu0: 64K byte write-through, 32 bytes/line, hw flush cache enabled
memreg0 at mainbus0 ioaddr 0xf4000000
clock0 at mainbus0 ioaddr 0xf2000000: mk48t02 (eeprom)
timer0 at mainbus0 ioaddr 0xf3000000 delay constant 17
auxreg0 at mainbus0 ioaddr 0xf7400003
zs0 at mainbus0 ioaddr 0xf1000000 pri 12, softpri 6
zstty0 at zs0 channel 0 (console i/o)
zstty1 at zs0 channel 1
zs1 at mainbus0 ioaddr 0xf0000000 pri 12, softpri 6
zskbd0 at zs1 channel 0: reset timeout
zskbd0: no keyboard
zstty2 at zs1 channel 1: mouse
audioamd0 at mainbus0 ioaddr 0xf7201000 pri 13, softpri 4
audio0 at audioamd0
sbus0 at mainbus0 ioaddr 0xf8000000: clock = 20 MHz
dma0 at sbus0 slot 0 offset 0x400000: rev 1+
esp0 at sbus0 slot 0 offset 0x800000 pri 3: ESP100A, 25MHz, SCSI ID 7
scsibus0 at esp0: 8 targets
sd0 at scsibus0 targ 1 lun 0: &lt;SEAGATE, ST1480 SUN0424, 8628&gt; SCSI2 0/direct fixed
sd0: 411MB, 1476 cyl, 9 head, 63 sec, 512 bytes/sec, 843284 sec total
sd1 at scsibus0 targ 3 lun 0: &lt;COMPAQPC, DCAS-32160, S65A&gt; SCSI2 0/direct fixed
sd1: 2006MB, 8188 cyl, 3 head, 167 sec, 512 bytes/sec, 4110000 sec total
le0 at sbus0 slot 0 offset 0xc00000 pri 5: address 08:00:20:13:10:b9
le0: 16 receive buffers, 4 transmit buffers
cgsix0 at sbus0 slot 1 offset 0x0: SUNW,501-2325, 1152x900, rev 11
wsdisplay0 at cgsix0
wsdisplay0: screen 0 added (std, sun emulation)
fdc0 at mainbus0 ioaddr 0xf7200000 pri 11, softpri 4: chip 82072
fd0 at fdc0 drive 0: 1.44MB 80 cyl, 2 head, 18 sec
root on sd0a
rootdev=0x700 rrootdev=0x1100 rawdev=0x1102


This is the panic I got when attempting to start X:

panic: pool_get(mclpl): free list modified: magic=78746572; page 0xfaa93000;
 item addr 0xfaa93000
Stopped at      Debugger+0x4:   jmpl            [%o7 + 0x8], %g0
RUN AT LEAST 'trace' AND 'ps' AND INCLUDE OUTPUT WHEN REPORTING THIS PANIC!
DO NOT EVEN BOTHER REPORTING THIS WITHOUT INCLUDING THAT INFORMATION!
ddb> trace
pool_get(0xfaa93000, 0x22, 0x0, 0x1000, 0x102, 0x0) at pool_get+0x2c0
sosend(0x16, 0xf828d800, 0x0, 0xf83b0900, 0x0, 0x0) at sosend+0x608
soo_write(0xfac0bf50, 0xfac0bf70, 0xfac9be28, 0xfab93190, 0xf8078f24, 0x0)
at soo_write+0x18
dofilewritev(0x0, 0xc, 0xfac0bf50, 0xf7fff198, 0x1, 0xfac0bf70) at
dofilewritev+0x12c
sys_writev(0xfac87508, 0xfac9bf28, 0xfac9bf20, 0xf80765c8, 0x1000, 0xfac0bf70)
at sys_writev+0x50
syscall(0x79, 0xfac9bfb0, 0x0, 0x154, 0xfcffffff, 0xf829dea0) at syscall+0x220
slowtrap(0xc, 0xf7fff198, 0x1, 0x154, 0x1, 0xfac87508) at slowtrap+0x1d8
ddb> ps
   PID   PPID   PGRP    UID  S       FLAGS  WAIT       COMMAND
 27765   8819  29550      0  3        0x86  netio      xconsole
  1668  29550  29550      0  3      0x4086  poll       fvwm
 15447  29550  29550      0  3     0x44186  poll       xterm
  8819  29550  29550     35  3      0x4186  poll       xconsole
  1238  29550  29550      0  3      0x4086  poll       xclock
 29550  25616  29550      0  3      0x4086  pause      sh
  1024  25523  25523      0  3     0x40184  netio      XFree86
*25523  25616  25523     35  2     0x44104             XFree86
 25616  30876  30876      0  3      0x4086  wait       xinit
 30876  16977  30876      0  3      0x4086  pause      sh
 16977      1  16977      0  3      0x4086  ttyin      csh
  5360      1   5360      0  3        0x84  select     cron
 14701      1  14701      0  3     0x40184  select     sendmail
 12617      1  12617      0  3        0x84  select     sshd
 27515      1  27515      0  3       0x184  select     inetd
  1904      1   1904      0  2        0x84             syslogd
  9125      1   9125      0  3        0x84  poll       dhclient
     7      0      0      0  3    0x100204  crypto_wa  crypto
     6      0      0      0  3    0x100204  aiodoned   aiodoned
     5      0      0      0  3    0x100204  syncer     update
     4      0      0      0  3    0x100204  cleaner    cleaner
     3      0      0      0  3    0x100204  reaper     reaper
     2      0      0      0  3    0x100204  pgdaemon   pagedaemon
     1      0      1      0  3      0x4084  wait       init
     0     -1      0      0  3     0x80204  scheduler  swapper

Thank you!
</pre>
</td>
</tr>
</table>

<p>
Consultez <a href="../../fr/report.html">report.html</a> concernant la
manière de créer et d'envoyer des rapports des bogues. Des informations
détaillées à propos de votre matériel sont nécessaires si vous pensez
que le bogue peut être, <i>de quelque manière que se soit</i>, lié à
votre matériel ou à sa configuration. Habituellement, un
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a> 
est suffisant. Une description détaillée de votre problème est
nécessaire. Vous remarquerez que le dmesg décrit le matériel, le texte
explique pourquoi Smart User pense que son système n'est pas défectueux
(3.2 fonctionnait convenablement), comment ce "crash" était causé (en
démarrant X), et inclut le détail des commandes "<tt>ps</tt>" et
"<tt>trace</tt>" afin de permettre aux développeurs de déboguer. Dans ce
cas, Smart User a fourni ces détails capturés via une
<a href="faq7.html#SerCon">console série</a>, si vous ne savez pas le faire,
vous pouvez utiliser une feuille et un stylo afin de retranscrire le "crash".
(L'exemple ci-dessus était un problème réel qui affectait les systèmes sun4c, et les
informations fournies dans le précédant rapport ont aidé à le résoudre).

<p>
Si notre ami Smart User possède un système OpenBSD fonctionnel et qu'il
veut soumettre un rapport de bug, il peut le faire en utilisant
l'utilitaire
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&amp;sektion=1">sendbug(1)</a>
qui enverra le rapport au système de suivi des bugs GNATS. Évidemment,
vous ne pouvez utiliser
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&amp;sektion=1">sendbug(1)</a>
si votre système ne démarre pas mais utilisez-le dès que c'est possible.
Vous aurez toujours à inclure des informations détaillées sur ce qui
s'est passé, la configuration de votre système et comment reproduire le
problème. La commande
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&amp;sektion=1">sendbug(1)</a>
nécessite que votre système puisse envoyer des messages électroniques
sur l'Internet. Notez que le serveur de messagerie utilise la
fonctionnalité "greylisting" de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a>.
Il peut alors s'écouler jusqu'à une demi-heure avant que le serveur de
messagerie n'accepte votre rapport. Soyez donc patient.

<p>
Après avoir envoyé un rapport de bogue via sendbug(1),
vous serez averti de son état par e-mail. Vous pourrez être contacté par les
développeurs pour fournir de plus amples informations ou tester des correctifs.
Vous pouvez également consulter les archives de la liste de
diffusion <tt>bugs@openbsd.org</tt>, de plus amples informations se trouvant
sur la <a href="../../fr/mail.html">page des listes de discussion</a>,
ou consulter la base de données des rapports de bogues en ligne sur
notre
<a href="../../query-pr.html">Système de Consultation des Bogues</a>.

<h3>Comment fournir plus d'informations utiles aux développeurs</h3>
Voici quelques astuces supplémentaires :

<p>
<b>Vous avez perdu le "Panic message" ?</b><br>
Dans certaines conditions, vous pouvez perdre le tout premier message
d'une panique système, et il s'agit de celui qui donne la raison de la
panique. Ce message est très important, vous devez donc l'inclure dans
votre rapport. Vous pouvez le retrouver en utilisant la commande "show
panic" dans ddb> comme suit :
<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
ddb> <b>show panic</b>
0:      kernel: page fault trap, code=0
ddb> 
</pre></td></tr></table>
<p>
Dans ce cas, le message fût "Kernel: page fault trap, code=0".

<p>
<b>Remarque pour les systèmes SMP :</b><br>
Vous devez obtenir une "trace" pour chaque processeur et les insérer
dans votre rapport :

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
ddb{0}> <b>trace</b>   
pool_get(d05e7c20,0,dab19ef8,d0169414,80) at pool_get+0x226
fxp_add_rfabuf(d0a62000,d3c12b00,dab19f10,dab19f10) at
fxp_add_rfabuf+0xa5
fxp_intr(d0a62000) at fxp_intr+0x1e7
Xintr_ioapic0() at Xintr_ioapic0+0x6d
--- interrupt ---
idle_loop+0x21:
ddb{0}> <b>machine ddb 1</b>
Stopped at      Debugger+0x4:   leave
ddb{1}> <b>trace</b>
Debugger(d0319e28,d05ff5a0,dab1bee8,d031cc6e,d0a61800) at Debugger+0x4
i386_ipi_db(d0a61800,d05ff5a0,dab1bef8,d01eb997) at i386_ipi_db+0xb
i386_ipi_handler(b0,d05f0058,dab10010,d01d0010,dab10010) at
i386_ipi_handler+0x
4a
Xintripi() at Xintripi+0x47
--- interrupt ---
i386_softintlock(0,58,dab10010,dab10010,d01e0010) at
i386_softintlock+0x37
Xintrltimer() at Xintrltimer+0x47
--- interrupt ---
idle_loop+0x21:
ddb{1}> 
</pre></td></tr></table>

<p>
Répétez la commande "<tt>machine ddb x</tt>" suivie de "<tt>trace</tt>"
pour chaque processeur de votre machine.
<p>
 
<h3>Comment récupérer des informations d'un crash du noyau.</h3><p>
Un crash du noyau typique sur OpenBSD ressemble à cela :
(les choses à regarder sont en gras dans le texte)<p>
  
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
kernel: page fault trap, code=0
Stopped at    <b>_pf_route+0x263</b>:        mov     0x40(%edi),%edx
ddb&gt;
</pre></td></tr></table><p>

La première commande à exécuter du prompt ddb> est "trace"
(voir <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb">ddb(4)</a>
pour plus de détails):<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
ddb&gt; trace
<b>_pf_route</b>(e28cb7e4,e28bc978,2,1fad,d0b8b120) at
<b>_pf_route+0x263</b>
_pf_test(2,1f4ad,e28cb7e4,b4c1) at _pf_test+0x706
_pf_route(e28cbb00,e28bc978,2,d0a65440,d0b8b120) at _pf_route+0x207
_pf_test(2,d0a65440,e28cbb00,d023c282) at _pf_test+0x706
_ip_output(d0b6a200,0,0,0,0) at _ip_output+0xb67
_icmp_send(d0b6a200,0,1,a012) at _icmp_send+0x57
_icmp_reflect(d0b6a200,0,1,0,3) at _icmp_reflect+0x26b
_icmp_input(d0b6a200,14,0,0,d0b6a200) at _icmp_input+0x42c
_ipv4_input(d0b6a200,e289f140,d0a489e0,e289f140) at _ipv4_input+0x6eb
_ipintr(10,10,e289f140,e289f140,e28cbd38) at _ipintr+0x8d
Bad frame pointer: 0xe28cbcac
ddb&gt; 
</pre></td></tr></table><p>

Cela nous informe de la fonction qui nous a conduit au crash.<p>

Pour retrouver précisement la ligne de code C qui a causé le crash, vous
pouvez faire les choses suivantes :<br>
Trouvez le fichier source ou la fonction qui a crashé a été definie.
Dans cet exemple, cela doit être pf_route() dans sys/net/pf.c.
Recompilez le fichier source avec les informations de deboggage :<p>

<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
# cd /usr/src/sys/arch/$(uname -m)/compile/GENERIC/
# rm pf.o
# DEBUG=-g make pf.o
</pre></td></tr></table><p>
Puis utilisez <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=objdump">
objdump(1)</a> pour avoir le désassemblage :<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
# objdump --line --disassemble --reloc pf.o &gt;pf.dis
</pre></td></tr></table><p>

Sur la sortie, un grep sur le nom de la fonction (pf_route dans notre
exemple) :<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
# grep "&lt;_pf_route&gt;:" pf.dis
0000<b>7d88</b> &lt;_pf_route&gt;:
</pre></td></tr></table><p>

Prenez le premier nombre hexadécimal et ajoutez l'offset de la ligne 'Stopped at' :
<b>0x7d88</b> + <b>0x263</b> == <b>0x7feb</b>.<br>
Allez vers cette ligne (l'instruction assembleur doit correspondre à celle de
la ligne 'Stopped at'), puis sur le numéro de ligne C le plus proche :<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
# more pf.dis
/usr/src/sys/arch/i386/compile/GENERIC/../../../../net/pf.c:<b>3872</b>
    7fe7:       0f b7 43 02             movzwl 0x2(%ebx),%eax
    <b>7feb</b>:       8b 57 40                mov    0x40(%edi),%edx
    7fee:       39 d0                   cmp    %edx,%eax
    7ff0:       0f 87 92 00 00 00       ja     8088 &lt;_pf_route+0x300&gt;
</pre></td></tr></table><p>

Dans notre cas, c'est précisement la ligne <b>3872</b> de pf.c qui crash :<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
# cat -n pf.c | head -n 3872 | tail -n 1
3872          if ((u_int16_t)ip-&gt;ip_len &lt;= ifp-&gt;if_mtu) {
</pre></td></tr></table><p>

Il faut remarquer que le noyau qui produit la sortie du crash et le fichier
objet pour objdump doivent être compilés avec les mêmes fichiers sources,
sinon l'offset ne correspondra pas.<p>

Si vous fournissez aussi bien la sortie de ddb> trace et la section objdump
correspondante, c'est trés utile. 

<p>
<font color="#0000e0">
<a href= "index.html">[Index de la FAQ]</a>
<a href= "faq1.html">[Section 1 - Introduction à OpenBSD]</a>
<a href= "faq3.html">[Section 3 - Démarrer avec OpenBSD]</a>
</font>

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../images/back.gif" border="0" alt="[retour]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small> 
<!--
Originally [OpenBSD: faq2.html,v 1.104 ]<br>
$Translation: faq2.html,v 1.73 2009/12/09 06:12:46 benoit Exp $<br> 
-->
$OpenBSD: faq2.html,v 1.63 2009/12/09 08:30:06 ajacoutot Exp $ 
</small> 

</body>
</html>
