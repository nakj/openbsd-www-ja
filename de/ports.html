<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="The OpenBSD Ports and Packages Collection">
<meta name="keywords" content="openbsd,ports">
<meta name="distribution" content="global">
<meta name="copyright" content="copyright 1997-2008 by OpenBSD.">
<title>OpenBSD-Ports und -Packages</title>
<link rev="made" href="mailto:www@openbsd.org">
</head>

<body text="#000000" bgcolor="#FFFFFF" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>

<h2><font color="#e00000">Die Ports- u. Packages-Kollektion</font></h2>

<hr>

<h3><font color="#0000e0">Inhaltsverzeichnis</font></h3>
<ul>
<li><a href="#Motivation">Motivation</a></li>
<li><a href="#Get">Wo man Packages herbekommt</a></li>
<li><a href="#stable">Ports- und Packagesupdate für eine
    OpenBSD-Version</a></li>
<li><a href="#Manage">Installierte Packages verwalten</a></li>
<li><a href="#Use">Ports benutzen</a></li>
<li><a href="#Life">Der Lebenszyklus des Ports-Trees</a></li>
<li><a href="#X">Ports und das X Window System</a></li>
<li><a href="#Example">Beispielbenutzung des Ports-Trees</a></li>
<li><a href="#Advanced">Der Ports-Tree für Fortgeschrittene</a></li>
<li><a href="#Create">Neue Ports erstellen</a></li>
<li><a href="#Lag">Wenn ein Port der Mainstream-Version
    hinterherhinkt</a></li>
<li><a href="#Help">Probleme und Kontakte</a></li>
</ul>

<hr>

<h3><font color="#0000e0"><a
name="Motivation">Motivation</a></font></h3>

OpenBSD ist für sich schon ein ziemlich komplettes System, aber es gibt
trotzdem noch eine Menge Software, die man vielleicht gerne trotzdem
zusätzlich haben möchte. Leider gibt es da das Problem, wo die Grenze
zu ziehen ist: was soll noch dabei sein, genauso wie die gelegentlich
auftretenden Export- oder Lizenzbeschränkungen. Da OpenBSD als einzelnes
Unix-artiges Betriebssystem gedacht ist, können einige Dinge einfach gar
nicht Teil des Systems sein, wenn es ausgeliefert wird.

<p>
<strong><font color="#e00000">
Die Ports- u. Packages-Kollektion wird KEINER Sicherheitsuntersuchung
unterzogen, wie es beim OpenBSD-Basissystem der Fall ist. Obwohl wir uns
bemühen, die Qualität der Packages hoch zu halten, haben wir doch einfach
nicht genügend Manpower, um den gleichen Level an Robustheit und
Sicherheit sicherzustellen.
</font></strong>

<p>
Die anfangs von
<a href="http://www.freebsd.org/de/">FreeBSD</a> geliehene und
größtenteils neugeschriebene Portskollektion füllt diese Lücke. Das
Konzept ist, für jede Software aus dritter Hand ein Makefile zu haben,
das Folgendes enthält:
<ul>
<li>woher man sie holt,
<li>wie man sie holt,
<li>von was sie abhängt (falls überhaupt),
<li>wie man den Quelltext ändert (wenn überhaupt),
<li>und wie man sie kompiliert, erzeugt und installiert.
</ul>
Diese Informationen werden in einer Verzeichnishierarchie unterhalb
/usr/ports vorgehalten.

<p>
Packages sind die ausführbaren (binären) Versionen der Ports. Ein
kompilierter Port wird zum Package, das im System auf einfache Weise
mittels <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html"
>pkg_add(1)</a> installiert und registriert werden kann.

<p>
<strong><font color="#e00000">
Packages sehen aus wie einfache <code>.tgz</code>-Archive, aber sie
sollten immer mit Hilfe von <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html"
>pkg_add(1)</a> hinzugefügt werden, da es noch weitere Informationen
geben könnte, die nur <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html"
>pkg_add(1)</a> sauber verarbeiten kann.</font></strong>
Tipp: Du kannst zwischen Packages und <strong>.tgz</strong>-Archiven mit
Hilfe von <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html"
>pkg_info(1)</a> unterscheiden.

<h3><font color="#0000e0"><a name="Get">Wo man Packages herbekommt</a></font></h3>

Eine große Sammlung vorkompilierter Packages ist für die meisten
Architekturen verfügbar:
<ul>
<li>Auf der CD-ROM (die du <a href="orders.html">hier</a> bestellen
    kannst),
<li>Auf den <a href=ftp.html>FTP-Mirrors</a>.
<li>Aus der Webpackage-Liste:
<ul>
<li><a href="http://www.openbsd.org/4.6_packages/">Packages für OpenBSD
    4.6</a>
<li><a href="http://www.openbsd.org/4.5_packages/">Packages für OpenBSD
    4.5</a>
<li><a href="http://www.openbsd.org/4.4_packages/">Packages für OpenBSD
    4.4</a>
</ul>
</ul>


Ein Package hinzuzufügen geht einfach mit
<code>pkg_add pkgname</code>. Wenn du Packages immer von einer
einzigen Quelle beziehst (einem Packagerepository), setze PKG_PATH auf
diese Repository-URL, um Abhängigkeiten aufzulösen.

<p>
Um zum Beispiel das Gimp-Package (und alle nötigen Abhängigkeiten) für
das 4.6-Release auf einer i386-Maschine direkt von der FTP-Site zu
installieren, gib Folgendes ein:

<pre>
    # export PKG_PATH=ftp://ftp.openbsd.org/pub/OpenBSD/4.6/packages/i386/
    # pkg_add gimp
</pre>

<h3><font color="#0000e0"><a name="stable">Ports- und Packagesupdate für
eine neue OpenBSD-Version</a></font></h3>
<p>
Zum ersten Mal gab es in der Version 2.7 einen stable-Branch für den
Ports-Tree.
<p>
Um jetzt zum Beispiel den stable-Branch für das 4.6-Release zu holen:
<pre>
    $ cd /usr/ports
    $ cvs -q -d anoncvs@some.anon.server:/cvs up -r OPENBSD_4_6 -Pd
</pre>
<p>
Beginnend mit der Version 2.8 wurden ausgewählte Packages ebenfalls
verfügbar gemacht. Bitte sieh dir die Seite <a
href="../pkg-stable.html">Stable Packages</a> an, um etwas über
aktualisierte Packages und wichtige Updates für den stable-Branch
herauszufinden. Wenn Du Sicherheitsankündigungen bekommen möchtest,
kannst du dich auf der ports-security-Mailingliste eintragen.
</p>
<p>
Packagenamen werden <strong>immer</strong> verändert, sobald ein
Package auf neueren Stand gebracht oder sonst wie verändert wird, um
jegliche Verwirrung zwischen einem Package der Originalversion und
einem Package zu vermeiden, in dem z.&nbsp;B. ein Fehler behoben wurde.
</p>


<h3><font color="#0000e0"><a name="Manage">Installierte Packages
verwalten</a></font></h3>

Die <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages&amp;sektion=7&amp;format=html"
>packages(7)</a>-Manualseite enthält nützliche Informationen über
verschiedene Wege, seine installierten Packages zu verwalten, Konflikte
zu lösen (Dateien, die bereits existieren) und Abhängigkeiten zu
behandeln.
<p>
Seit OpenBSD 3.9 stellt
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>
einen Updatemechanismus bereit.
Um ein Package (und dessen Abhängigkeiten) zu aktualisieren muss der
PKG_PATH auf eine URL zeigen, unter der Updates zu finden sind.
Benutze dann folgenden Befehl:
<code>pkg_add -ui pkgname</code>.

<h3><font color="#0000e0"><a name="Use">Ports benutzen</a></font></h3>

Wenn ein bestimmtes Package für deine Architektur nicht existiert, kannst
du normalerweise den Port trotzdem kompilieren. Außerdem werden einige
Anwender aus verschiedenen Gründen einfach alles aus dem Quelltext
kompilieren wollen.

<p>
Du kannst die offizielle Version per FTP aus dem Verzeichnis
 pub/OpenBSD/[Version] (dabei ist [Version] die Versionsnummer) von
allen <a href=ftp.html>FTP-Mirrors</a> holen. Die Releaseversionen sind
die, die wir mit unserer CD-ROM ausliefern und gründlicher als die
Snapshots getestet wurden. Weitere Informationen gibt es in der <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7&amp;format=html"
>ports(7)</a>-Manualseite.

<h3><font color="#0000e0"><a name="Life">Der Lebenszyklus des
Ports-Trees</a></font></h3>

<p>
Der Ports-Tree verändert sich ständig - wie der Rest von OpenBSD.

<p>
Der current-Ports-Tree <strong>kann nicht</strong> mit der zuletzt
veröffentlichten Version benutzt werden. Das hängt mit Änderungen
zusammen (typischerweise am port-make-Prozess), die Quelltexte des
Sourcetrees von OpenBSD-current benötigen.

<p>Der Ports-Tree arbeitet eigenständig. Die Aktualisierung eines
einzelnen Verzeichnisses muss nicht zwangsläufig klappen, da
Packageabhängigkeiten dich dazu zwingen können, große Teile deines
Ports-Trees zu aktualisieren und neu zu kompilieren. Es wird daher
allgemein empfohlen ports-current nicht zu folgen - es sei denn, man ist
bereit, sich mit verschiedenen Problemen herumzuschlagen.
<a href=mail.html>Mailinglisten</a> wie z.&nbsp;B.
<code>ports-changes@openbsd.org</code> oder
<code>tech@openbsd.org</code> sind vermutlich unverzichtbar.

<p>Es wird dir geraten, auf einer Produktionsmaschine ports-stable zu
verfolgen und einzusetzen: Wir werden versuchen, den stable-Ports-Tree
in Bezug auf Probleme auf dem Laufenden zu halten, genauso mit Binarys.

<p>Denk daran, dass verschwundene Distfiles kein Problem darstellen, da
ftp.openbsd.org das komplette Repository vorhält. Nicht einmal die
Änderung von Prüfsummen ist ein Problem: führe das Kommando
<pre>
       make checksum REFETCH=true
</pre>
aus, um sicherzustellen, dass du die korrekte Distfile für deinen
Ports-Tree bekommst.

Für Definitionen von <i>current</i> und <i>stable</i> siehe
<a href="../faq/faq5.html#Flavors">OpenBSDs Flavors</a>.


<p>
Eine Liste der <a href="../portsplus/index.html">täglichen
Änderungen</a> an ports und ports-current ist verfügbar.


<p>
Den current-Ports-Tree kann man sich wie folgt holen:
<ul>
<li><a href=anoncvs.html>Anonymous CVS</a> (siehe Link). Das Kommando
ist für gewöhnlich <strong>cvs get ports</strong>.
<li>Anonymous FTP von
    <a href="ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/ports.tar.gz"
    >ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/ports.tar.gz</a>.
    Dieses Archiv wird jede Nacht auf den neuesten Stand gebracht.
<li><a href="cvsup.html">CVSup</a>. Siehe auch das Beispiel zum Benutzen
    von CVSup im <a href="cvsup.html#checkout">Checkout-Modus</a>.
<li>Dein Webbrowser, indem du das
    <a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/"
    >CVS-Webinterface</a> benutzt.
</ul>

<h3><font color="#0000e0"><a name="X">Ports und das X Window
System</a></font></h3>

Es gibt einige spezielle magische Dinge in den
OpenBSD-X-Konfigurationsdateien, die es dem Ports-Tree erlauben,
imake-basierte Anwendungen unter /usr/local zu installieren.

<h3><a name="Example"></a><font color="#0000e0">Beispielbenutzung des
Ports-Trees</font></h3>

<p>
Gehen wir davon aus, du hast einen Ports-Tree und willst das
Archivierungswerkzeug <strong>unzip</strong> installieren und
kompilieren.  Diese Befehle sollten dir weiterhelfen können:

<pre>
    % cd /usr/ports/archivers/unzip
    % su
    # make install clean
    # exit
</pre>

Einfach, oder? Insbesondere, wenn man bedenkt, was alles im Hintergrund
passierte:
<ul>
<li>Herunterladen der unzip-Quellen von einer FTP-Site,
<li>Überprüfen der Integrität des Quellarchives,
<li>Entpacken der unzip-Quellen,
<li>Anwenden der OpenBSD-spezifischen Patches,
<li>Konfigurieren und Erzeugen des Programms,
<li>Erzeugen eines Packages unter /usr/ports/packages,
<li>Installieren dieses Packages.
</ul>

<p>
Mit OpenBSD 3.0 erzeugen die meisten Ports während der Installation
Packages.

<p>
Wenn Ports erzeugt werden, wird das /usr/ports/distfiles-Verzeichnis mit
Programmquelltext gefüllt und /usr/ports/packages wird mit Packages
gefüllt. Anwender mit geringer Bandbreite sollten sich <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mirroring-ports&amp;sektion=7&amp;format=html"
>mirroring-ports(7)</a> ansehen, um einen effizienten Weg
kennenzulernen, alle Distfiles auf einmal herunterzuladen. In
OpenBSD-current kannst du das Skript
/usr/ports/infrastructure/fetch/clean-old benutzen, um alte Distfiles zu
finden. Denk dran, dass die OpenBSD-CD nur den Ports-Tree und einige
ausgewählte Packages enthält. Wenn du nur die Distfiles haben willst,
musst du sie auf einem anderen Weg herunterladen.

<h3><font color="#0000e0"><a name="Advanced"></a>Der Ports-Tree für
Fortgeschrittene</font></h3>

<p>
Der Ports-Tree hat viele Funktionalitäten für den fortgeschrittenen
Anwender, die ihn auch nach der Basisinstallation zu einem wertvollen
Werkzeug machen. Fortgeschrittene Anwender wollen sich möglicherweise
mit den Makefiles beschäftigen (sie sollten zuerst die <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1&amp;format=html"
>make(1)</a>-Manualseite lesen) oder auch mit den verschiedenen
Variablen der make-Kommandozeile oder in <tt>/etc/mk.conf</tt>. Diese
Variablen sind detailliert in der <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&amp;sektion=5&amp;format=html"
>bsd.port.mk(5)</a>-Manualseite beschrieben, so wie in den unten
erwähnten Porting-Dokumenten.
</p>

<h3><font color="#0000e0"><a name="Create">Neue Ports
erstellen</a></font></h3>
<p>
Wenn du gerne mithelfen möchtest, den OpenBSD-Ports-Tree zu erweitern,
solltest du zuerst <a href="porting.html">porting.html</a> lesen.
Diese Seite verweist auf das <a
href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/porters-handbook/index.html"
>FreeBSD Porter's Handbook</a>
genauso wie auf OpenBSD-spezifische Verhaltensmaßregeln und Hinweise.

<h3><font color="#0000e0"><a name="Lag">Wenn ein Port der
Mainstream-Version hinterherhinkt</a></font></h3>

<p>
Die Portskollektion ist ein Projekt von Freiwilligen. Manchmal hat das
Projekt einfach nicht genügend Entwicklerressourcen, um alles auf dem
neuesten Stand zu halten. Die Entwickler kümmern sich um die Dinge, die
sie interessant finden und in ihrer Umgebung testen können. Deine <a
href="goals.html#funding">Spenden</a> entscheiden darüber, auf welchen
Plattformen die Ports getestet werden können.
</p>

<p>
Einige einzelne Ports können daher der allgemein üblichen
Mainstream-Version hinterherhinken. Die Portskollektion könnte
z.&nbsp;B. eine Version haben, die noch von Januar ist, obwohl die
Entwickler im Mai eine neue Version herausgebracht haben. Oftmals ist
das Absicht: die neue Version kann z.&nbsp;B. Probleme auf OpenBSD
erzeugen, die der Maintainer erst lösen will, oder die neue Version ist
einfach nur schlechter als die alte: OpenBSD kann auch ganz andere
<a href="goals.html">Ziele</a> als die Mainstream-Entwickler in anderen
Projekten haben, wodurch manchmal Features-, Design- oder
Implementationsentscheidungen getroffen werden, die aus Sicht der
OpenBSD-Entwickler nicht wünschenswert sind. Außerdem kann das Update
verzögert sein, weil die neue Version nichts wirklich Neues bringt.
</p>

<p>
Wenn du unbedingt die neue Version eines Ports brauchst, kannst du den
<tt>MAINTAINER</tt> des Ports darum bitten, ein Update durchzuführen
(siehe <a href="#Help">unten</a> wie man herausfindet, wer der
Maintainer ist). Wenn du Patches schicken kannst, dann umso besser.
Saubere Patches kannst du mit Hilfe der <a href="porting.html"
>Dokumentation über das Erzeugen von Ports</a> erstellen.
</p>

<h3><font color="#0000e0"><a name="Help">Probleme und
Kontakte</a></font></h3>

<p>
Wenn du Probleme mit einem bereits existierenden Port hast, schicke
bitte eine E-Mail an den Portmaintainer. Um herauszufinden, wer der
jeweilige Maintainer des Ports ist, gib z.&nbsp;B. Folgendes ein:
<pre>
       % cd /usr/ports/archivers/unzip
       % make show=MAINTAINER
</pre>
Wenn es keinen Maintainer gibt oder du ihn nicht erreichen kannst,
schicke eine E-Mail an die OpenBSD-Ports-Mailingliste
<a href="mailto:ports@openbsd.org">ports@openbsd.org</a>. Bitte benutze
die misc@openbsd.org-Mailingliste nicht für Fragen über Ports.
Verbesserungen sind jederzeit willkommen, aber in jedem Fall füge bitte
Folgendes bei:
<ul>
<li>Die Ausgabe von <code>uname -a</code>,
<li>Deine OpenBSD-Version inklusive jeglicher eingespielter Patches
<li>Eine komplette Beschreibung des Problems.
</ul>
Falls ein Port nicht richtig erzeugt wird, ist ein komplettes
Buildtranscript fast immer notwendig. Du kannst das portslogger-Skript
dafür benutzen, das sich in /usr/ports/infrastructure/build findet. Eine
Beispielausgabe von portslogger sieht so aus:

<pre>
       % cd /usr/ports/archivers/unzip
       % su
       # mkdir -p ~/portslogs
       # make clean install 2>&amp;1 | /usr/ports/infrastructure/build/portslogger \
               ~/portslogs
</pre>

Danach solltest du eine Logdatei deines Builds in deinem
~/portslogs-Verzeichnis haben, das du dem Portmaintainer schicken
kannst. Stelle aber sicher, dass du keine speziellen Optionen in deinem
Build benutzt, z.&nbsp;B. in /etc/mk.conf.

<p>
Alternativ dazu kannst du
<ul>
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=script&amp;sektion=1&amp;format=html"
>script(1)</a> benutzen, um eine komplette Buildaufzeichnung zu
erhalten. Nicht die configure-Informationen entfernen!
<li>die Ausgabe von <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html"
>pkg_info(1)</a> anhängen, wenn es auch nur im entferntesten sinnvoll
erscheint.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1&amp;format=html"
>gcc(1)</a> interne Kompilerfehler sollten an die gcc-Mailingliste
gesendet werden. Es spart Zeit, wenn du ihrer Richtlinie folgst und
zumindest die Daten mitlieferst, die <tt>gcc -save-temps</tt> ausgibt.
</ul>

<hr>
<a href="index.html"><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: ports.html,v 1.102 ]<br>
$Translation: ports.html,v 1.74 2009/11/08 18:32:18 tobias Exp $<br>
-->
$OpenBSD: ports.html,v 1.69 2009/11/08 22:09:17 tobias Exp $
</small>
</body>
</html>
