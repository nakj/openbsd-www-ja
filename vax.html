<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/vax</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/vax page">
<meta name="keywords" content="openbsd,vax">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2009 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/vax</font></h2>

<hr>

<p>
<a href="images/vax.jpg">
<img src="images/vax.jpg" width="350" height="467" align="right" alt="[nothing sucks like a vax]">
</a>
OpenBSD/vax runs on a large set of the VAX computers manufactured by
<a href="http://www.digital.com">Digital</a> (then Compaq, now Hewlett-Packard).

<p>
A mailing list dedicated to the OpenBSD/vax port is available at
<u><font color="#23238e">vax@openbsd.org</font></u>.
To join the OpenBSD/vax mailing list, send a message body of <b>"subscribe
vax"</b> to <a href="mailto:majordomo@openbsd.org">majordomo@openbsd.org</a>.
Please be sure to check our <a href="mail.html">mailing list policy</a> before
subscribing.

<p>
The current port maintainers are
<a href="mailto:bjc@cvs.openbsd.org">Brandon Creighton</a>
and <a href="mailto:hugh@cvs.openbsd.org">Hugh Graham</a>.
Others are definitely welcome to contribute!

<a name="toc"></a>
<h3><font color="#0000e0"><i>Table of contents</i></font></h3>
<p>
<ul>
  <li><a href="#history">History of the port</a>
  <li><a href="#status">Current status</a>
  <li><a href="#projects">Project list</a>
  <li><a href="#hardware">Supported hardware</a>
  <li><a href="#hwdocs">Documentation wanted</a>
  <li><a href="#install">Getting and installing OpenBSD/vax</a>
</ul>

<hr>
<a name="history"></a>
<h3><font color="#0000e0"><strong>History:</strong></font></h3>

<p>
VAX has been a supported OpenBSD architecture since early 2000, when code was
synchronized with NetBSD's port. Being the second architecture to run BSD Unix
(in 1979!), it seems appropriate that these venerable vaxen should still have
a modern OS.

<p>
The current codebase is mostly from Berkeley, with contributions of free
code from Digital, Mt Xinu, NetBSD, OpenBSD and others.

<p>
After the port was synchronized with the NetBSD codebase, fixes and improvements
were made, such as support for 16 partitions per drive, support for more VAX
models, improved emulation of unimplemented instructions, and so on.

<p>
Development is ongoing, and changes are shared among VAX hackers even to
this day. The result of this work is an operating system that is stable
and familiar to any OpenBSD user.

<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Current status:</strong></font></h3>

<p>
Currently, all the hardware listed in the
<a href="#hardware">supported hardware</a> section below boots
multi-user, and supports enough of the on-board devices to be generally
usable.
Some models can only run diskless at the moment, though.

<p>
As of OpenBSD 4.0, most of the VAXstation frame buffers are
supported.

<p>
Of course, regardless of frame buffer support, a complete set of X clients
and utilities is available, allowing OpenBSD/vax machines to behave as X11
font servers, or run X clients on remote display.

<p>
There a few problems still left in the OpenBSD/vax port, though:
<ul>
  <li>The current compiler sometimes has optimizer issues (i.e. gcc -O2
      produces incorrect code, while -O1 or -O0 work). They are slowly being
      worked on as we are aware of them. Most code should work nowadays.
  <li>Addressing limits in the pmap module. This can cause the kernel to panic.
      Some of these situations have been taken care of and fail gracefully,
      but there might be unfixed cases.
</ul>

<hr>
<a name="projects"></a>
<h3><font color="#0000e0"><strong>Projects (in no particular order):
</strong></font></h3>

<p>
<ul>
  <li>MSCP support may still be rough
  <li>Write and improve more frame buffer drivers
  <li>Move to ELF and shared libraries
  <li>Support for any new systems we encounter
</ul>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong>Supported hardware:</strong></font></h3>

<p>
The list of supported hardware below is not meant to be exhaustive.
Due to a limited inventory of systems available to developers,
not all hardware combinations have been tested.

<p>
As a result, OpenBSD/vax may actually run on your machine even if it's not
listed here, and we rely on your testing and feedback to keep this list up
to date.
To help us improve the accuracy of this list, <b>PLEASE</b>
<a href="faq/faq4.html#SendDmesg">send your dmesg</a> after installation
to <a href="mailto:dmesg@openbsd.org">dmesg@openbsd.org</a>.

<p>
<h4>Supported models</h4>

<p>
<ul>
  <li>VAXstation 2000
  <li>VAXstation 3100/{30,40} (<font color="#009900">SCSI</font>)
  <li>VAXstation 3100/{38,48} (<font color="#009900">SCSI</font>)
  <li>VAXstation 3100/76 (<font color="#009900">SCSI</font>)
  <li>VAXstation 35x0 and 38x0 (<font color="#009900">SCSI</font>)
  <li>VAXstation 4000/VLC (<font color="#009900">SCSI</font>)
  <li>VAXstation 4000/60 (<font color="#009900">SCSI</font>)
  <li>VAXstation 4000/90 (<font color="#009900">SCSI</font>)
  <li>VAXstation 4000/90A (<font color="#009900">SCSI</font>)
  <li>VAXstation 4000/96 (<font color="#009900">SCSI</font>)
  <li>MicroVAX 2000
  <li>MicroVAX 3100/{10,20}{,e} (<font color="#009900">SCSI</font>)
  <li>MicroVAX 3100/{30,40} (<font color="#009900">SCSI</font>)
  <li>MicroVAX 3100/80 (<font color="#009900">SCSI</font>)
  <li>MicroVAX 3100/85 (<font color="#009900">SCSI</font>)
  <li>MicroVAX 3100/90 (<font color="#009900">SCSI</font>)
  <li>MicroVAX 3100/95 (<font color="#009900">SCSI</font>)
  <li>MicroVAX 3100/96 (<font color="#009900">SCSI</font>)
  <li>MicroVAX 3300
  <li>VAX 4000 100 (<font color="#009900">SCSI</font>)
  <li>VAX 4000 105 (<font color="#009900">SCSI</font>)
  <li>VAX 4000 106 (<font color="#009900">SCSI</font>)
  <li>VAX 4000 200
  <li>VAX 4000 300 
  <li>VAX 4000 {400,500,600}
  <li>VAX 4000 {500A,700A}
  <li>VXT2000 and VXT2000+
  <li><a href="vax-simh.html">SIMH VAX</a>
</ul>

<p>
<h4>QBUS devices</h4>

<p>
<ul>
<li>KFQSA MSCP DSSI controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uda&amp;sektion=4&amp;arch=vax">uda</a>)
<li>Emulex UC08 MSCP SCSI controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uda&amp;sektion=4&amp;arch=vax">uda</a>)
<li>CXY08 DHV-11 emulating serial ports
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhu&amp;sektion=4&amp;arch=vax">dhu</a>)
<li>DELQA Ethernet
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qe&amp;sektion=4&amp;arch=vax">qe</a>)
</ul>

<p>
<h4>Ethernet controllers</h4>

<p>
<ul>
<li>on-board MicroVAX or VAXstation LANCE Ethernet
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=le&amp;sektion=4&amp;arch=vax">le</a>)
<li>DEC SGEC
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ze&amp;sektion=4&amp;arch=vax">ze</a>)
</ul>

<p>
<h4>SCSI controllers</h4>

<p>
<ul>
<li>NCR5380
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=asc&amp;sektion=4&amp;arch=vax">asc</a>)
on-board SCSI
<li>NCR53C9x
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ncr&amp;sektion=4&amp;arch=vax">ncr</a>)
on-board SCSI
<li>SII
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sii&amp;sektion=4&amp;arch=vax">sii</a>)
on-board SCSI on VAXstation 35x0/38x0 I/O module
</ul>
<p>
Either one of the first two controllers are found onboard most 3100s and
VAXstation 4000s, as well as the VAX 4000 10x series.

<p>
<h4>Serial ports</h4>

<p>
<ul>
<li>DZ*11 or compatible serial ports
(<a
 href="http://www.openbsd.org/cgi-bin/man.cgi?query=dz&amp;sektion=4&amp;arch=vax">dz</a>)
<li>SC26C94 serial ports on VXT2000
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=qsc&amp;sektion=4&amp;arch=vax">qsc</a>)
</ul>

<p>
<h4>Frame buffers</h4>

<p>
<ul>
<li>VAXstation 3100 on-board monochrome frame buffer
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smg&amp;sektion=4&amp;arch=vax">smg</a>)
<li>VAXstation 3100/{30,38,40,48} color frame buffer option
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gpx&amp;sektion=4&amp;arch=vax">gpx</a>)
<li>VAXstation 3100/76 SPX frame buffer, also available as an option for
VAXstation 3100/{30,38,40,48}
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcspx&amp;sektion=4&amp;arch=vax">lcspx</a>)
<li>VAXstation 35x0/38x0 frame buffer
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=legss&amp;sektion=4&amp;arch=vax">legss</a>),
without the 16 planes option
<li>VAXstation 4000/60 and 4000/VLC frame buffer
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcg&amp;sektion=4&amp;arch=vax">lcg</a>)
<li>VAXstation 4000/90 color frame buffer
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcspx&amp;sektion=4&amp;arch=vax">lcspx</a>)
<li>VXT2000 color frame buffer
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcspx&amp;sektion=4&amp;arch=vax">lcspx</a>)
</ul>

<p>
The VXT2000 monochrome frame buffer, the LEGSS 16 plane option and the
SPXg/SPXgt options for VAXstation 4000s are not supported yet.

<p>
<h4>Input devices</h4>

<p>
<ul>
<li>LK201 and LK401 keyboards
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lkkbd&amp;sektion=4&amp;arch=vax">lkkbd</a>)
<li>VSxxx mouse
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lkms&amp;sektion=4&amp;arch=vax">lkms</a>)
</ul>

<hr>
<a name="hwdocs"></a>
<h3><font color="#0000e0"><strong>Documentation wanted:</strong></font></h3>

<p>
<ul>
  <li>Programming info for LCG, SPX, and SPXg/SPXgt framebuffers
  <li>Software references for SHAC DSSI
  <li>Any edition VARM
</ul>

<hr>
<a name="install"></a>
<h3><font color="#0000e0">
<strong>Getting and installing OpenBSD/vax:</strong>
</font></h3>

<p>
The latest supported OpenBSD/vax release is
<a href="46.html">OpenBSD 4.6</a>.
Here are the
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/4.6/vax/INSTALL.vax">
OpenBSD/vax 4.6 installation instructions
</a>.

<p>
Snapshots are made available from time to time, in
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/vax">this location</a>
as well as in a few
<a href="ftp.html">mirrors</a>.
Here are the
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/vax/INSTALL.vax">
OpenBSD/vax snapshot installation instructions
</a> as well.

<hr>
<a href="plat.html">
<img height="24" width="24" src="back.gif" border="0" alt="Supported platforms">
</a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>$OpenBSD: vax.html,v 1.76 2009/10/23 21:41:27 dms Exp $</small>

</body>
</html>
